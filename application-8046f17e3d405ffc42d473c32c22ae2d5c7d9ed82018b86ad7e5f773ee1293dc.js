(()=>{var cC=Object.create;var Lh=Object.defineProperty;var uC=Object.getOwnPropertyDescriptor;var dC=Object.getOwnPropertyNames;var hC=Object.getPrototypeOf,fC=Object.prototype.hasOwnProperty;var gi=(n,t)=>()=>(n&&(t=n(n=0)),t);var zn=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports),de=(n,t)=>{for(var e in t)Lh(n,e,{get:t[e],enumerable:!0})},pC=(n,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of dC(t))!fC.call(n,r)&&r!==e&&Lh(n,r,{get:()=>t[r],enumerable:!(i=uC(t,r))||i.enumerable});return n};var vi=(n,t,e)=>(e=n!=null?cC(hC(n)):{},pC(t||!n||!n.__esModule?Lh(e,"default",{value:n,enumerable:!0}):e,n));var fr,pc=gi(()=>{fr={logger:self.console,WebSocket:self.WebSocket}});var he,Qs=gi(()=>{pc();he={log(...n){this.enabled&&(n.push(Date.now()),fr.logger.log("[ActionCable]",...n))}}});var ca,mc,ua,gc,ff=gi(()=>{Qs();ca=()=>new Date().getTime(),mc=n=>(ca()-n)/1e3,ua=class{constructor(t){this.visibilityDidChange=this.visibilityDidChange.bind(this),this.connection=t,this.reconnectAttempts=0}start(){this.isRunning()||(this.startedAt=ca(),delete this.stoppedAt,this.startPolling(),addEventListener("visibilitychange",this.visibilityDidChange),he.log(`ConnectionMonitor started. stale threshold = ${this.constructor.staleThreshold} s`))}stop(){this.isRunning()&&(this.stoppedAt=ca(),this.stopPolling(),removeEventListener("visibilitychange",this.visibilityDidChange),he.log("ConnectionMonitor stopped"))}isRunning(){return this.startedAt&&!this.stoppedAt}recordPing(){this.pingedAt=ca()}recordConnect(){this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,he.log("ConnectionMonitor recorded connect")}recordDisconnect(){this.disconnectedAt=ca(),he.log("ConnectionMonitor recorded disconnect")}startPolling(){this.stopPolling(),this.poll()}stopPolling(){clearTimeout(this.pollTimeout)}poll(){this.pollTimeout=setTimeout(()=>{this.reconnectIfStale(),this.poll()},this.getPollInterval())}getPollInterval(){let{staleThreshold:t,reconnectionBackoffRate:e}=this.constructor,i=Math.pow(1+e,Math.min(this.reconnectAttempts,10)),s=(this.reconnectAttempts===0?1:e)*Math.random();return t*1e3*i*(1+s)}reconnectIfStale(){this.connectionIsStale()&&(he.log(`ConnectionMonitor detected stale connection. reconnectAttempts = ${this.reconnectAttempts}, time stale = ${mc(this.refreshedAt)} s, stale threshold = ${this.constructor.staleThreshold} s`),this.reconnectAttempts++,this.disconnectedRecently()?he.log(`ConnectionMonitor skipping reopening recent disconnect. time disconnected = ${mc(this.disconnectedAt)} s`):(he.log("ConnectionMonitor reopening"),this.connection.reopen()))}get refreshedAt(){return this.pingedAt?this.pingedAt:this.startedAt}connectionIsStale(){return mc(this.refreshedAt)>this.constructor.staleThreshold}disconnectedRecently(){return this.disconnectedAt&&mc(this.disconnectedAt)<this.constructor.staleThreshold}visibilityDidChange(){document.visibilityState==="visible"&&setTimeout(()=>{(this.connectionIsStale()||!this.connection.isOpen())&&(he.log(`ConnectionMonitor reopening stale connection on visibilitychange. visibilityState = ${document.visibilityState}`),this.connection.reopen())},200)}};ua.staleThreshold=6;ua.reconnectionBackoffRate=.15;gc=ua});var da,pf=gi(()=>{da={message_types:{welcome:"welcome",disconnect:"disconnect",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},disconnect_reasons:{unauthorized:"unauthorized",invalid_request:"invalid_request",server_restart:"server_restart",remote:"remote"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]}});var ha,mf,CE,N0,fa,vc,gf=gi(()=>{pc();ff();pf();Qs();({message_types:ha,protocols:mf}=da),CE=mf.slice(0,mf.length-1),N0=[].indexOf,fa=class{constructor(t){this.open=this.open.bind(this),this.consumer=t,this.subscriptions=this.consumer.subscriptions,this.monitor=new gc(this),this.disconnected=!0}send(t){return this.isOpen()?(this.webSocket.send(JSON.stringify(t)),!0):!1}open(){if(this.isActive())return he.log(`Attempted to open WebSocket, but existing socket is ${this.getState()}`),!1;{let t=[...mf,...this.consumer.subprotocols||[]];return he.log(`Opening WebSocket, current state is ${this.getState()}, subprotocols: ${t}`),this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new fr.WebSocket(this.consumer.url,t),this.installEventHandlers(),this.monitor.start(),!0}}close({allowReconnect:t}={allowReconnect:!0}){if(t||this.monitor.stop(),this.isOpen())return this.webSocket.close()}reopen(){if(he.log(`Reopening WebSocket, current state is ${this.getState()}`),this.isActive())try{return this.close()}catch(t){he.log("Failed to reopen WebSocket",t)}finally{he.log(`Reopening WebSocket in ${this.constructor.reopenDelay}ms`),setTimeout(this.open,this.constructor.reopenDelay)}else return this.open()}getProtocol(){if(this.webSocket)return this.webSocket.protocol}isOpen(){return this.isState("open")}isActive(){return this.isState("open","connecting")}triedToReconnect(){return this.monitor.reconnectAttempts>0}isProtocolSupported(){return N0.call(CE,this.getProtocol())>=0}isState(...t){return N0.call(t,this.getState())>=0}getState(){if(this.webSocket){for(let t in fr.WebSocket)if(fr.WebSocket[t]===this.webSocket.readyState)return t.toLowerCase()}return null}installEventHandlers(){for(let t in this.events){let e=this.events[t].bind(this);this.webSocket[`on${t}`]=e}}uninstallEventHandlers(){for(let t in this.events)this.webSocket[`on${t}`]=function(){}}};fa.reopenDelay=500;fa.prototype.events={message(n){if(!this.isProtocolSupported())return;let{identifier:t,message:e,reason:i,reconnect:r,type:s}=JSON.parse(n.data);switch(s){case ha.welcome:return this.triedToReconnect()&&(this.reconnectAttempted=!0),this.monitor.recordConnect(),this.subscriptions.reload();case ha.disconnect:return he.log(`Disconnecting. Reason: ${i}`),this.close({allowReconnect:r});case ha.ping:return this.monitor.recordPing();case ha.confirmation:return this.subscriptions.confirmSubscription(t),this.reconnectAttempted?(this.reconnectAttempted=!1,this.subscriptions.notify(t,"connected",{reconnected:!0})):this.subscriptions.notify(t,"connected",{reconnected:!1});case ha.rejection:return this.subscriptions.reject(t);default:return this.subscriptions.notify(t,"received",e)}},open(){if(he.log(`WebSocket onopen event, using '${this.getProtocol()}' subprotocol`),this.disconnected=!1,!this.isProtocolSupported())return he.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close(n){if(he.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error(){he.log("WebSocket onerror event")}};vc=fa});var EE,Yr,vf=gi(()=>{EE=function(n,t){if(t!=null)for(let e in t){let i=t[e];n[e]=i}return n},Yr=class{constructor(t,e={},i){this.consumer=t,this.identifier=JSON.stringify(e),EE(this,i)}perform(t,e={}){return e.action=t,this.send(e)}send(t){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(t)})}unsubscribe(){return this.consumer.subscriptions.remove(this)}}});var bf,bc,yf=gi(()=>{Qs();bf=class{constructor(t){this.subscriptions=t,this.pendingSubscriptions=[]}guarantee(t){this.pendingSubscriptions.indexOf(t)==-1?(he.log(`SubscriptionGuarantor guaranteeing ${t.identifier}`),this.pendingSubscriptions.push(t)):he.log(`SubscriptionGuarantor already guaranteeing ${t.identifier}`),this.startGuaranteeing()}forget(t){he.log(`SubscriptionGuarantor forgetting ${t.identifier}`),this.pendingSubscriptions=this.pendingSubscriptions.filter(e=>e!==t)}startGuaranteeing(){this.stopGuaranteeing(),this.retrySubscribing()}stopGuaranteeing(){clearTimeout(this.retryTimeout)}retrySubscribing(){this.retryTimeout=setTimeout(()=>{this.subscriptions&&typeof this.subscriptions.subscribe=="function"&&this.pendingSubscriptions.map(t=>{he.log(`SubscriptionGuarantor resubscribing ${t.identifier}`),this.subscriptions.subscribe(t)})},500)}},bc=bf});var Kr,wf=gi(()=>{vf();yf();Qs();Kr=class{constructor(t){this.consumer=t,this.guarantor=new bc(this),this.subscriptions=[]}create(t,e){let i=t,r=typeof i=="object"?i:{channel:i},s=new Yr(this.consumer,r,e);return this.add(s)}add(t){return this.subscriptions.push(t),this.consumer.ensureActiveConnection(),this.notify(t,"initialized"),this.subscribe(t),t}remove(t){return this.forget(t),this.findAll(t.identifier).length||this.sendCommand(t,"unsubscribe"),t}reject(t){return this.findAll(t).map(e=>(this.forget(e),this.notify(e,"rejected"),e))}forget(t){return this.guarantor.forget(t),this.subscriptions=this.subscriptions.filter(e=>e!==t),t}findAll(t){return this.subscriptions.filter(e=>e.identifier===t)}reload(){return this.subscriptions.map(t=>this.subscribe(t))}notifyAll(t,...e){return this.subscriptions.map(i=>this.notify(i,t,...e))}notify(t,e,...i){let r;return typeof t=="string"?r=this.findAll(t):r=[t],r.map(s=>typeof s[e]=="function"?s[e](...i):void 0)}subscribe(t){this.sendCommand(t,"subscribe")&&this.guarantor.guarantee(t)}confirmSubscription(t){he.log(`Subscription confirmed ${t}`),this.findAll(t).map(e=>this.guarantor.forget(e))}sendCommand(t,e){let{identifier:i}=t;return this.consumer.send({command:e,identifier:i})}}});function xf(n){if(typeof n=="function"&&(n=n()),n&&!/^wss?:/i.test(n)){let t=document.createElement("a");return t.href=n,t.href=t.href,t.protocol=t.protocol.replace("http","ws"),t.href}else return n}var Zs,B0=gi(()=>{gf();wf();Zs=class{constructor(t){this._url=t,this.subscriptions=new Kr(this),this.connection=new vc(this),this.subprotocols=[]}get url(){return xf(this._url)}send(t){return this.connection.send(t)}connect(){return this.connection.open()}disconnect(){return this.connection.close({allowReconnect:!1})}ensureActiveConnection(){if(!this.connection.isActive())return this.connection.open()}addSubProtocol(t){this.subprotocols=[...this.subprotocols,t]}}});var $0={};de($0,{Connection:()=>vc,ConnectionMonitor:()=>gc,Consumer:()=>Zs,INTERNAL:()=>da,Subscription:()=>Yr,SubscriptionGuarantor:()=>bc,Subscriptions:()=>Kr,adapters:()=>fr,createConsumer:()=>kE,createWebSocketURL:()=>xf,getConfig:()=>j0,logger:()=>he});function kE(n=j0("url")||da.default_mount_path){return new Zs(n)}function j0(n){let t=document.head.querySelector(`meta[name='action-cable-${n}']`);if(t)return t.getAttribute("content")}var H0=gi(()=>{gf();ff();B0();pf();vf();wf();yf();pc();Qs()});var V1=zn((ol,pg)=>{(function(t,e){typeof ol=="object"&&typeof pg=="object"?pg.exports=e():typeof define=="function"&&define.amd?define([],e):typeof ol=="object"?ol.ClipboardJS=e():t.ClipboardJS=e()})(ol,function(){return function(){var n={686:function(i,r,s){"use strict";s.d(r,{default:function(){return q}});var o=s(279),a=s.n(o),l=s(370),u=s.n(l),c=s(817),d=s.n(c);function h(V){try{return document.execCommand(V)}catch{return!1}}var m=function(O){var $=d()(O);return h("cut"),$},v=m;function g(V){var O=document.documentElement.getAttribute("dir")==="rtl",$=document.createElement("textarea");$.style.fontSize="12pt",$.style.border="0",$.style.padding="0",$.style.margin="0",$.style.position="absolute",$.style[O?"right":"left"]="-9999px";var Z=window.pageYOffset||document.documentElement.scrollTop;return $.style.top="".concat(Z,"px"),$.setAttribute("readonly",""),$.value=V,$}var y=function(O,$){var Z=g(O);$.container.appendChild(Z);var J=d()(Z);return h("copy"),Z.remove(),J},x=function(O){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},Z="";return typeof O=="string"?Z=y(O,$):O instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(O?.type)?Z=y(O.value,$):(Z=d()(O),h("copy")),Z},A=x;function w(V){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?w=function($){return typeof $}:w=function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},w(V)}var p=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=O.action,Z=$===void 0?"copy":$,J=O.container,K=O.target,pt=O.text;if(Z!=="copy"&&Z!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(K!==void 0)if(K&&w(K)==="object"&&K.nodeType===1){if(Z==="copy"&&K.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(Z==="cut"&&(K.hasAttribute("readonly")||K.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(pt)return A(pt,{container:J});if(K)return Z==="cut"?v(K):A(K,{container:J})},_=p;function S(V){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S=function($){return typeof $}:S=function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},S(V)}function j(V,O){if(!(V instanceof O))throw new TypeError("Cannot call a class as a function")}function H(V,O){for(var $=0;$<O.length;$++){var Z=O[$];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(V,Z.key,Z)}}function Y(V,O,$){return O&&H(V.prototype,O),$&&H(V,$),V}function et(V,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");V.prototype=Object.create(O&&O.prototype,{constructor:{value:V,writable:!0,configurable:!0}}),O&&ot(V,O)}function ot(V,O){return ot=Object.setPrototypeOf||function(Z,J){return Z.__proto__=J,Z},ot(V,O)}function rt(V){var O=B();return function(){var Z=T(V),J;if(O){var K=T(this).constructor;J=Reflect.construct(Z,arguments,K)}else J=Z.apply(this,arguments);return dt(this,J)}}function dt(V,O){return O&&(S(O)==="object"||typeof O=="function")?O:st(V)}function st(V){if(V===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V}function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function T(V){return T=Object.setPrototypeOf?Object.getPrototypeOf:function($){return $.__proto__||Object.getPrototypeOf($)},T(V)}function L(V,O){var $="data-clipboard-".concat(V);if(O.hasAttribute($))return O.getAttribute($)}var F=function(V){et($,V);var O=rt($);function $(Z,J){var K;return j(this,$),K=O.call(this),K.resolveOptions(J),K.listenClick(Z),K}return Y($,[{key:"resolveOptions",value:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof J.action=="function"?J.action:this.defaultAction,this.target=typeof J.target=="function"?J.target:this.defaultTarget,this.text=typeof J.text=="function"?J.text:this.defaultText,this.container=S(J.container)==="object"?J.container:document.body}},{key:"listenClick",value:function(J){var K=this;this.listener=u()(J,"click",function(pt){return K.onClick(pt)})}},{key:"onClick",value:function(J){var K=J.delegateTarget||J.currentTarget,pt=this.action(K)||"copy",Ct=_({action:pt,container:this.container,target:this.target(K),text:this.text(K)});this.emit(Ct?"success":"error",{action:pt,text:Ct,trigger:K,clearSelection:function(){K&&K.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(J){return L("action",J)}},{key:"defaultTarget",value:function(J){var K=L("target",J);if(K)return document.querySelector(K)}},{key:"defaultText",value:function(J){return L("text",J)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(J){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return A(J,K)}},{key:"cut",value:function(J){return v(J)}},{key:"isSupported",value:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],K=typeof J=="string"?[J]:J,pt=!!document.queryCommandSupported;return K.forEach(function(Ct){pt=pt&&!!document.queryCommandSupported(Ct)}),pt}}]),$}(a()),q=F},828:function(i){var r=9;if(typeof Element<"u"&&!Element.prototype.matches){var s=Element.prototype;s.matches=s.matchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector||s.webkitMatchesSelector}function o(a,l){for(;a&&a.nodeType!==r;){if(typeof a.matches=="function"&&a.matches(l))return a;a=a.parentNode}}i.exports=o},438:function(i,r,s){var o=s(828);function a(c,d,h,m,v){var g=u.apply(this,arguments);return c.addEventListener(h,g,v),{destroy:function(){c.removeEventListener(h,g,v)}}}function l(c,d,h,m,v){return typeof c.addEventListener=="function"?a.apply(null,arguments):typeof h=="function"?a.bind(null,document).apply(null,arguments):(typeof c=="string"&&(c=document.querySelectorAll(c)),Array.prototype.map.call(c,function(g){return a(g,d,h,m,v)}))}function u(c,d,h,m){return function(v){v.delegateTarget=o(v.target,d),v.delegateTarget&&m.call(c,v)}}i.exports=l},879:function(i,r){r.node=function(s){return s!==void 0&&s instanceof HTMLElement&&s.nodeType===1},r.nodeList=function(s){var o=Object.prototype.toString.call(s);return s!==void 0&&(o==="[object NodeList]"||o==="[object HTMLCollection]")&&"length"in s&&(s.length===0||r.node(s[0]))},r.string=function(s){return typeof s=="string"||s instanceof String},r.fn=function(s){var o=Object.prototype.toString.call(s);return o==="[object Function]"}},370:function(i,r,s){var o=s(879),a=s(438);function l(h,m,v){if(!h&&!m&&!v)throw new Error("Missing required arguments");if(!o.string(m))throw new TypeError("Second argument must be a String");if(!o.fn(v))throw new TypeError("Third argument must be a Function");if(o.node(h))return u(h,m,v);if(o.nodeList(h))return c(h,m,v);if(o.string(h))return d(h,m,v);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function u(h,m,v){return h.addEventListener(m,v),{destroy:function(){h.removeEventListener(m,v)}}}function c(h,m,v){return Array.prototype.forEach.call(h,function(g){g.addEventListener(m,v)}),{destroy:function(){Array.prototype.forEach.call(h,function(g){g.removeEventListener(m,v)})}}}function d(h,m,v){return a(document.body,h,m,v)}i.exports=l},817:function(i){function r(s){var o;if(s.nodeName==="SELECT")s.focus(),o=s.value;else if(s.nodeName==="INPUT"||s.nodeName==="TEXTAREA"){var a=s.hasAttribute("readonly");a||s.setAttribute("readonly",""),s.select(),s.setSelectionRange(0,s.value.length),a||s.removeAttribute("readonly"),o=s.value}else{s.hasAttribute("contenteditable")&&s.focus();var l=window.getSelection(),u=document.createRange();u.selectNodeContents(s),l.removeAllRanges(),l.addRange(u),o=l.toString()}return o}i.exports=r},279:function(i){function r(){}r.prototype={on:function(s,o,a){var l=this.e||(this.e={});return(l[s]||(l[s]=[])).push({fn:o,ctx:a}),this},once:function(s,o,a){var l=this;function u(){l.off(s,u),o.apply(a,arguments)}return u._=o,this.on(s,u,a)},emit:function(s){var o=[].slice.call(arguments,1),a=((this.e||(this.e={}))[s]||[]).slice(),l=0,u=a.length;for(l;l<u;l++)a[l].fn.apply(a[l].ctx,o);return this},off:function(s,o){var a=this.e||(this.e={}),l=a[s],u=[];if(l&&o)for(var c=0,d=l.length;c<d;c++)l[c].fn!==o&&l[c].fn._!==o&&u.push(l[c]);return u.length?a[s]=u:delete a[s],this}},i.exports=r,i.exports.TinyEmitter=r}},t={};function e(i){if(t[i])return t[i].exports;var r=t[i]={exports:{}};return n[i](r,r.exports,e),r.exports}return function(){e.n=function(i){var r=i&&i.__esModule?function(){return i.default}:function(){return i};return e.d(r,{a:r}),r}}(),function(){e.d=function(i,r){for(var s in r)e.o(r,s)&&!e.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:r[s]})}}(),function(){e.o=function(i,r){return Object.prototype.hasOwnProperty.call(i,r)}}(),e(686)}().default})});var LS=zn((mv,gv)=>{(function(n,t){typeof mv=="object"&&typeof gv<"u"?gv.exports=t():typeof define=="function"&&define.amd?define(t):(n=n||self).Tribute=t()})(mv,function(){"use strict";function n(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function t(u,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}function e(u,c,d){return c&&t(u.prototype,c),d&&t(u,d),u}function i(u,c){return function(d){if(Array.isArray(d))return d}(u)||function(d,h){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]"){var m=[],v=!0,g=!1,y=void 0;try{for(var x,A=d[Symbol.iterator]();!(v=(x=A.next()).done)&&(m.push(x.value),!h||m.length!==h);v=!0);}catch(w){g=!0,y=w}finally{try{v||A.return==null||A.return()}finally{if(g)throw y}}return m}}(u,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}if(Array.prototype.find||(Array.prototype.find=function(u){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof u!="function")throw new TypeError("predicate must be a function");for(var c,d=Object(this),h=d.length>>>0,m=arguments[1],v=0;v<h;v++)if(c=d[v],u.call(m,c,v,d))return c}),window&&typeof window.CustomEvent!="function"){var r=function(u,c){c=c||{bubbles:!1,cancelable:!1,detail:void 0};var d=document.createEvent("CustomEvent");return d.initCustomEvent(u,c.bubbles,c.cancelable,c.detail),d};window.Event!==void 0&&(r.prototype=window.Event.prototype),window.CustomEvent=r}var s=function(){function u(c){n(this,u),this.tribute=c,this.tribute.events=this}return e(u,[{key:"bind",value:function(c){c.boundKeydown=this.keydown.bind(c,this),c.boundKeyup=this.keyup.bind(c,this),c.boundInput=this.input.bind(c,this),c.addEventListener("keydown",c.boundKeydown,!1),c.addEventListener("keyup",c.boundKeyup,!1),c.addEventListener("input",c.boundInput,!1)}},{key:"unbind",value:function(c){c.removeEventListener("keydown",c.boundKeydown,!1),c.removeEventListener("keyup",c.boundKeyup,!1),c.removeEventListener("input",c.boundInput,!1),delete c.boundKeydown,delete c.boundKeyup,delete c.boundInput}},{key:"keydown",value:function(c,d){c.shouldDeactivate(d)&&(c.tribute.isActive=!1,c.tribute.hideMenu());var h=this;c.commandEvent=!1,u.keys().forEach(function(m){m.key===d.keyCode&&(c.commandEvent=!0,c.callbacks()[m.value.toLowerCase()](d,h))})}},{key:"input",value:function(c,d){c.inputEvent=!0,c.keyup.call(this,c,d)}},{key:"click",value:function(c,d){var h=c.tribute;if(h.menu&&h.menu.contains(d.target)){var m=d.target;for(d.preventDefault(),d.stopPropagation();m.nodeName.toLowerCase()!=="li";)if(!(m=m.parentNode)||m===h.menu)throw new Error("cannot find the <li> container for the click");h.selectItemAtIndex(m.getAttribute("data-index"),d),h.hideMenu()}else h.current.element&&!h.current.externalTrigger&&(h.current.externalTrigger=!1,setTimeout(function(){return h.hideMenu()}))}},{key:"keyup",value:function(c,d){if(c.inputEvent&&(c.inputEvent=!1),c.updateSelection(this),d.keyCode!==27){if(!c.tribute.allowSpaces&&c.tribute.hasTrailingSpace)return c.tribute.hasTrailingSpace=!1,c.commandEvent=!0,void c.callbacks().space(d,this);if(!c.tribute.isActive)if(c.tribute.autocompleteMode)c.callbacks().triggerChar(d,this,"");else{var h=c.getKeyCode(c,this,d);if(isNaN(h)||!h)return;var m=c.tribute.triggers().find(function(v){return v.charCodeAt(0)===h});m!==void 0&&c.callbacks().triggerChar(d,this,m)}c.tribute.current.mentionText.length<c.tribute.current.collection.menuShowMinLength||((c.tribute.current.trigger||c.tribute.autocompleteMode)&&c.commandEvent===!1||c.tribute.isActive&&d.keyCode===8)&&c.tribute.showMenuFor(this,!0)}}},{key:"shouldDeactivate",value:function(c){if(!this.tribute.isActive)return!1;if(this.tribute.current.mentionText.length===0){var d=!1;return u.keys().forEach(function(h){c.keyCode===h.key&&(d=!0)}),!d}return!1}},{key:"getKeyCode",value:function(c,d,h){var m=c.tribute,v=m.range.getTriggerInfo(!1,m.hasTrailingSpace,!0,m.allowSpaces,m.autocompleteMode);return!!v&&v.mentionTriggerChar.charCodeAt(0)}},{key:"updateSelection",value:function(c){this.tribute.current.element=c;var d=this.tribute.range.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);d&&(this.tribute.current.selectedPath=d.mentionSelectedPath,this.tribute.current.mentionText=d.mentionText,this.tribute.current.selectedOffset=d.mentionSelectedOffset)}},{key:"callbacks",value:function(){var c=this;return{triggerChar:function(d,h,m){var v=c.tribute;v.current.trigger=m;var g=v.collection.find(function(y){return y.trigger===m});v.current.collection=g,v.current.mentionText.length>=v.current.collection.menuShowMinLength&&v.inputEvent&&v.showMenuFor(h,!0)},enter:function(d,h){c.tribute.isActive&&c.tribute.current.filteredItems&&(d.preventDefault(),d.stopPropagation(),setTimeout(function(){c.tribute.selectItemAtIndex(c.tribute.menuSelected,d),c.tribute.hideMenu()},0))},escape:function(d,h){c.tribute.isActive&&(d.preventDefault(),d.stopPropagation(),c.tribute.isActive=!1,c.tribute.hideMenu())},tab:function(d,h){c.callbacks().enter(d,h)},space:function(d,h){c.tribute.isActive&&(c.tribute.spaceSelectsMatch?c.callbacks().enter(d,h):c.tribute.allowSpaces||(d.stopPropagation(),setTimeout(function(){c.tribute.hideMenu(),c.tribute.isActive=!1},0)))},up:function(d,h){if(c.tribute.isActive&&c.tribute.current.filteredItems){d.preventDefault(),d.stopPropagation();var m=c.tribute.current.filteredItems.length,v=c.tribute.menuSelected;m>v&&v>0?(c.tribute.menuSelected--,c.setActiveLi()):v===0&&(c.tribute.menuSelected=m-1,c.setActiveLi(),c.tribute.menu.scrollTop=c.tribute.menu.scrollHeight)}},down:function(d,h){if(c.tribute.isActive&&c.tribute.current.filteredItems){d.preventDefault(),d.stopPropagation();var m=c.tribute.current.filteredItems.length-1,v=c.tribute.menuSelected;m>v?(c.tribute.menuSelected++,c.setActiveLi()):m===v&&(c.tribute.menuSelected=0,c.setActiveLi(),c.tribute.menu.scrollTop=0)}},delete:function(d,h){c.tribute.isActive&&c.tribute.current.mentionText.length<1?c.tribute.hideMenu():c.tribute.isActive&&c.tribute.showMenuFor(h)}}}},{key:"setActiveLi",value:function(c){var d=this.tribute.menu.querySelectorAll("li"),h=d.length>>>0;c&&(this.tribute.menuSelected=parseInt(c));for(var m=0;m<h;m++){var v=d[m];if(m===this.tribute.menuSelected){v.classList.add(this.tribute.current.collection.selectClass);var g=v.getBoundingClientRect(),y=this.tribute.menu.getBoundingClientRect();if(g.bottom>y.bottom){var x=g.bottom-y.bottom;this.tribute.menu.scrollTop+=x}else if(g.top<y.top){var A=y.top-g.top;this.tribute.menu.scrollTop-=A}}else v.classList.remove(this.tribute.current.collection.selectClass)}}},{key:"getFullHeight",value:function(c,d){var h=c.getBoundingClientRect().height;if(d){var m=c.currentStyle||window.getComputedStyle(c);return h+parseFloat(m.marginTop)+parseFloat(m.marginBottom)}return h}}],[{key:"keys",value:function(){return[{key:9,value:"TAB"},{key:8,value:"DELETE"},{key:13,value:"ENTER"},{key:27,value:"ESCAPE"},{key:32,value:"SPACE"},{key:38,value:"UP"},{key:40,value:"DOWN"}]}}]),u}(),o=function(){function u(c){n(this,u),this.tribute=c,this.tribute.menuEvents=this,this.menu=this.tribute.menu}return e(u,[{key:"bind",value:function(c){var d=this;this.menuClickEvent=this.tribute.events.click.bind(null,this),this.menuContainerScrollEvent=this.debounce(function(){d.tribute.isActive&&d.tribute.showMenuFor(d.tribute.current.element,!1)},300,!1),this.windowResizeEvent=this.debounce(function(){d.tribute.isActive&&d.tribute.range.positionMenuAtCaret(!0)},300,!1),this.tribute.range.getDocument().addEventListener("MSPointerDown",this.menuClickEvent,!1),this.tribute.range.getDocument().addEventListener("mousedown",this.menuClickEvent,!1),window.addEventListener("resize",this.windowResizeEvent),this.menuContainer?this.menuContainer.addEventListener("scroll",this.menuContainerScrollEvent,!1):window.addEventListener("scroll",this.menuContainerScrollEvent)}},{key:"unbind",value:function(c){this.tribute.range.getDocument().removeEventListener("mousedown",this.menuClickEvent,!1),this.tribute.range.getDocument().removeEventListener("MSPointerDown",this.menuClickEvent,!1),window.removeEventListener("resize",this.windowResizeEvent),this.menuContainer?this.menuContainer.removeEventListener("scroll",this.menuContainerScrollEvent,!1):window.removeEventListener("scroll",this.menuContainerScrollEvent)}},{key:"debounce",value:function(c,d,h){var m,v=arguments,g=this;return function(){var y=g,x=v,A=h&&!m;clearTimeout(m),m=setTimeout(function(){m=null,h||c.apply(y,x)},d),A&&c.apply(y,x)}}}]),u}(),a=function(){function u(c){n(this,u),this.tribute=c,this.tribute.range=this}return e(u,[{key:"getDocument",value:function(){var c;return this.tribute.current.collection&&(c=this.tribute.current.collection.iframe),c?c.contentWindow.document:document}},{key:"positionMenuAtCaret",value:function(c){var d,h=this,m=this.tribute.current,v=this.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(v!==void 0){if(!this.tribute.positionMenu)return void(this.tribute.menu.style.cssText="display: block;");d=this.isContentEditable(m.element)?this.getContentEditableCaretPosition(v.mentionPosition):this.getTextAreaOrInputUnderlinePosition(this.tribute.current.element,v.mentionPosition),this.tribute.menu.style.cssText="top: ".concat(d.top,`px;
                                     left: `).concat(d.left,`px;
                                     right: `).concat(d.right,`px;
                                     bottom: `).concat(d.bottom,`px;
                                     position: absolute;
                                     display: block;`),d.left==="auto"&&(this.tribute.menu.style.left="auto"),d.top==="auto"&&(this.tribute.menu.style.top="auto"),c&&this.scrollIntoView(),window.setTimeout(function(){var g={width:h.tribute.menu.offsetWidth,height:h.tribute.menu.offsetHeight},y=h.isMenuOffScreen(d,g),x=window.innerWidth>g.width&&(y.left||y.right),A=window.innerHeight>g.height&&(y.top||y.bottom);(x||A)&&(h.tribute.menu.style.cssText="display: none",h.positionMenuAtCaret(c))},0)}else this.tribute.menu.style.cssText="display: none"}},{key:"selectElement",value:function(c,d,h){var m,v=c;if(d)for(var g=0;g<d.length;g++){if((v=v.childNodes[d[g]])===void 0)return;for(;v.length<h;)h-=v.length,v=v.nextSibling;v.childNodes.length!==0||v.length||(v=v.previousSibling)}var y=this.getWindowSelection();(m=this.getDocument().createRange()).setStart(v,h),m.setEnd(v,h),m.collapse(!0);try{y.removeAllRanges()}catch{}y.addRange(m),c.focus()}},{key:"replaceTriggerText",value:function(c,d,h,m,v){var g=this.getTriggerInfo(!0,h,d,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(g!==void 0){var y=this.tribute.current,x=new CustomEvent("tribute-replaced",{detail:{item:v,instance:y,context:g,event:m}});if(this.isContentEditable(y.element)){c+=typeof this.tribute.replaceTextSuffix=="string"?this.tribute.replaceTextSuffix:"\xA0";var A=g.mentionPosition+g.mentionText.length;this.tribute.autocompleteMode||(A+=g.mentionTriggerChar.length),this.pasteHtml(c,g.mentionPosition,A)}else{var w=this.tribute.current.element,p=typeof this.tribute.replaceTextSuffix=="string"?this.tribute.replaceTextSuffix:" ";c+=p;var _=g.mentionPosition,S=g.mentionPosition+g.mentionText.length+p.length;this.tribute.autocompleteMode||(S+=g.mentionTriggerChar.length-1),w.value=w.value.substring(0,_)+c+w.value.substring(S,w.value.length),w.selectionStart=_+c.length,w.selectionEnd=_+c.length}y.element.dispatchEvent(new CustomEvent("input",{bubbles:!0})),y.element.dispatchEvent(x)}}},{key:"pasteHtml",value:function(c,d,h){var m,v;v=this.getWindowSelection(),(m=this.getDocument().createRange()).setStart(v.anchorNode,d),m.setEnd(v.anchorNode,h),m.deleteContents();var g=this.getDocument().createElement("div");g.innerHTML=c;for(var y,x,A=this.getDocument().createDocumentFragment();y=g.firstChild;)x=A.appendChild(y);m.insertNode(A),x&&((m=m.cloneRange()).setStartAfter(x),m.collapse(!0),v.removeAllRanges(),v.addRange(m))}},{key:"getWindowSelection",value:function(){return this.tribute.collection.iframe?this.tribute.collection.iframe.contentWindow.getSelection():window.getSelection()}},{key:"getNodePositionInParent",value:function(c){if(c.parentNode===null)return 0;for(var d=0;d<c.parentNode.childNodes.length;d++)if(c.parentNode.childNodes[d]===c)return d}},{key:"getContentEditableSelectedPath",value:function(c){var d=this.getWindowSelection(),h=d.anchorNode,m=[];if(h!=null){for(var v,g=h.contentEditable;h!==null&&g!=="true";)v=this.getNodePositionInParent(h),m.push(v),(h=h.parentNode)!==null&&(g=h.contentEditable);return m.reverse(),{selected:h,path:m,offset:d.getRangeAt(0).startOffset}}}},{key:"getTextPrecedingCurrentSelection",value:function(){var c=this.tribute.current,d="";if(this.isContentEditable(c.element)){var h=this.getWindowSelection().anchorNode;if(h!=null){var m=h.textContent,v=this.getWindowSelection().getRangeAt(0).startOffset;m&&v>=0&&(d=m.substring(0,v))}}else{var g=this.tribute.current.element;if(g){var y=g.selectionStart;g.value&&y>=0&&(d=g.value.substring(0,y))}}return d}},{key:"getLastWordInText",value:function(c){var d=(c=c.replace(/\u00A0/g," ")).split(/\s+/);return d[d.length-1].trim()}},{key:"getTriggerInfo",value:function(c,d,h,m,v){var g,y,x,A=this,w=this.tribute.current;if(this.isContentEditable(w.element)){var p=this.getContentEditableSelectedPath(w);p&&(g=p.selected,y=p.path,x=p.offset)}else g=this.tribute.current.element;var _=this.getTextPrecedingCurrentSelection(),S=this.getLastWordInText(_);if(v)return{mentionPosition:_.length-S.length,mentionText:S,mentionSelectedElement:g,mentionSelectedPath:y,mentionSelectedOffset:x};if(_!=null){var j,H=-1;if(this.tribute.collection.forEach(function(dt){var st=dt.trigger,B=dt.requireLeadingSpace?A.lastIndexWithLeadingSpace(_,st):_.lastIndexOf(st);B>H&&(H=B,j=st,h=dt.requireLeadingSpace)}),H>=0&&(H===0||!h||/[\xA0\s]/g.test(_.substring(H-1,H)))){var Y=_.substring(H+j.length,_.length);j=_.substring(H,H+j.length);var et=Y.substring(0,1),ot=Y.length>0&&(et===" "||et==="\xA0");d&&(Y=Y.trim());var rt=m?/[^\S ]/g:/[\xA0\s]/g;if(this.tribute.hasTrailingSpace=rt.test(Y),!ot&&(c||!rt.test(Y)))return{mentionPosition:H,mentionText:Y,mentionSelectedElement:g,mentionSelectedPath:y,mentionSelectedOffset:x,mentionTriggerChar:j}}}}},{key:"lastIndexWithLeadingSpace",value:function(c,d){for(var h=c.split("").reverse().join(""),m=-1,v=0,g=c.length;v<g;v++){for(var y=v===c.length-1,x=/\s/.test(h[v+1]),A=!0,w=d.length-1;w>=0;w--)if(d[w]!==h[v-w]){A=!1;break}if(A&&(y||x)){m=c.length-1-v;break}}return m}},{key:"isContentEditable",value:function(c){return c.nodeName!=="INPUT"&&c.nodeName!=="TEXTAREA"}},{key:"isMenuOffScreen",value:function(c,d){var h=window.innerWidth,m=window.innerHeight,v=document.documentElement,g=(window.pageXOffset||v.scrollLeft)-(v.clientLeft||0),y=(window.pageYOffset||v.scrollTop)-(v.clientTop||0),x=typeof c.top=="number"?c.top:y+m-c.bottom-d.height,A=typeof c.right=="number"?c.right:c.left+d.width,w=typeof c.bottom=="number"?c.bottom:c.top+d.height,p=typeof c.left=="number"?c.left:g+h-c.right-d.width;return{top:x<Math.floor(y),right:A>Math.ceil(g+h),bottom:w>Math.ceil(y+m),left:p<Math.floor(g)}}},{key:"getMenuDimensions",value:function(){var c={width:null,height:null};return this.tribute.menu.style.cssText=`top: 0px;
                                 left: 0px;
                                 position: fixed;
                                 display: block;
                                 visibility; hidden;`,c.width=this.tribute.menu.offsetWidth,c.height=this.tribute.menu.offsetHeight,this.tribute.menu.style.cssText="display: none;",c}},{key:"getTextAreaOrInputUnderlinePosition",value:function(c,d,h){var m=window.mozInnerScreenX!==null,v=this.getDocument().createElement("div");v.id="input-textarea-caret-position-mirror-div",this.getDocument().body.appendChild(v);var g=v.style,y=window.getComputedStyle?getComputedStyle(c):c.currentStyle;g.whiteSpace="pre-wrap",c.nodeName!=="INPUT"&&(g.wordWrap="break-word"),g.position="absolute",g.visibility="hidden",["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"].forEach(function(B){g[B]=y[B]}),m?(g.width="".concat(parseInt(y.width)-2,"px"),c.scrollHeight>parseInt(y.height)&&(g.overflowY="scroll")):g.overflow="hidden",v.textContent=c.value.substring(0,d),c.nodeName==="INPUT"&&(v.textContent=v.textContent.replace(/\s/g,"\xA0"));var x=this.getDocument().createElement("span");x.textContent=c.value.substring(d)||".",v.appendChild(x);var A=c.getBoundingClientRect(),w=document.documentElement,p=(window.pageXOffset||w.scrollLeft)-(w.clientLeft||0),_=(window.pageYOffset||w.scrollTop)-(w.clientTop||0),S=0,j=0;this.menuContainerIsBody&&(S=A.top,j=A.left);var H={top:S+_+x.offsetTop+parseInt(y.borderTopWidth)+parseInt(y.fontSize)-c.scrollTop,left:j+p+x.offsetLeft+parseInt(y.borderLeftWidth)},Y=window.innerWidth,et=window.innerHeight,ot=this.getMenuDimensions(),rt=this.isMenuOffScreen(H,ot);rt.right&&(H.right=Y-H.left,H.left="auto");var dt=this.tribute.menuContainer?this.tribute.menuContainer.offsetHeight:this.getDocument().body.offsetHeight;if(rt.bottom){var st=dt-(et-(this.tribute.menuContainer?this.tribute.menuContainer.getBoundingClientRect():this.getDocument().body.getBoundingClientRect()).top);H.bottom=st+(et-A.top-x.offsetTop),H.top="auto"}return(rt=this.isMenuOffScreen(H,ot)).left&&(H.left=Y>ot.width?p+Y-ot.width:p,delete H.right),rt.top&&(H.top=et>ot.height?_+et-ot.height:_,delete H.bottom),this.getDocument().body.removeChild(v),H}},{key:"getContentEditableCaretPosition",value:function(c){var d,h=this.getWindowSelection();(d=this.getDocument().createRange()).setStart(h.anchorNode,c),d.setEnd(h.anchorNode,c),d.collapse(!1);var m=d.getBoundingClientRect(),v=document.documentElement,g=(window.pageXOffset||v.scrollLeft)-(v.clientLeft||0),y=(window.pageYOffset||v.scrollTop)-(v.clientTop||0),x={left:m.left+g,top:m.top+m.height+y},A=window.innerWidth,w=window.innerHeight,p=this.getMenuDimensions(),_=this.isMenuOffScreen(x,p);_.right&&(x.left="auto",x.right=A-m.left-g);var S=this.tribute.menuContainer?this.tribute.menuContainer.offsetHeight:this.getDocument().body.offsetHeight;if(_.bottom){var j=S-(w-(this.tribute.menuContainer?this.tribute.menuContainer.getBoundingClientRect():this.getDocument().body.getBoundingClientRect()).top);x.top="auto",x.bottom=j+(w-m.top)}return(_=this.isMenuOffScreen(x,p)).left&&(x.left=A>p.width?g+A-p.width:g,delete x.right),_.top&&(x.top=w>p.height?y+w-p.height:y,delete x.bottom),this.menuContainerIsBody||(x.left=x.left?x.left-this.tribute.menuContainer.offsetLeft:x.left,x.top=x.top?x.top-this.tribute.menuContainer.offsetTop:x.top),x}},{key:"scrollIntoView",value:function(c){var d,h=this.menu;if(h!==void 0){for(;d===void 0||d.height===0;)if((d=h.getBoundingClientRect()).height===0&&((h=h.childNodes[0])===void 0||!h.getBoundingClientRect))return;var m=d.top,v=m+d.height;if(m<0)window.scrollTo(0,window.pageYOffset+d.top-20);else if(v>window.innerHeight){var g=window.pageYOffset+d.top-20;g-window.pageYOffset>100&&(g=window.pageYOffset+100);var y=window.pageYOffset-(window.innerHeight-v);y>g&&(y=g),window.scrollTo(0,y)}}}},{key:"menuContainerIsBody",get:function(){return this.tribute.menuContainer===document.body||!this.tribute.menuContainer}}]),u}(),l=function(){function u(c){n(this,u),this.tribute=c,this.tribute.search=this}return e(u,[{key:"simpleFilter",value:function(c,d){var h=this;return d.filter(function(m){return h.test(c,m)})}},{key:"test",value:function(c,d){return this.match(c,d)!==null}},{key:"match",value:function(c,d,h){h=h||{},d.length;var m=h.pre||"",v=h.post||"",g=h.caseSensitive&&d||d.toLowerCase();if(h.skip)return{rendered:d,score:0};c=h.caseSensitive&&c||c.toLowerCase();var y=this.traverse(g,c,0,0,[]);return y?{rendered:this.render(d,y.cache,m,v),score:y.score}:null}},{key:"traverse",value:function(c,d,h,m,v){if(d.length===m)return{score:this.calculateScore(v),cache:v.slice()};if(!(c.length===h||d.length-m>c.length-h)){for(var g,y,x=d[m],A=c.indexOf(x,h);A>-1;){if(v.push(A),y=this.traverse(c,d,A+1,m+1,v),v.pop(),!y)return g;(!g||g.score<y.score)&&(g=y),A=c.indexOf(x,A+1)}return g}}},{key:"calculateScore",value:function(c){var d=0,h=1;return c.forEach(function(m,v){v>0&&(c[v-1]+1===m?h+=h+1:h=1),d+=h}),d}},{key:"render",value:function(c,d,h,m){var v=c.substring(0,d[0]);return d.forEach(function(g,y){v+=h+c[g]+m+c.substring(g+1,d[y+1]?d[y+1]:c.length)}),v}},{key:"filter",value:function(c,d,h){var m=this;return h=h||{},d.reduce(function(v,g,y,x){var A=g;h.extract&&((A=h.extract(g))||(A=""));var w=m.match(c,A,h);return w!=null&&(v[v.length]={string:w.rendered,score:w.score,index:y,original:g}),v},[]).sort(function(v,g){var y=g.score-v.score;return y||v.index-g.index})}}]),u}();return function(){function u(c){var d,h=this,m=c.values,v=m===void 0?null:m,g=c.iframe,y=g===void 0?null:g,x=c.selectClass,A=x===void 0?"highlight":x,w=c.containerClass,p=w===void 0?"tribute-container":w,_=c.itemClass,S=_===void 0?"":_,j=c.trigger,H=j===void 0?"@":j,Y=c.autocompleteMode,et=Y!==void 0&&Y,ot=c.selectTemplate,rt=ot===void 0?null:ot,dt=c.menuItemTemplate,st=dt===void 0?null:dt,B=c.lookup,T=B===void 0?"key":B,L=c.fillAttr,F=L===void 0?"value":L,q=c.collection,V=q===void 0?null:q,O=c.menuContainer,$=O===void 0?null:O,Z=c.noMatchTemplate,J=Z===void 0?null:Z,K=c.requireLeadingSpace,pt=K===void 0||K,Ct=c.allowSpaces,At=Ct!==void 0&&Ct,yt=c.replaceTextSuffix,vt=yt===void 0?null:yt,G=c.positionMenu,X=G===void 0||G,I=c.spaceSelectsMatch,R=I!==void 0&&I,U=c.searchOpts,W=U===void 0?{}:U,ne=c.menuItemLimit,jt=ne===void 0?null:ne,Se=c.menuShowMinLength,Ge=Se===void 0?0:Se;if(n(this,u),this.autocompleteMode=et,this.menuSelected=0,this.current={},this.inputEvent=!1,this.isActive=!1,this.menuContainer=$,this.allowSpaces=At,this.replaceTextSuffix=vt,this.positionMenu=X,this.hasTrailingSpace=!1,this.spaceSelectsMatch=R,this.autocompleteMode&&(H="",At=!1),v)this.collection=[{trigger:H,iframe:y,selectClass:A,containerClass:p,itemClass:S,selectTemplate:(rt||u.defaultSelectTemplate).bind(this),menuItemTemplate:(st||u.defaultMenuItemTemplate).bind(this),noMatchTemplate:(d=J,typeof d=="string"?d.trim()===""?null:d:typeof d=="function"?d.bind(h):J||function(){return"<li>No Match Found!</li>"}.bind(h)),lookup:T,fillAttr:F,values:v,requireLeadingSpace:pt,searchOpts:W,menuItemLimit:jt,menuShowMinLength:Ge}];else{if(!V)throw new Error("[Tribute] No collection specified.");this.autocompleteMode&&console.warn("Tribute in autocomplete mode does not work for collections"),this.collection=V.map(function(me){return{trigger:me.trigger||H,iframe:me.iframe||y,selectClass:me.selectClass||A,containerClass:me.containerClass||p,itemClass:me.itemClass||S,selectTemplate:(me.selectTemplate||u.defaultSelectTemplate).bind(h),menuItemTemplate:(me.menuItemTemplate||u.defaultMenuItemTemplate).bind(h),noMatchTemplate:function(fn){return typeof fn=="string"?fn.trim()===""?null:fn:typeof fn=="function"?fn.bind(h):J||function(){return"<li>No Match Found!</li>"}.bind(h)}(J),lookup:me.lookup||T,fillAttr:me.fillAttr||F,values:me.values,requireLeadingSpace:me.requireLeadingSpace,searchOpts:me.searchOpts||W,menuItemLimit:me.menuItemLimit||jt,menuShowMinLength:me.menuShowMinLength||Ge}})}new a(this),new s(this),new o(this),new l(this)}return e(u,[{key:"triggers",value:function(){return this.collection.map(function(c){return c.trigger})}},{key:"attach",value:function(c){if(!c)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if(typeof jQuery<"u"&&c instanceof jQuery&&(c=c.get()),c.constructor===NodeList||c.constructor===HTMLCollection||c.constructor===Array)for(var d=c.length,h=0;h<d;++h)this._attach(c[h]);else this._attach(c)}},{key:"_attach",value:function(c){c.hasAttribute("data-tribute")&&console.warn("Tribute was already bound to "+c.nodeName),this.ensureEditable(c),this.events.bind(c),c.setAttribute("data-tribute",!0)}},{key:"ensureEditable",value:function(c){if(u.inputTypes().indexOf(c.nodeName)===-1){if(!c.contentEditable)throw new Error("[Tribute] Cannot bind to "+c.nodeName);c.contentEditable=!0}}},{key:"createMenu",value:function(c){var d=this.range.getDocument().createElement("div"),h=this.range.getDocument().createElement("ul");return d.className=c,d.appendChild(h),this.menuContainer?this.menuContainer.appendChild(d):this.range.getDocument().body.appendChild(d)}},{key:"showMenuFor",value:function(c,d){var h=this;if(!this.isActive||this.current.element!==c||this.current.mentionText!==this.currentMentionTextSnapshot){this.currentMentionTextSnapshot=this.current.mentionText,this.menu||(this.menu=this.createMenu(this.current.collection.containerClass),c.tributeMenu=this.menu,this.menuEvents.bind(this.menu)),this.isActive=!0,this.menuSelected=0,this.current.mentionText||(this.current.mentionText="");var m=function(v){if(h.isActive){var g=h.search.filter(h.current.mentionText,v,{pre:h.current.collection.searchOpts.pre||"<span>",post:h.current.collection.searchOpts.post||"</span>",skip:h.current.collection.searchOpts.skip,extract:function(w){if(typeof h.current.collection.lookup=="string")return w[h.current.collection.lookup];if(typeof h.current.collection.lookup=="function")return h.current.collection.lookup(w,h.current.mentionText);throw new Error("Invalid lookup attribute, lookup must be string or function.")}});h.current.collection.menuItemLimit&&(g=g.slice(0,h.current.collection.menuItemLimit)),h.current.filteredItems=g;var y=h.menu.querySelector("ul");if(h.range.positionMenuAtCaret(d),!g.length){var x=new CustomEvent("tribute-no-match",{detail:h.menu});return h.current.element.dispatchEvent(x),void(typeof h.current.collection.noMatchTemplate=="function"&&!h.current.collection.noMatchTemplate()||!h.current.collection.noMatchTemplate?h.hideMenu():typeof h.current.collection.noMatchTemplate=="function"?y.innerHTML=h.current.collection.noMatchTemplate():y.innerHTML=h.current.collection.noMatchTemplate)}y.innerHTML="";var A=h.range.getDocument().createDocumentFragment();g.forEach(function(w,p){var _=h.range.getDocument().createElement("li");_.setAttribute("data-index",p),_.className=h.current.collection.itemClass,_.addEventListener("mousemove",function(S){var j=i(h._findLiTarget(S.target),2),H=(j[0],j[1]);S.movementY!==0&&h.events.setActiveLi(H)}),h.menuSelected===p&&_.classList.add(h.current.collection.selectClass),_.innerHTML=h.current.collection.menuItemTemplate(w),A.appendChild(_)}),y.appendChild(A)}};typeof this.current.collection.values=="function"?this.current.collection.values(this.current.mentionText,m):m(this.current.collection.values)}}},{key:"_findLiTarget",value:function(c){if(!c)return[];var d=c.getAttribute("data-index");return d?[c,d]:this._findLiTarget(c.parentNode)}},{key:"showMenuForCollection",value:function(c,d){c!==document.activeElement&&this.placeCaretAtEnd(c),this.current.collection=this.collection[d||0],this.current.externalTrigger=!0,this.current.element=c,c.isContentEditable?this.insertTextAtCursor(this.current.collection.trigger):this.insertAtCaret(c,this.current.collection.trigger),this.showMenuFor(c)}},{key:"placeCaretAtEnd",value:function(c){if(c.focus(),window.getSelection!==void 0&&document.createRange!==void 0){var d=document.createRange();d.selectNodeContents(c),d.collapse(!1);var h=window.getSelection();h.removeAllRanges(),h.addRange(d)}else if(document.body.createTextRange!==void 0){var m=document.body.createTextRange();m.moveToElementText(c),m.collapse(!1),m.select()}}},{key:"insertTextAtCursor",value:function(c){var d,h;(h=(d=window.getSelection()).getRangeAt(0)).deleteContents();var m=document.createTextNode(c);h.insertNode(m),h.selectNodeContents(m),h.collapse(!1),d.removeAllRanges(),d.addRange(h)}},{key:"insertAtCaret",value:function(c,d){var h=c.scrollTop,m=c.selectionStart,v=c.value.substring(0,m),g=c.value.substring(c.selectionEnd,c.value.length);c.value=v+d+g,m+=d.length,c.selectionStart=m,c.selectionEnd=m,c.focus(),c.scrollTop=h}},{key:"hideMenu",value:function(){this.menu&&(this.menu.style.cssText="display: none;",this.isActive=!1,this.menuSelected=0,this.current={})}},{key:"selectItemAtIndex",value:function(c,d){if(typeof(c=parseInt(c))=="number"&&!isNaN(c)){var h=this.current.filteredItems[c],m=this.current.collection.selectTemplate(h);m!==null&&this.replaceText(m,d,h)}}},{key:"replaceText",value:function(c,d,h){this.range.replaceTriggerText(c,!0,!0,d,h)}},{key:"_append",value:function(c,d,h){if(typeof c.values=="function")throw new Error("Unable to append to values, as it is a function.");c.values=h?d:c.values.concat(d)}},{key:"append",value:function(c,d,h){var m=parseInt(c);if(typeof m!="number")throw new Error("please provide an index for the collection to update.");var v=this.collection[m];this._append(v,d,h)}},{key:"appendCurrent",value:function(c,d){if(!this.isActive)throw new Error("No active state. Please use append instead and pass an index.");this._append(this.current.collection,c,d)}},{key:"detach",value:function(c){if(!c)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if(typeof jQuery<"u"&&c instanceof jQuery&&(c=c.get()),c.constructor===NodeList||c.constructor===HTMLCollection||c.constructor===Array)for(var d=c.length,h=0;h<d;++h)this._detach(c[h]);else this._detach(c)}},{key:"_detach",value:function(c){var d=this;this.events.unbind(c),c.tributeMenu&&this.menuEvents.unbind(c.tributeMenu),setTimeout(function(){c.removeAttribute("data-tribute"),d.isActive=!1,c.tributeMenu&&c.tributeMenu.remove()})}},{key:"isActive",get:function(){return this._isActive},set:function(c){if(this._isActive!=c&&(this._isActive=c,this.current.element)){var d=new CustomEvent("tribute-active-".concat(c));this.current.element.dispatchEvent(d)}}}],[{key:"defaultSelectTemplate",value:function(c){return c===void 0?"".concat(this.current.collection.trigger).concat(this.current.mentionText):this.range.isContentEditable(this.current.element)?'<span class="tribute-mention">'+(this.current.collection.trigger+c.original[this.current.collection.fillAttr])+"</span>":this.current.collection.trigger+c.original[this.current.collection.fillAttr]}},{key:"defaultMenuItemTemplate",value:function(c){return c.string}},{key:"inputTypes",value:function(){return["TEXTAREA","INPUT"]}}]),u}()})});var Cb=zn((Sb,_b)=>{(function(n,t){typeof Sb=="object"&&typeof _b<"u"?_b.exports=t():typeof define=="function"&&define.amd?define(t):(n=typeof globalThis<"u"?globalThis:n||self,n.TomSelect=t())})(Sb,function(){"use strict";function n(E,f){E.split(/\s+/).forEach(b=>{f(b)})}class t{constructor(){this._events=void 0,this._events={}}on(f,b){n(f,C=>{let D=this._events[C]||[];D.push(b),this._events[C]=D})}off(f,b){var C=arguments.length;if(C===0){this._events={};return}n(f,D=>{if(C===1){delete this._events[D];return}let N=this._events[D];N!==void 0&&(N.splice(N.indexOf(b),1),this._events[D]=N)})}trigger(f,...b){var C=this;n(f,D=>{let N=C._events[D];N!==void 0&&N.forEach(P=>{P.apply(C,b)})})}}function e(E){return E.plugins={},class extends E{constructor(...f){super(...f),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(f,b){E.plugins[f]={name:f,fn:b}}initializePlugins(f){var b,C;let D=this,N=[];if(Array.isArray(f))f.forEach(P=>{typeof P=="string"?N.push(P):(D.plugins.settings[P.name]=P.options,N.push(P.name))});else if(f)for(b in f)f.hasOwnProperty(b)&&(D.plugins.settings[b]=f[b],N.push(b));for(;C=N.shift();)D.require(C)}loadPlugin(f){var b=this,C=b.plugins,D=E.plugins[f];if(!E.plugins.hasOwnProperty(f))throw new Error('Unable to find "'+f+'" plugin');C.requested[f]=!0,C.loaded[f]=D.fn.apply(b,[b.plugins.settings[f]||{}]),C.names.push(f)}require(f){var b=this,C=b.plugins;if(!b.plugins.loaded.hasOwnProperty(f)){if(C.requested[f])throw new Error('Plugin has circular dependency ("'+f+'")');b.loadPlugin(f)}return C.loaded[f]}}}let i=E=>(E=E.filter(Boolean),E.length<2?E[0]||"":l(E)==1?"["+E.join("")+"]":"(?:"+E.join("|")+")"),r=E=>{if(!o(E))return E.join("");let f="",b=0,C=()=>{b>1&&(f+="{"+b+"}")};return E.forEach((D,N)=>{if(D===E[N-1]){b++;return}C(),f+=D,b=1}),C(),f},s=E=>{let f=c(E);return i(f)},o=E=>new Set(E).size!==E.length,a=E=>(E+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),l=E=>E.reduce((f,b)=>Math.max(f,u(b)),0),u=E=>c(E).length,c=E=>Array.from(E);let d=E=>{if(E.length===1)return[[E]];let f=[],b=E.substring(1);return d(b).forEach(function(D){let N=D.slice(0);N[0]=E.charAt(0)+N[0],f.push(N),N=D.slice(0),N.unshift(E.charAt(0)),f.push(N)}),f};let h=[[0,65535]],m="[\u0300-\u036F\xB7\u02BE\u02BC]",v,g,y=3,x={},A={"/":"\u2044\u2215",0:"\u07C0",a:"\u2C65\u0250\u0251",aa:"\uA733",ae:"\xE6\u01FD\u01E3",ao:"\uA735",au:"\uA737",av:"\uA739\uA73B",ay:"\uA73D",b:"\u0180\u0253\u0183",c:"\uA73F\u0188\u023C\u2184",d:"\u0111\u0257\u0256\u1D05\u018C\uABB7\u0501\u0266",e:"\u025B\u01DD\u1D07\u0247",f:"\uA77C\u0192",g:"\u01E5\u0260\uA7A1\u1D79\uA77F\u0262",h:"\u0127\u2C68\u2C76\u0265",i:"\u0268\u0131",j:"\u0249\u0237",k:"\u0199\u2C6A\uA741\uA743\uA745\uA7A3",l:"\u0142\u019A\u026B\u2C61\uA749\uA747\uA781\u026D",m:"\u0271\u026F\u03FB",n:"\uA7A5\u019E\u0272\uA791\u1D0E\u043B\u0509",o:"\xF8\u01FF\u0254\u0275\uA74B\uA74D\u1D11",oe:"\u0153",oi:"\u01A3",oo:"\uA74F",ou:"\u0223",p:"\u01A5\u1D7D\uA751\uA753\uA755\u03C1",q:"\uA757\uA759\u024B",r:"\u024D\u027D\uA75B\uA7A7\uA783",s:"\xDF\u023F\uA7A9\uA785\u0282",t:"\u0167\u01AD\u0288\u2C66\uA787",th:"\xFE",tz:"\uA729",u:"\u0289",v:"\u028B\uA75F\u028C",vy:"\uA761",w:"\u2C73",y:"\u01B4\u024F\u1EFF",z:"\u01B6\u0225\u0240\u2C6C\uA763",hv:"\u0195"};for(let E in A){let f=A[E]||"";for(let b=0;b<f.length;b++){let C=f.substring(b,b+1);x[C]=E}}let w=new RegExp(Object.keys(x).join("|")+"|"+m,"gu"),p=E=>{v===void 0&&(v=et(E||h))},_=(E,f="NFKD")=>E.normalize(f),S=E=>c(E).reduce((f,b)=>f+j(b),""),j=E=>(E=_(E).toLowerCase().replace(w,f=>x[f]||""),_(E,"NFC"));function*H(E){for(let[f,b]of E)for(let C=f;C<=b;C++){let D=String.fromCharCode(C),N=S(D);N!=D.toLowerCase()&&(N.length>y||N.length!=0&&(yield{folded:N,composed:D,code_point:C}))}}let Y=E=>{let f={},b=(C,D)=>{let N=f[C]||new Set,P=new RegExp("^"+s(N)+"$","iu");D.match(P)||(N.add(a(D)),f[C]=N)};for(let C of H(E))b(C.folded,C.folded),b(C.folded,C.composed);return f},et=E=>{let f=Y(E),b={},C=[];for(let N in f){let P=f[N];P&&(b[N]=s(P)),N.length>1&&C.push(a(N))}C.sort((N,P)=>P.length-N.length);let D=i(C);return g=new RegExp("^"+D,"u"),b},ot=(E,f=1)=>{let b=0;return E=E.map(C=>(v[C]&&(b+=C.length),v[C]||C)),b>=f?r(E):""},rt=(E,f=1)=>(f=Math.max(f,E.length-1),i(d(E).map(b=>ot(b,f)))),dt=(E,f=!0)=>{let b=E.length>1?1:0;return i(E.map(C=>{let D=[],N=f?C.length():C.length()-1;for(let P=0;P<N;P++)D.push(rt(C.substrs[P]||"",b));return r(D)}))},st=(E,f)=>{for(let b of f){if(b.start!=E.start||b.end!=E.end||b.substrs.join("")!==E.substrs.join(""))continue;let C=E.parts,D=P=>{for(let tt of C){if(tt.start===P.start&&tt.substr===P.substr)return!1;if(!(P.length==1||tt.length==1)&&(P.start<tt.start&&P.end>tt.start||tt.start<P.start&&tt.end>P.start))return!0}return!1};if(!(b.parts.filter(D).length>0))return!0}return!1};class B{constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(f){f&&(this.parts.push(f),this.substrs.push(f.substr),this.start=Math.min(f.start,this.start),this.end=Math.max(f.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(f,b){let C=new B,D=JSON.parse(JSON.stringify(this.parts)),N=D.pop();for(let lt of D)C.add(lt);let P=b.substr.substring(0,f-N.start),tt=P.length;return C.add({start:N.start,end:N.start+tt,length:tt,substr:P}),C}}let T=E=>{p(),E=S(E);let f="",b=[new B];for(let C=0;C<E.length;C++){let N=E.substring(C).match(g),P=E.substring(C,C+1),tt=N?N[0]:null,lt=[],at=new Set;for(let xt of b){let bt=xt.last();if(!bt||bt.length==1||bt.end<=C)if(tt){let Pt=tt.length;xt.add({start:C,end:C+Pt,length:Pt,substr:tt}),at.add("1")}else xt.add({start:C,end:C+1,length:1,substr:P}),at.add("2");else if(tt){let Pt=xt.clone(C,bt),ge=tt.length;Pt.add({start:C,end:C+ge,length:ge,substr:tt}),lt.push(Pt)}else at.add("3")}if(lt.length>0){lt=lt.sort((xt,bt)=>xt.length()-bt.length());for(let xt of lt)st(xt,b)||b.push(xt);continue}if(C>0&&at.size==1&&!at.has("3")){f+=dt(b,!1);let xt=new B,bt=b[0];bt&&xt.add(bt.last()),b=[xt]}}return f+=dt(b,!0),f};let L=(E,f)=>{if(E)return E[f]},F=(E,f)=>{if(E){for(var b,C=f.split(".");(b=C.shift())&&(E=E[b]););return E}},q=(E,f,b)=>{var C,D;return!E||(E=E+"",f.regex==null)||(D=E.search(f.regex),D===-1)?0:(C=f.string.length/E.length,D===0&&(C+=.5),C*b)},V=(E,f)=>{var b=E[f];if(typeof b=="function")return b;b&&!Array.isArray(b)&&(E[f]=[b])},O=(E,f)=>{if(Array.isArray(E))E.forEach(f);else for(var b in E)E.hasOwnProperty(b)&&f(E[b],b)},$=(E,f)=>typeof E=="number"&&typeof f=="number"?E>f?1:E<f?-1:0:(E=S(E+"").toLowerCase(),f=S(f+"").toLowerCase(),E>f?1:f>E?-1:0);class Z{constructor(f,b){this.items=void 0,this.settings=void 0,this.items=f,this.settings=b||{diacritics:!0}}tokenize(f,b,C){if(!f||!f.length)return[];let D=[],N=f.split(/\s+/);var P;return C&&(P=new RegExp("^("+Object.keys(C).map(a).join("|")+"):(.*)$")),N.forEach(tt=>{let lt,at=null,xt=null;P&&(lt=tt.match(P))&&(at=lt[1],tt=lt[2]),tt.length>0&&(this.settings.diacritics?xt=T(tt)||null:xt=a(tt),xt&&b&&(xt="\\b"+xt)),D.push({string:tt,regex:xt?new RegExp(xt,"iu"):null,field:at})}),D}getScoreFunction(f,b){var C=this.prepareSearch(f,b);return this._getScoreFunction(C)}_getScoreFunction(f){let b=f.tokens,C=b.length;if(!C)return function(){return 0};let D=f.options.fields,N=f.weights,P=D.length,tt=f.getAttrFn;if(!P)return function(){return 1};let lt=function(){return P===1?function(at,xt){let bt=D[0].field;return q(tt(xt,bt),at,N[bt]||1)}:function(at,xt){var bt=0;if(at.field){let Pt=tt(xt,at.field);!at.regex&&Pt?bt+=1/P:bt+=q(Pt,at,1)}else O(N,(Pt,ge)=>{bt+=q(tt(xt,ge),at,Pt)});return bt/P}}();return C===1?function(at){return lt(b[0],at)}:f.options.conjunction==="and"?function(at){var xt,bt=0;for(let Pt of b){if(xt=lt(Pt,at),xt<=0)return 0;bt+=xt}return bt/C}:function(at){var xt=0;return O(b,bt=>{xt+=lt(bt,at)}),xt/C}}getSortFunction(f,b){var C=this.prepareSearch(f,b);return this._getSortFunction(C)}_getSortFunction(f){var b,C=[];let D=this,N=f.options,P=!f.query&&N.sort_empty?N.sort_empty:N.sort;if(typeof P=="function")return P.bind(this);let tt=function(xt,bt){return xt==="$score"?bt.score:f.getAttrFn(D.items[bt.id],xt)};if(P)for(let at of P)(f.query||at.field!=="$score")&&C.push(at);if(f.query){b=!0;for(let at of C)if(at.field==="$score"){b=!1;break}b&&C.unshift({field:"$score",direction:"desc"})}else C=C.filter(at=>at.field!=="$score");return C.length?function(at,xt){var bt,Pt;for(let ge of C)if(Pt=ge.field,bt=(ge.direction==="desc"?-1:1)*$(tt(Pt,at),tt(Pt,xt)),bt)return bt;return 0}:null}prepareSearch(f,b){let C={};var D=Object.assign({},b);if(V(D,"sort"),V(D,"sort_empty"),D.fields){V(D,"fields");let N=[];D.fields.forEach(P=>{typeof P=="string"&&(P={field:P,weight:1}),N.push(P),C[P.field]="weight"in P?P.weight:1}),D.fields=N}return{options:D,query:f.toLowerCase().trim(),tokens:this.tokenize(f,D.respect_word_boundaries,C),total:0,items:[],weights:C,getAttrFn:D.nesting?F:L}}search(f,b){var C=this,D,N;N=this.prepareSearch(f,b),b=N.options,f=N.query;let P=b.score||C._getScoreFunction(N);f.length?O(C.items,(lt,at)=>{D=P(lt),(b.filter===!1||D>0)&&N.items.push({score:D,id:at})}):O(C.items,(lt,at)=>{N.items.push({score:1,id:at})});let tt=C._getSortFunction(N);return tt&&N.items.sort(tt),N.total=N.items.length,typeof b.limit=="number"&&(N.items=N.items.slice(0,b.limit)),N}}let J=(E,f)=>{if(Array.isArray(E))E.forEach(f);else for(var b in E)E.hasOwnProperty(b)&&f(E[b],b)},K=E=>{if(E.jquery)return E[0];if(E instanceof HTMLElement)return E;if(pt(E)){var f=document.createElement("template");return f.innerHTML=E.trim(),f.content.firstChild}return document.querySelector(E)},pt=E=>typeof E=="string"&&E.indexOf("<")>-1,Ct=E=>E.replace(/['"\\]/g,"\\$&"),At=(E,f)=>{var b=document.createEvent("HTMLEvents");b.initEvent(f,!0,!1),E.dispatchEvent(b)},yt=(E,f)=>{Object.assign(E.style,f)},vt=(E,...f)=>{var b=X(f);E=I(E),E.map(C=>{b.map(D=>{C.classList.add(D)})})},G=(E,...f)=>{var b=X(f);E=I(E),E.map(C=>{b.map(D=>{C.classList.remove(D)})})},X=E=>{var f=[];return J(E,b=>{typeof b=="string"&&(b=b.trim().split(/[\11\12\14\15\40]/)),Array.isArray(b)&&(f=f.concat(b))}),f.filter(Boolean)},I=E=>(Array.isArray(E)||(E=[E]),E),R=(E,f,b)=>{if(!(b&&!b.contains(E)))for(;E&&E.matches;){if(E.matches(f))return E;E=E.parentNode}},U=(E,f=0)=>f>0?E[E.length-1]:E[0],W=E=>Object.keys(E).length===0,ne=(E,f)=>{if(!E)return-1;f=f||E.nodeName;for(var b=0;E=E.previousElementSibling;)E.matches(f)&&b++;return b},jt=(E,f)=>{J(f,(b,C)=>{b==null?E.removeAttribute(C):E.setAttribute(C,""+b)})},Se=(E,f)=>{E.parentNode&&E.parentNode.replaceChild(f,E)},Ge=(E,f)=>{if(f===null)return;if(typeof f=="string"){if(!f.length)return;f=new RegExp(f,"i")}let b=N=>{var P=N.data.match(f);if(P&&N.data.length>0){var tt=document.createElement("span");tt.className="highlight";var lt=N.splitText(P.index);lt.splitText(P[0].length);var at=lt.cloneNode(!0);return tt.appendChild(at),Se(lt,tt),1}return 0},C=N=>{N.nodeType===1&&N.childNodes&&!/(script|style)/i.test(N.tagName)&&(N.className!=="highlight"||N.tagName!=="SPAN")&&Array.from(N.childNodes).forEach(P=>{D(P)})},D=N=>N.nodeType===3?b(N):(C(N),0);D(E)},me=E=>{var f=E.querySelectorAll("span.highlight");Array.prototype.forEach.call(f,function(b){var C=b.parentNode;C.replaceChild(b.firstChild,b),C.normalize()})},fn=65,Fn=13,ni=27,Nn=37,rr=38,pi=39,sr=40,Br=8,ta=46,jr=9,or=(typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent))?"metaKey":"ctrlKey";var nt={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(E){return E.length>0},render:{}};let ht=E=>typeof E>"u"||E===null?null:It(E),It=E=>typeof E=="boolean"?E?"1":"0":E+"",Ut=E=>(E+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),Yt=(E,f)=>f>0?setTimeout(E,f):(E.call(null),null),Be=(E,f)=>{var b;return function(C,D){var N=this;b&&(N.loading=Math.max(N.loading-1,0),clearTimeout(b)),b=setTimeout(function(){b=null,N.loadedSearches[C]=!0,E.call(N,C,D)},f)}},Xe=(E,f,b)=>{var C,D=E.trigger,N={};E.trigger=function(){var P=arguments[0];if(f.indexOf(P)!==-1)N[P]=arguments;else return D.apply(E,arguments)},b.apply(E,[]),E.trigger=D;for(C of f)C in N&&D.apply(E,N[C])},nn=E=>({start:E.selectionStart||0,length:(E.selectionEnd||0)-(E.selectionStart||0)}),Qt=(E,f=!1)=>{E&&(E.preventDefault(),f&&E.stopPropagation())},zt=(E,f,b,C)=>{E.addEventListener(f,b,C)},k=(E,f)=>{if(!f||!f[E])return!1;var b=(f.altKey?1:0)+(f.ctrlKey?1:0)+(f.shiftKey?1:0)+(f.metaKey?1:0);return b===1},M=(E,f)=>{let b=E.getAttribute("id");return b||(E.setAttribute("id",f),f)},z=E=>E.replace(/[\\"']/g,"\\$&"),Q=(E,f)=>{f&&E.append(f)};function mt(E,f){var b=Object.assign({},nt,f),C=b.dataAttr,D=b.labelField,N=b.valueField,P=b.disabledField,tt=b.optgroupField,lt=b.optgroupLabelField,at=b.optgroupValueField,xt=E.tagName.toLowerCase(),bt=E.getAttribute("placeholder")||E.getAttribute("data-placeholder");if(!bt&&!b.allowEmptyOption){let ee=E.querySelector('option[value=""]');ee&&(bt=ee.textContent)}var Pt={placeholder:bt,options:[],optgroups:[],items:[],maxItems:null},ge=()=>{var ee,_e=Pt.options,ce={},Ft=1;let Oe=0;var mi=Xt=>{var oe=Object.assign({},Xt.dataset),qt=C&&oe[C];return typeof qt=="string"&&qt.length&&(oe=Object.assign(oe,JSON.parse(qt))),oe},Xl=(Xt,oe)=>{var qt=ht(Xt.value);if(qt!=null&&!(!qt&&!b.allowEmptyOption)){if(ce.hasOwnProperty(qt)){if(oe){var pn=ce[qt][tt];pn?Array.isArray(pn)?pn.push(oe):ce[qt][tt]=[pn,oe]:ce[qt][tt]=oe}}else{var ue=mi(Xt);ue[D]=ue[D]||Xt.textContent,ue[N]=ue[N]||qt,ue[P]=ue[P]||Xt.disabled,ue[tt]=ue[tt]||oe,ue.$option=Xt,ue.$order=ue.$order||++Oe,ce[qt]=ue,_e.push(ue)}Xt.selected&&Pt.items.push(qt)}},Vs=Xt=>{var oe,qt;qt=mi(Xt),qt[lt]=qt[lt]||Xt.getAttribute("label")||"",qt[at]=qt[at]||Ft++,qt[P]=qt[P]||Xt.disabled,qt.$order=qt.$order||++Oe,Pt.optgroups.push(qt),oe=qt[at],J(Xt.children,pn=>{Xl(pn,oe)})};Pt.maxItems=E.hasAttribute("multiple")?null:1,J(E.children,Xt=>{ee=Xt.tagName.toLowerCase(),ee==="optgroup"?Vs(Xt):ee==="option"&&Xl(Xt)})},Ot=()=>{let ee=E.getAttribute(C);if(ee)Pt.options=JSON.parse(ee),J(Pt.options,ce=>{Pt.items.push(ce[N])});else{var _e=E.value.trim()||"";if(!b.allowEmptyOption&&!_e.length)return;let ce=_e.split(b.delimiter);J(ce,Ft=>{let Oe={};Oe[D]=Ft,Oe[N]=Ft,Pt.options.push(Oe)}),Pt.items=ce}};return xt==="select"?ge():Ot(),Object.assign({},nt,Pt,f)}var wt=0;class Rt extends e(t){constructor(f,b){super(),this.control_input=void 0,this.wrapper=void 0,this.dropdown=void 0,this.control=void 0,this.dropdown_content=void 0,this.focus_node=void 0,this.order=0,this.settings=void 0,this.input=void 0,this.tabIndex=void 0,this.is_select_tag=void 0,this.rtl=void 0,this.inputId=void 0,this._destroy=void 0,this.sifter=void 0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isRequired=void 0,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.currentResults=void 0,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,wt++;var C,D=K(f);if(D.tomselect)throw new Error("Tom Select already initialized on this element");D.tomselect=this;var N=window.getComputedStyle&&window.getComputedStyle(D,null);C=N.getPropertyValue("direction");let P=mt(D,b);this.settings=P,this.input=D,this.tabIndex=D.tabIndex||0,this.is_select_tag=D.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(C),this.inputId=M(D,"tomselect-"+wt),this.isRequired=D.required,this.sifter=new Z(this.options,{diacritics:P.diacritics}),P.mode=P.mode||(P.maxItems===1?"single":"multi"),typeof P.hideSelected!="boolean"&&(P.hideSelected=P.mode==="multi"),typeof P.hidePlaceholder!="boolean"&&(P.hidePlaceholder=P.mode!=="multi");var tt=P.createFilter;typeof tt!="function"&&(typeof tt=="string"&&(tt=new RegExp(tt)),tt instanceof RegExp?P.createFilter=_e=>tt.test(_e):P.createFilter=_e=>this.settings.duplicates||!this.options[_e]),this.initializePlugins(P.plugins),this.setupCallbacks(),this.setupTemplates();let lt=K("<div>"),at=K("<div>"),xt=this._render("dropdown"),bt=K('<div role="listbox" tabindex="-1">'),Pt=this.input.getAttribute("class")||"",ge=P.mode;var Ot;if(vt(lt,P.wrapperClass,Pt,ge),vt(at,P.controlClass),Q(lt,at),vt(xt,P.dropdownClass,ge),P.copyClassesToDropdown&&vt(xt,Pt),vt(bt,P.dropdownContentClass),Q(xt,bt),K(P.dropdownParent||lt).appendChild(xt),pt(P.controlInput)){Ot=K(P.controlInput);var ee=["autocorrect","autocapitalize","autocomplete","spellcheck"];O(ee,_e=>{D.getAttribute(_e)&&jt(Ot,{[_e]:D.getAttribute(_e)})}),Ot.tabIndex=-1,at.appendChild(Ot),this.focus_node=Ot}else P.controlInput?(Ot=K(P.controlInput),this.focus_node=Ot):(Ot=K("<input/>"),this.focus_node=at);this.wrapper=lt,this.dropdown=xt,this.dropdown_content=bt,this.control=at,this.control_input=Ot,this.setup()}setup(){let f=this,b=f.settings,C=f.control_input,D=f.dropdown,N=f.dropdown_content,P=f.wrapper,tt=f.control,lt=f.input,at=f.focus_node,xt={passive:!0},bt=f.inputId+"-ts-dropdown";jt(N,{id:bt}),jt(at,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":bt});let Pt=M(at,f.inputId+"-ts-control"),ge="label[for='"+Ct(f.inputId)+"']",Ot=document.querySelector(ge),ee=f.focus.bind(f);if(Ot){zt(Ot,"click",ee),jt(Ot,{for:Pt});let Ft=M(Ot,f.inputId+"-ts-label");jt(at,{"aria-labelledby":Ft}),jt(N,{"aria-labelledby":Ft})}if(P.style.width=lt.style.width,f.plugins.names.length){let Ft="plugin-"+f.plugins.names.join(" plugin-");vt([P,D],Ft)}(b.maxItems===null||b.maxItems>1)&&f.is_select_tag&&jt(lt,{multiple:"multiple"}),b.placeholder&&jt(C,{placeholder:b.placeholder}),!b.splitOn&&b.delimiter&&(b.splitOn=new RegExp("\\s*"+a(b.delimiter)+"+\\s*")),b.load&&b.loadThrottle&&(b.load=Be(b.load,b.loadThrottle)),zt(D,"mousemove",()=>{f.ignoreHover=!1}),zt(D,"mouseenter",Ft=>{var Oe=R(Ft.target,"[data-selectable]",D);Oe&&f.onOptionHover(Ft,Oe)},{capture:!0}),zt(D,"click",Ft=>{let Oe=R(Ft.target,"[data-selectable]");Oe&&(f.onOptionSelect(Ft,Oe),Qt(Ft,!0))}),zt(tt,"click",Ft=>{var Oe=R(Ft.target,"[data-ts-item]",tt);if(Oe&&f.onItemSelect(Ft,Oe)){Qt(Ft,!0);return}C.value==""&&(f.onClick(),Qt(Ft,!0))}),zt(at,"keydown",Ft=>f.onKeyDown(Ft)),zt(C,"keypress",Ft=>f.onKeyPress(Ft)),zt(C,"input",Ft=>f.onInput(Ft)),zt(at,"blur",Ft=>f.onBlur(Ft)),zt(at,"focus",Ft=>f.onFocus(Ft)),zt(C,"paste",Ft=>f.onPaste(Ft));let _e=Ft=>{let Oe=Ft.composedPath()[0];if(!P.contains(Oe)&&!D.contains(Oe)){f.isFocused&&f.blur(),f.inputState();return}Oe==C&&f.isOpen?Ft.stopPropagation():Qt(Ft,!0)},ce=()=>{f.isOpen&&f.positionDropdown()};zt(document,"mousedown",_e),zt(window,"scroll",ce,xt),zt(window,"resize",ce,xt),this._destroy=()=>{document.removeEventListener("mousedown",_e),window.removeEventListener("scroll",ce),window.removeEventListener("resize",ce),Ot&&Ot.removeEventListener("click",ee)},this.revertSettings={innerHTML:lt.innerHTML,tabIndex:lt.tabIndex},lt.tabIndex=-1,lt.insertAdjacentElement("afterend",f.wrapper),f.sync(!1),b.items=[],delete b.optgroups,delete b.options,zt(lt,"invalid",()=>{f.isValid&&(f.isValid=!1,f.isInvalid=!0,f.refreshState())}),f.updateOriginalInput(),f.refreshItems(),f.close(!1),f.inputState(),f.isSetup=!0,lt.disabled?f.disable():lt.readOnly?f.setReadOnly(!0):f.enable(),f.on("change",this.onChange),vt(lt,"tomselected","ts-hidden-accessible"),f.trigger("initialize"),b.preload===!0&&f.preload()}setupOptions(f=[],b=[]){this.addOptions(f),O(b,C=>{this.registerOptionGroup(C)})}setupTemplates(){var f=this,b=f.settings.labelField,C=f.settings.optgroupLabelField,D={optgroup:N=>{let P=document.createElement("div");return P.className="optgroup",P.appendChild(N.options),P},optgroup_header:(N,P)=>'<div class="optgroup-header">'+P(N[C])+"</div>",option:(N,P)=>"<div>"+P(N[b])+"</div>",item:(N,P)=>"<div>"+P(N[b])+"</div>",option_create:(N,P)=>'<div class="create">Add <strong>'+P(N.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};f.settings.render=Object.assign({},D,f.settings.render)}setupCallbacks(){var f,b,C={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(f in C)b=this.settings[C[f]],b&&this.on(f,b)}sync(f=!0){let b=this,C=f?mt(b.input,{delimiter:b.settings.delimiter}):b.settings;b.setupOptions(C.options,C.optgroups),b.setValue(C.items||[],!0),b.lastQuery=null}onClick(){var f=this;if(f.activeItems.length>0){f.clearActiveItems(),f.focus();return}f.isFocused&&f.isOpen?f.blur():f.focus()}onMouseDown(){}onChange(){At(this.input,"input"),At(this.input,"change")}onPaste(f){var b=this;if(b.isInputHidden||b.isLocked){Qt(f);return}b.settings.splitOn&&setTimeout(()=>{var C=b.inputValue();if(C.match(b.settings.splitOn)){var D=C.trim().split(b.settings.splitOn);O(D,N=>{ht(N)&&(this.options[N]?b.addItem(N):b.createItem(N))})}},0)}onKeyPress(f){var b=this;if(b.isLocked){Qt(f);return}var C=String.fromCharCode(f.keyCode||f.which);if(b.settings.create&&b.settings.mode==="multi"&&C===b.settings.delimiter){b.createItem(),Qt(f);return}}onKeyDown(f){var b=this;if(b.ignoreHover=!0,b.isLocked){f.keyCode!==jr&&Qt(f);return}switch(f.keyCode){case fn:if(k(or,f)&&b.control_input.value==""){Qt(f),b.selectAll();return}break;case ni:b.isOpen&&(Qt(f,!0),b.close()),b.clearActiveItems();return;case sr:if(!b.isOpen&&b.hasOptions)b.open();else if(b.activeOption){let C=b.getAdjacent(b.activeOption,1);C&&b.setActiveOption(C)}Qt(f);return;case rr:if(b.activeOption){let C=b.getAdjacent(b.activeOption,-1);C&&b.setActiveOption(C)}Qt(f);return;case Fn:b.canSelect(b.activeOption)?(b.onOptionSelect(f,b.activeOption),Qt(f)):(b.settings.create&&b.createItem()||document.activeElement==b.control_input&&b.isOpen)&&Qt(f);return;case Nn:b.advanceSelection(-1,f);return;case pi:b.advanceSelection(1,f);return;case jr:b.settings.selectOnTab&&(b.canSelect(b.activeOption)&&(b.onOptionSelect(f,b.activeOption),Qt(f)),b.settings.create&&b.createItem()&&Qt(f));return;case Br:case ta:b.deleteSelection(f);return}b.isInputHidden&&!k(or,f)&&Qt(f)}onInput(f){if(this.isLocked)return;let b=this.inputValue();if(this.lastValue!==b){if(this.lastValue=b,b==""){this._onInput();return}this.refreshTimeout&&clearTimeout(this.refreshTimeout),this.refreshTimeout=Yt(()=>{this.refreshTimeout=null,this._onInput()},this.settings.refreshThrottle)}}_onInput(){let f=this.lastValue;this.settings.shouldLoad.call(this,f)&&this.load(f),this.refreshOptions(),this.trigger("type",f)}onOptionHover(f,b){this.ignoreHover||this.setActiveOption(b,!1)}onFocus(f){var b=this,C=b.isFocused;if(b.isDisabled||b.isReadOnly){b.blur(),Qt(f);return}b.ignoreFocus||(b.isFocused=!0,b.settings.preload==="focus"&&b.preload(),C||b.trigger("focus"),b.activeItems.length||(b.inputState(),b.refreshOptions(!!b.settings.openOnFocus)),b.refreshState())}onBlur(f){if(document.hasFocus()!==!1){var b=this;if(b.isFocused){b.isFocused=!1,b.ignoreFocus=!1;var C=()=>{b.close(),b.setActiveItem(),b.setCaret(b.items.length),b.trigger("blur")};b.settings.create&&b.settings.createOnBlur?b.createItem(null,C):C()}}}onOptionSelect(f,b){var C,D=this;b.parentElement&&b.parentElement.matches("[data-disabled]")||(b.classList.contains("create")?D.createItem(null,()=>{D.settings.closeAfterSelect&&D.close()}):(C=b.dataset.value,typeof C<"u"&&(D.lastQuery=null,D.addItem(C),D.settings.closeAfterSelect&&D.close(),!D.settings.hideSelected&&f.type&&/click/.test(f.type)&&D.setActiveOption(b))))}canSelect(f){return!!(this.isOpen&&f&&this.dropdown_content.contains(f))}onItemSelect(f,b){var C=this;return!C.isLocked&&C.settings.mode==="multi"?(Qt(f),C.setActiveItem(b,f),!0):!1}canLoad(f){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(f))}load(f){let b=this;if(!b.canLoad(f))return;vt(b.wrapper,b.settings.loadingClass),b.loading++;let C=b.loadCallback.bind(b);b.settings.load.call(b,f,C)}loadCallback(f,b){let C=this;C.loading=Math.max(C.loading-1,0),C.lastQuery=null,C.clearActiveOption(),C.setupOptions(f,b),C.refreshOptions(C.isFocused&&!C.isInputHidden),C.loading||G(C.wrapper,C.settings.loadingClass),C.trigger("load",f,b)}preload(){var f=this.wrapper.classList;f.contains("preloaded")||(f.add("preloaded"),this.load(""))}setTextboxValue(f=""){var b=this.control_input,C=b.value!==f;C&&(b.value=f,At(b,"update"),this.lastValue=f)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(f,b){var C=b?[]:["change"];Xe(this,C,()=>{this.clear(b),this.addItems(f,b)})}setMaxItems(f){f===0&&(f=null),this.settings.maxItems=f,this.refreshState()}setActiveItem(f,b){var C=this,D,N,P,tt,lt,at;if(C.settings.mode!=="single"){if(!f){C.clearActiveItems(),C.isFocused&&C.inputState();return}if(D=b&&b.type.toLowerCase(),D==="click"&&k("shiftKey",b)&&C.activeItems.length){for(at=C.getLastActive(),P=Array.prototype.indexOf.call(C.control.children,at),tt=Array.prototype.indexOf.call(C.control.children,f),P>tt&&(lt=P,P=tt,tt=lt),N=P;N<=tt;N++)f=C.control.children[N],C.activeItems.indexOf(f)===-1&&C.setActiveItemClass(f);Qt(b)}else D==="click"&&k(or,b)||D==="keydown"&&k("shiftKey",b)?f.classList.contains("active")?C.removeActiveItem(f):C.setActiveItemClass(f):(C.clearActiveItems(),C.setActiveItemClass(f));C.inputState(),C.isFocused||C.focus()}}setActiveItemClass(f){let b=this,C=b.control.querySelector(".last-active");C&&G(C,"last-active"),vt(f,"active last-active"),b.trigger("item_select",f),b.activeItems.indexOf(f)==-1&&b.activeItems.push(f)}removeActiveItem(f){var b=this.activeItems.indexOf(f);this.activeItems.splice(b,1),G(f,"active")}clearActiveItems(){G(this.activeItems,"active"),this.activeItems=[]}setActiveOption(f,b=!0){f!==this.activeOption&&(this.clearActiveOption(),f&&(this.activeOption=f,jt(this.focus_node,{"aria-activedescendant":f.getAttribute("id")}),jt(f,{"aria-selected":"true"}),vt(f,"active"),b&&this.scrollToOption(f)))}scrollToOption(f,b){if(!f)return;let C=this.dropdown_content,D=C.clientHeight,N=C.scrollTop||0,P=f.offsetHeight,tt=f.getBoundingClientRect().top-C.getBoundingClientRect().top+N;tt+P>D+N?this.scroll(tt-D+P,b):tt<N&&this.scroll(tt,b)}scroll(f,b){let C=this.dropdown_content;b&&(C.style.scrollBehavior=b),C.scrollTop=f,C.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(G(this.activeOption,"active"),jt(this.activeOption,{"aria-selected":null})),this.activeOption=null,jt(this.focus_node,{"aria-activedescendant":null})}selectAll(){let f=this;if(f.settings.mode==="single")return;let b=f.controlChildren();b.length&&(f.inputState(),f.close(),f.activeItems=b,O(b,C=>{f.setActiveItemClass(C)}))}inputState(){var f=this;f.control.contains(f.control_input)&&(jt(f.control_input,{placeholder:f.settings.placeholder}),f.activeItems.length>0||!f.isFocused&&f.settings.hidePlaceholder&&f.items.length>0?(f.setTextboxValue(),f.isInputHidden=!0):(f.settings.hidePlaceholder&&f.items.length>0&&jt(f.control_input,{placeholder:""}),f.isInputHidden=!1),f.wrapper.classList.toggle("input-hidden",f.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var f=this;f.isDisabled||f.isReadOnly||(f.ignoreFocus=!0,f.control_input.offsetWidth?f.control_input.focus():f.focus_node.focus(),setTimeout(()=>{f.ignoreFocus=!1,f.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(f){return this.sifter.getScoreFunction(f,this.getSearchOptions())}getSearchOptions(){var f=this.settings,b=f.sortField;return typeof f.sortField=="string"&&(b=[{field:f.sortField}]),{fields:f.searchField,conjunction:f.searchConjunction,sort:b,nesting:f.nesting}}search(f){var b,C,D=this,N=this.getSearchOptions();if(D.settings.score&&(C=D.settings.score.call(D,f),typeof C!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return f!==D.lastQuery?(D.lastQuery=f,b=D.sifter.search(f,Object.assign(N,{score:C})),D.currentResults=b):b=Object.assign({},D.currentResults),D.settings.hideSelected&&(b.items=b.items.filter(P=>{let tt=ht(P.id);return!(tt&&D.items.indexOf(tt)!==-1)})),b}refreshOptions(f=!0){var b,C,D,N,P,tt,lt,at,xt,bt;let Pt={},ge=[];var Ot=this,ee=Ot.inputValue();let _e=ee===Ot.lastQuery||ee==""&&Ot.lastQuery==null;var ce=Ot.search(ee),Ft=null,Oe=Ot.settings.shouldOpen||!1,mi=Ot.dropdown_content;_e&&(Ft=Ot.activeOption,Ft&&(xt=Ft.closest("[data-group]"))),N=ce.items.length,typeof Ot.settings.maxOptions=="number"&&(N=Math.min(N,Ot.settings.maxOptions)),N>0&&(Oe=!0);let Xl=(Xt,oe)=>{let qt=Pt[Xt];if(qt!==void 0){let ue=ge[qt];if(ue!==void 0)return[qt,ue.fragment]}let pn=document.createDocumentFragment();return qt=ge.length,ge.push({fragment:pn,order:oe,optgroup:Xt}),[qt,pn]};for(b=0;b<N;b++){let Xt=ce.items[b];if(!Xt)continue;let oe=Xt.id,qt=Ot.options[oe];if(qt===void 0)continue;let pn=It(oe),ue=Ot.getOption(pn,!0);for(Ot.settings.hideSelected||ue.classList.toggle("selected",Ot.items.includes(pn)),P=qt[Ot.settings.optgroupField]||"",tt=Array.isArray(P)?P:[P],C=0,D=tt&&tt.length;C<D;C++){P=tt[C];let Jl=qt.$order,Ql=Ot.optgroups[P];Ql===void 0?P="":Jl=Ql.$order;let[aC,lC]=Xl(P,Jl);C>0&&(ue=ue.cloneNode(!0),jt(ue,{id:qt.$id+"-clone-"+C,"aria-selected":null}),ue.classList.add("ts-cloned"),G(ue,"active"),Ot.activeOption&&Ot.activeOption.dataset.value==oe&&xt&&xt.dataset.group===P.toString()&&(Ft=ue)),lC.appendChild(ue),P!=""&&(Pt[P]=aC)}}Ot.settings.lockOptgroupOrder&&ge.sort((Xt,oe)=>Xt.order-oe.order),lt=document.createDocumentFragment(),O(ge,Xt=>{let oe=Xt.fragment,qt=Xt.optgroup;if(!oe||!oe.children.length)return;let pn=Ot.optgroups[qt];if(pn!==void 0){let ue=document.createDocumentFragment(),Jl=Ot.render("optgroup_header",pn);Q(ue,Jl),Q(ue,oe);let Ql=Ot.render("optgroup",{group:pn,options:ue});Q(lt,Ql)}else Q(lt,oe)}),mi.innerHTML="",Q(mi,lt),Ot.settings.highlight&&(me(mi),ce.query.length&&ce.tokens.length&&O(ce.tokens,Xt=>{Ge(mi,Xt.regex)}));var Vs=Xt=>{let oe=Ot.render(Xt,{input:ee});return oe&&(Oe=!0,mi.insertBefore(oe,mi.firstChild)),oe};if(Ot.loading?Vs("loading"):Ot.settings.shouldLoad.call(Ot,ee)?ce.items.length===0&&Vs("no_results"):Vs("not_loading"),at=Ot.canCreate(ee),at&&(bt=Vs("option_create")),Ot.hasOptions=ce.items.length>0||at,Oe){if(ce.items.length>0){if(!Ft&&Ot.settings.mode==="single"&&Ot.items[0]!=null&&(Ft=Ot.getOption(Ot.items[0])),!mi.contains(Ft)){let Xt=0;bt&&!Ot.settings.addPrecedence&&(Xt=1),Ft=Ot.selectable()[Xt]}}else bt&&(Ft=bt);f&&!Ot.isOpen&&(Ot.open(),Ot.scrollToOption(Ft,"auto")),Ot.setActiveOption(Ft)}else Ot.clearActiveOption(),f&&Ot.isOpen&&Ot.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(f,b=!1){let C=this;if(Array.isArray(f))return C.addOptions(f,b),!1;let D=ht(f[C.settings.valueField]);return D===null||C.options.hasOwnProperty(D)?!1:(f.$order=f.$order||++C.order,f.$id=C.inputId+"-opt-"+f.$order,C.options[D]=f,C.lastQuery=null,b&&(C.userOptions[D]=b,C.trigger("option_add",D,f)),D)}addOptions(f,b=!1){O(f,C=>{this.addOption(C,b)})}registerOption(f){return this.addOption(f)}registerOptionGroup(f){var b=ht(f[this.settings.optgroupValueField]);return b===null?!1:(f.$order=f.$order||++this.order,this.optgroups[b]=f,b)}addOptionGroup(f,b){var C;b[this.settings.optgroupValueField]=f,(C=this.registerOptionGroup(b))&&this.trigger("optgroup_add",C,b)}removeOptionGroup(f){this.optgroups.hasOwnProperty(f)&&(delete this.optgroups[f],this.clearCache(),this.trigger("optgroup_remove",f))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(f,b){let C=this;var D,N;let P=ht(f),tt=ht(b[C.settings.valueField]);if(P===null)return;let lt=C.options[P];if(lt==null)return;if(typeof tt!="string")throw new Error("Value must be set in option data");let at=C.getOption(P),xt=C.getItem(P);if(b.$order=b.$order||lt.$order,delete C.options[P],C.uncacheValue(tt),C.options[tt]=b,at){if(C.dropdown_content.contains(at)){let bt=C._render("option",b);Se(at,bt),C.activeOption===at&&C.setActiveOption(bt)}at.remove()}xt&&(N=C.items.indexOf(P),N!==-1&&C.items.splice(N,1,tt),D=C._render("item",b),xt.classList.contains("active")&&vt(D,"active"),Se(xt,D)),C.lastQuery=null}removeOption(f,b){let C=this;f=It(f),C.uncacheValue(f),delete C.userOptions[f],delete C.options[f],C.lastQuery=null,C.trigger("option_remove",f),C.removeItem(f,b)}clearOptions(f){let b=(f||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();let C={};O(this.options,(D,N)=>{b(D,N)&&(C[N]=D)}),this.options=this.sifter.items=C,this.lastQuery=null,this.trigger("option_clear")}clearFilter(f,b){return this.items.indexOf(b)>=0}getOption(f,b=!1){let C=ht(f);if(C===null)return null;let D=this.options[C];if(D!=null){if(D.$div)return D.$div;if(b)return this._render("option",D)}return null}getAdjacent(f,b,C="option"){var D=this,N;if(!f)return null;C=="item"?N=D.controlChildren():N=D.dropdown_content.querySelectorAll("[data-selectable]");for(let P=0;P<N.length;P++)if(N[P]==f)return b>0?N[P+1]:N[P-1];return null}getItem(f){if(typeof f=="object")return f;var b=ht(f);return b!==null?this.control.querySelector(`[data-value="${z(b)}"]`):null}addItems(f,b){var C=this,D=Array.isArray(f)?f:[f];D=D.filter(P=>C.items.indexOf(P)===-1);let N=D[D.length-1];D.forEach(P=>{C.isPending=P!==N,C.addItem(P,b)})}addItem(f,b){var C=b?[]:["change","dropdown_close"];Xe(this,C,()=>{var D,N;let P=this,tt=P.settings.mode,lt=ht(f);if(!(lt&&P.items.indexOf(lt)!==-1&&(tt==="single"&&P.close(),tt==="single"||!P.settings.duplicates))&&!(lt===null||!P.options.hasOwnProperty(lt))&&(tt==="single"&&P.clear(b),!(tt==="multi"&&P.isFull()))){if(D=P._render("item",P.options[lt]),P.control.contains(D)&&(D=D.cloneNode(!0)),N=P.isFull(),P.items.splice(P.caretPos,0,lt),P.insertAtCaret(D),P.isSetup){if(!P.isPending&&P.settings.hideSelected){let at=P.getOption(lt),xt=P.getAdjacent(at,1);xt&&P.setActiveOption(xt)}!P.isPending&&!P.settings.closeAfterSelect&&P.refreshOptions(P.isFocused&&tt!=="single"),P.settings.closeAfterSelect!=!1&&P.isFull()?P.close():P.isPending||P.positionDropdown(),P.trigger("item_add",lt,D),P.isPending||P.updateOriginalInput({silent:b})}(!P.isPending||!N&&P.isFull())&&(P.inputState(),P.refreshState())}})}removeItem(f=null,b){let C=this;if(f=C.getItem(f),!f)return;var D,N;let P=f.dataset.value;D=ne(f),f.remove(),f.classList.contains("active")&&(N=C.activeItems.indexOf(f),C.activeItems.splice(N,1),G(f,"active")),C.items.splice(D,1),C.lastQuery=null,!C.settings.persist&&C.userOptions.hasOwnProperty(P)&&C.removeOption(P,b),D<C.caretPos&&C.setCaret(C.caretPos-1),C.updateOriginalInput({silent:b}),C.refreshState(),C.positionDropdown(),C.trigger("item_remove",P,f)}createItem(f=null,b=()=>{}){arguments.length===3&&(b=arguments[2]),typeof b!="function"&&(b=()=>{});var C=this,D=C.caretPos,N;if(f=f||C.inputValue(),!C.canCreate(f))return b(),!1;C.lock();var P=!1,tt=lt=>{if(C.unlock(),!lt||typeof lt!="object")return b();var at=ht(lt[C.settings.valueField]);if(typeof at!="string")return b();C.setTextboxValue(),C.addOption(lt,!0),C.setCaret(D),C.addItem(at),b(lt),P=!0};return typeof C.settings.create=="function"?N=C.settings.create.call(this,f,tt):N={[C.settings.labelField]:f,[C.settings.valueField]:f},P||tt(N),!0}refreshItems(){var f=this;f.lastQuery=null,f.isSetup&&f.addItems(f.items),f.updateOriginalInput(),f.refreshState()}refreshState(){let f=this;f.refreshValidityState();let b=f.isFull(),C=f.isLocked;f.wrapper.classList.toggle("rtl",f.rtl);let D=f.wrapper.classList;D.toggle("focus",f.isFocused),D.toggle("disabled",f.isDisabled),D.toggle("readonly",f.isReadOnly),D.toggle("required",f.isRequired),D.toggle("invalid",!f.isValid),D.toggle("locked",C),D.toggle("full",b),D.toggle("input-active",f.isFocused&&!f.isInputHidden),D.toggle("dropdown-active",f.isOpen),D.toggle("has-options",W(f.options)),D.toggle("has-items",f.items.length>0)}refreshValidityState(){var f=this;f.input.validity&&(f.isValid=f.input.validity.valid,f.isInvalid=!f.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(f={}){let b=this;var C,D;let N=b.input.querySelector('option[value=""]');if(b.is_select_tag){let lt=function(at,xt,bt){return at||(at=K('<option value="'+Ut(xt)+'">'+Ut(bt)+"</option>")),at!=N&&b.input.append(at),P.push(at),(at!=N||tt>0)&&(at.selected=!0),at},P=[],tt=b.input.querySelectorAll("option:checked").length;b.input.querySelectorAll("option:checked").forEach(at=>{at.selected=!1}),b.items.length==0&&b.settings.mode=="single"?lt(N,"",""):b.items.forEach(at=>{if(C=b.options[at],D=C[b.settings.labelField]||"",P.includes(C.$option)){let xt=b.input.querySelector(`option[value="${z(at)}"]:not(:checked)`);lt(xt,at,D)}else C.$option=lt(C.$option,at,D)})}else b.input.value=b.getValue();b.isSetup&&(f.silent||b.trigger("change",b.getValue()))}open(){var f=this;f.isLocked||f.isOpen||f.settings.mode==="multi"&&f.isFull()||(f.isOpen=!0,jt(f.focus_node,{"aria-expanded":"true"}),f.refreshState(),yt(f.dropdown,{visibility:"hidden",display:"block"}),f.positionDropdown(),yt(f.dropdown,{visibility:"visible",display:"block"}),f.focus(),f.trigger("dropdown_open",f.dropdown))}close(f=!0){var b=this,C=b.isOpen;f&&(b.setTextboxValue(),b.settings.mode==="single"&&b.items.length&&b.inputState()),b.isOpen=!1,jt(b.focus_node,{"aria-expanded":"false"}),yt(b.dropdown,{display:"none"}),b.settings.hideSelected&&b.clearActiveOption(),b.refreshState(),C&&b.trigger("dropdown_close",b.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var f=this.control,b=f.getBoundingClientRect(),C=f.offsetHeight+b.top+window.scrollY,D=b.left+window.scrollX;yt(this.dropdown,{width:b.width+"px",top:C+"px",left:D+"px"})}}clear(f){var b=this;if(b.items.length){var C=b.controlChildren();O(C,D=>{b.removeItem(D,!0)}),b.inputState(),f||b.updateOriginalInput(),b.trigger("clear")}}insertAtCaret(f){let b=this,C=b.caretPos,D=b.control;D.insertBefore(f,D.children[C]||null),b.setCaret(C+1)}deleteSelection(f){var b,C,D,N,P=this;b=f&&f.keyCode===Br?-1:1,C=nn(P.control_input);let tt=[];if(P.activeItems.length)N=U(P.activeItems,b),D=ne(N),b>0&&D++,O(P.activeItems,lt=>tt.push(lt));else if((P.isFocused||P.settings.mode==="single")&&P.items.length){let lt=P.controlChildren(),at;b<0&&C.start===0&&C.length===0?at=lt[P.caretPos-1]:b>0&&C.start===P.inputValue().length&&(at=lt[P.caretPos]),at!==void 0&&tt.push(at)}if(!P.shouldDelete(tt,f))return!1;for(Qt(f,!0),typeof D<"u"&&P.setCaret(D);tt.length;)P.removeItem(tt.pop());return P.inputState(),P.positionDropdown(),P.refreshOptions(!1),!0}shouldDelete(f,b){let C=f.map(D=>D.dataset.value);return!(!C.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(C,b)===!1)}advanceSelection(f,b){var C,D,N=this;N.rtl&&(f*=-1),!N.inputValue().length&&(k(or,b)||k("shiftKey",b)?(C=N.getLastActive(f),C?C.classList.contains("active")?D=N.getAdjacent(C,f,"item"):D=C:f>0?D=N.control_input.nextElementSibling:D=N.control_input.previousElementSibling,D&&(D.classList.contains("active")&&N.removeActiveItem(C),N.setActiveItemClass(D))):N.moveCaret(f))}moveCaret(f){}getLastActive(f){let b=this.control.querySelector(".last-active");if(b)return b;var C=this.control.querySelectorAll(".active");if(C)return U(C,f)}setCaret(f){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(f=this.isReadOnly||this.isDisabled){this.isLocked=f,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(f){this.focus_node.tabIndex=f?-1:this.tabIndex,this.isDisabled=f,this.input.disabled=f,this.control_input.disabled=f,this.setLocked()}setReadOnly(f){this.isReadOnly=f,this.input.readOnly=f,this.control_input.readOnly=f,this.setLocked()}destroy(){var f=this,b=f.revertSettings;f.trigger("destroy"),f.off(),f.wrapper.remove(),f.dropdown.remove(),f.input.innerHTML=b.innerHTML,f.input.tabIndex=b.tabIndex,G(f.input,"tomselected","ts-hidden-accessible"),f._destroy(),delete f.input.tomselect}render(f,b){var C,D;let N=this;if(typeof this.settings.render[f]!="function"||(D=N.settings.render[f].call(this,b,Ut),!D))return null;if(D=K(D),f==="option"||f==="option_create"?b[N.settings.disabledField]?jt(D,{"aria-disabled":"true"}):jt(D,{"data-selectable":""}):f==="optgroup"&&(C=b.group[N.settings.optgroupValueField],jt(D,{"data-group":C}),b.group[N.settings.disabledField]&&jt(D,{"data-disabled":""})),f==="option"||f==="item"){let P=It(b[N.settings.valueField]);jt(D,{"data-value":P}),f==="item"?(vt(D,N.settings.itemClass),jt(D,{"data-ts-item":""})):(vt(D,N.settings.optionClass),jt(D,{role:"option",id:b.$id}),b.$div=D,N.options[P]=b)}return D}_render(f,b){let C=this.render(f,b);if(C==null)throw"HTMLElement expected";return C}clearCache(){O(this.options,f=>{f.$div&&(f.$div.remove(),delete f.$div)})}uncacheValue(f){let b=this.getOption(f);b&&b.remove()}canCreate(f){return this.settings.create&&f.length>0&&this.settings.createFilter.call(this,f)}hook(f,b,C){var D=this,N=D[b];D[b]=function(){var P,tt;return f==="after"&&(P=N.apply(D,arguments)),tt=C.apply(D,arguments),f==="instead"?tt:(f==="before"&&(P=N.apply(D,arguments)),P)}}}function Dt(){zt(this.input,"change",()=>{this.sync()})}function Wt(E){var f=this,b=f.onOptionSelect;f.settings.hideSelected=!1;let C=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},E);var D=function(tt,lt){lt?(tt.checked=!0,C.uncheckedClassNames&&tt.classList.remove(...C.uncheckedClassNames),C.checkedClassNames&&tt.classList.add(...C.checkedClassNames)):(tt.checked=!1,C.checkedClassNames&&tt.classList.remove(...C.checkedClassNames),C.uncheckedClassNames&&tt.classList.add(...C.uncheckedClassNames))},N=function(tt){setTimeout(()=>{var lt=tt.querySelector("input."+C.className);lt instanceof HTMLInputElement&&D(lt,tt.classList.contains("selected"))},1)};f.hook("after","setupTemplates",()=>{var P=f.settings.render.option;f.settings.render.option=(tt,lt)=>{var at=K(P.call(f,tt,lt)),xt=document.createElement("input");C.className&&xt.classList.add(C.className),xt.addEventListener("click",function(Pt){Qt(Pt)}),xt.type="checkbox";let bt=ht(tt[f.settings.valueField]);return D(xt,!!(bt&&f.items.indexOf(bt)>-1)),at.prepend(xt),at}}),f.on("item_remove",P=>{var tt=f.getOption(P);tt&&(tt.classList.remove("selected"),N(tt))}),f.on("item_add",P=>{var tt=f.getOption(P);tt&&N(tt)}),f.hook("instead","onOptionSelect",(P,tt)=>{if(tt.classList.contains("selected")){tt.classList.remove("selected"),f.removeItem(tt.dataset.value),f.refreshOptions(),Qt(P,!0);return}b.call(f,P,tt),N(tt)})}function Tt(E){let f=this,b=Object.assign({className:"clear-button",title:"Clear All",html:C=>`<div class="${C.className}" title="${C.title}">&#10799;</div>`},E);f.on("initialize",()=>{var C=K(b.html(b));C.addEventListener("click",D=>{f.isLocked||(f.clear(),f.settings.mode==="single"&&f.settings.allowEmptyOption&&f.addItem(""),D.preventDefault(),D.stopPropagation())}),f.control.appendChild(C)})}let Nt=(E,f)=>{var b;(b=E.parentNode)==null||b.insertBefore(f,E.nextSibling)},le=(E,f)=>{var b;(b=E.parentNode)==null||b.insertBefore(f,E)},Wn=(E,f)=>{do{var b;if(f=(b=f)==null?void 0:b.previousElementSibling,E==f)return!0}while(f&&f.previousElementSibling);return!1};function An(){var E=this;if(E.settings.mode!=="multi")return;var f=E.lock,b=E.unlock;let C=!0,D;E.hook("after","setupTemplates",()=>{var N=E.settings.render.item;E.settings.render.item=(P,tt)=>{let lt=K(N.call(E,P,tt));jt(lt,{draggable:"true"});let at=ee=>{C||Qt(ee),ee.stopPropagation()},xt=ee=>{D=lt,setTimeout(()=>{lt.classList.add("ts-dragging")},0)},bt=ee=>{ee.preventDefault(),lt.classList.add("ts-drag-over"),ge(lt,D)},Pt=()=>{lt.classList.remove("ts-drag-over")},ge=(ee,_e)=>{_e!==void 0&&(Wn(_e,lt)?Nt(ee,_e):le(ee,_e))},Ot=()=>{var ee;document.querySelectorAll(".ts-drag-over").forEach(ce=>ce.classList.remove("ts-drag-over")),(ee=D)==null||ee.classList.remove("ts-dragging"),D=void 0;var _e=[];E.control.querySelectorAll("[data-value]").forEach(ce=>{if(ce.dataset.value){let Ft=ce.dataset.value;Ft&&_e.push(Ft)}}),E.setValue(_e)};return zt(lt,"mousedown",at),zt(lt,"dragstart",xt),zt(lt,"dragenter",bt),zt(lt,"dragover",bt),zt(lt,"dragleave",Pt),zt(lt,"dragend",Ot),lt}}),E.hook("instead","lock",()=>(C=!1,f.call(E))),E.hook("instead","unlock",()=>(C=!0,b.call(E)))}function $r(E){let f=this,b=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:C=>'<div class="'+C.headerClass+'"><div class="'+C.titleRowClass+'"><span class="'+C.labelClass+'">'+C.title+'</span><a class="'+C.closeClass+'">&times;</a></div></div>'},E);f.on("initialize",()=>{var C=K(b.html(b)),D=C.querySelector("."+b.closeClass);D&&D.addEventListener("click",N=>{Qt(N,!0),f.close()}),f.dropdown.insertBefore(C,f.dropdown.firstChild)})}function ar(){var E=this;E.hook("instead","setCaret",f=>{E.settings.mode==="single"||!E.control.contains(E.control_input)?f=E.items.length:(f=Math.max(0,Math.min(E.items.length,f)),f!=E.caretPos&&!E.isPending&&E.controlChildren().forEach((b,C)=>{C<f?E.control_input.insertAdjacentElement("beforebegin",b):E.control.appendChild(b)})),E.caretPos=f}),E.hook("instead","moveCaret",f=>{if(!E.isFocused)return;let b=E.getLastActive(f);if(b){let C=ne(b);E.setCaret(f>0?C+1:C),E.setActiveItem(),G(b,"last-active")}else E.setCaret(E.caretPos+f)})}function Eh(){let E=this;E.settings.shouldOpen=!0,E.hook("before","setup",()=>{E.focus_node=E.control,vt(E.control_input,"dropdown-input");let f=K('<div class="dropdown-input-wrap">');f.append(E.control_input),E.dropdown.insertBefore(f,E.dropdown.firstChild);let b=K('<input class="items-placeholder" tabindex="-1" />');b.placeholder=E.settings.placeholder||"",E.control.append(b)}),E.on("initialize",()=>{E.control_input.addEventListener("keydown",b=>{switch(b.keyCode){case ni:E.isOpen&&(Qt(b,!0),E.close()),E.clearActiveItems();return;case jr:E.focus_node.tabIndex=-1;break}return E.onKeyDown.call(E,b)}),E.on("blur",()=>{E.focus_node.tabIndex=E.isDisabled?-1:E.tabIndex}),E.on("dropdown_open",()=>{E.control_input.focus()});let f=E.onBlur;E.hook("instead","onBlur",b=>{if(!(b&&b.relatedTarget==E.control_input))return f.call(E)}),zt(E.control_input,"blur",()=>E.onBlur()),E.hook("before","close",()=>{E.isOpen&&E.focus_node.focus({preventScroll:!0})})})}function na(){var E=this;E.on("initialize",()=>{var f=document.createElement("span"),b=E.control_input;f.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",E.wrapper.appendChild(f);var C=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(let N of C)f.style[N]=b.style[N];var D=()=>{f.textContent=b.value,b.style.width=f.clientWidth+"px"};D(),E.on("update item_add item_remove",D),zt(b,"input",D),zt(b,"keyup",D),zt(b,"blur",D),zt(b,"update",D)})}function kh(){var E=this,f=E.deleteSelection;this.hook("instead","deleteSelection",b=>E.activeItems.length?f.call(E,b):!1)}function Th(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}function Oh(){var E=this,f=E.onKeyDown;E.hook("instead","onKeyDown",b=>{var C,D,N,P;if(!E.isOpen||!(b.keyCode===Nn||b.keyCode===pi))return f.call(E,b);E.ignoreHover=!0,P=R(E.activeOption,"[data-group]"),C=ne(E.activeOption,"[data-selectable]"),P&&(b.keyCode===Nn?P=P.previousSibling:P=P.nextSibling,P&&(N=P.querySelectorAll("[data-selectable]"),D=N[Math.min(N.length-1,C)],D&&E.setActiveOption(D)))})}function Dh(E){let f=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},E);var b=this;if(f.append){var C='<a href="javascript:void(0)" class="'+f.className+'" tabindex="-1" title="'+Ut(f.title)+'">'+f.label+"</a>";b.hook("after","setupTemplates",()=>{var D=b.settings.render.item;b.settings.render.item=(N,P)=>{var tt=K(D.call(b,N,P)),lt=K(C);return tt.appendChild(lt),zt(lt,"mousedown",at=>{Qt(at,!0)}),zt(lt,"click",at=>{b.isLocked||(Qt(at,!0),!b.isLocked&&b.shouldDelete([tt],at)&&(b.removeItem(tt),b.refreshOptions(!1),b.inputState()))}),tt}})}}function Mh(E){let f=this,b=Object.assign({text:C=>C[f.settings.labelField]},E);f.on("item_remove",function(C){if(f.isFocused&&f.control_input.value.trim()===""){var D=f.options[C];D&&f.setTextboxValue(b.text.call(f,D))}})}function Ph(){let E=this,f=E.canLoad,b=E.clearActiveOption,C=E.loadCallback;var D={},N,P=!1,tt,lt=[];if(E.settings.shouldLoadMore||(E.settings.shouldLoadMore=()=>{if(N.clientHeight/(N.scrollHeight-N.scrollTop)>.9)return!0;if(E.activeOption){var Pt=E.selectable(),ge=Array.from(Pt).indexOf(E.activeOption);if(ge>=Pt.length-2)return!0}return!1}),!E.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";E.settings.sortField=[{field:"$order"},{field:"$score"}];let at=bt=>typeof E.settings.maxOptions=="number"&&N.children.length>=E.settings.maxOptions?!1:!!(bt in D&&D[bt]),xt=(bt,Pt)=>E.items.indexOf(Pt)>=0||lt.indexOf(Pt)>=0;E.setNextUrl=(bt,Pt)=>{D[bt]=Pt},E.getUrl=bt=>{if(bt in D){let Pt=D[bt];return D[bt]=!1,Pt}return E.clearPagination(),E.settings.firstUrl.call(E,bt)},E.clearPagination=()=>{D={}},E.hook("instead","clearActiveOption",()=>{if(!P)return b.call(E)}),E.hook("instead","canLoad",bt=>bt in D?at(bt):f.call(E,bt)),E.hook("instead","loadCallback",(bt,Pt)=>{if(!P)E.clearOptions(xt);else if(tt){let ge=bt[0];ge!==void 0&&(tt.dataset.value=ge[E.settings.valueField])}C.call(E,bt,Pt),P=!1}),E.hook("after","refreshOptions",()=>{let bt=E.lastValue;var Pt;at(bt)?(Pt=E.render("loading_more",{query:bt}),Pt&&(Pt.setAttribute("data-selectable",""),tt=Pt)):bt in D&&!N.querySelector(".no-results")&&(Pt=E.render("no_more_results",{query:bt})),Pt&&(vt(Pt,E.settings.optionClass),N.append(Pt))}),E.on("initialize",()=>{lt=Object.keys(E.options),N=E.dropdown_content,E.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},E.settings.render),N.addEventListener("scroll",()=>{E.settings.shouldLoadMore.call(E)&&at(E.lastValue)&&(P||(P=!0,E.load.call(E,E.lastValue)))})})}return Rt.define("change_listener",Dt),Rt.define("checkbox_options",Wt),Rt.define("clear_button",Tt),Rt.define("drag_drop",An),Rt.define("dropdown_header",$r),Rt.define("caret_position",ar),Rt.define("dropdown_input",Eh),Rt.define("input_autogrow",na),Rt.define("no_backspace_delete",kh),Rt.define("no_active_items",Th),Rt.define("optgroup_columns",Oh),Rt.define("remove_button",Dh),Rt.define("restore_on_backspace",Mh),Rt.define("virtual_scroll",Ph),Rt})});var M_=zn((kZ,ph)=>{var fN=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};var Lt=function(n){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,e=0,i={},r={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function g(y){return y instanceof s?new s(y.type,g(y.content),y.alias):Array.isArray(y)?y.map(g):y.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(g){return Object.prototype.toString.call(g).slice(8,-1)},objId:function(g){return g.__id||Object.defineProperty(g,"__id",{value:++e}),g.__id},clone:function g(y,x){x=x||{};var A,w;switch(r.util.type(y)){case"Object":if(w=r.util.objId(y),x[w])return x[w];A={},x[w]=A;for(var p in y)y.hasOwnProperty(p)&&(A[p]=g(y[p],x));return A;case"Array":return w=r.util.objId(y),x[w]?x[w]:(A=[],x[w]=A,y.forEach(function(_,S){A[S]=g(_,x)}),A);default:return y}},getLanguage:function(g){for(;g;){var y=t.exec(g.className);if(y)return y[1].toLowerCase();g=g.parentElement}return"none"},setLanguage:function(g,y){g.className=g.className.replace(RegExp(t,"gi"),""),g.classList.add("language-"+y)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(A){var g=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(A.stack)||[])[1];if(g){var y=document.getElementsByTagName("script");for(var x in y)if(y[x].src==g)return y[x]}return null}},isActive:function(g,y,x){for(var A="no-"+y;g;){var w=g.classList;if(w.contains(y))return!0;if(w.contains(A))return!1;g=g.parentElement}return!!x}},languages:{plain:i,plaintext:i,text:i,txt:i,extend:function(g,y){var x=r.util.clone(r.languages[g]);for(var A in y)x[A]=y[A];return x},insertBefore:function(g,y,x,A){A=A||r.languages;var w=A[g],p={};for(var _ in w)if(w.hasOwnProperty(_)){if(_==y)for(var S in x)x.hasOwnProperty(S)&&(p[S]=x[S]);x.hasOwnProperty(_)||(p[_]=w[_])}var j=A[g];return A[g]=p,r.languages.DFS(r.languages,function(H,Y){Y===j&&H!=g&&(this[H]=p)}),p},DFS:function g(y,x,A,w){w=w||{};var p=r.util.objId;for(var _ in y)if(y.hasOwnProperty(_)){x.call(y,_,y[_],A||_);var S=y[_],j=r.util.type(S);j==="Object"&&!w[p(S)]?(w[p(S)]=!0,g(S,x,null,w)):j==="Array"&&!w[p(S)]&&(w[p(S)]=!0,g(S,x,_,w))}}},plugins:{},highlightAll:function(g,y){r.highlightAllUnder(document,g,y)},highlightAllUnder:function(g,y,x){var A={callback:x,container:g,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",A),A.elements=Array.prototype.slice.apply(A.container.querySelectorAll(A.selector)),r.hooks.run("before-all-elements-highlight",A);for(var w=0,p;p=A.elements[w++];)r.highlightElement(p,y===!0,A.callback)},highlightElement:function(g,y,x){var A=r.util.getLanguage(g),w=r.languages[A];r.util.setLanguage(g,A);var p=g.parentElement;p&&p.nodeName.toLowerCase()==="pre"&&r.util.setLanguage(p,A);var _=g.textContent,S={element:g,language:A,grammar:w,code:_};function j(Y){S.highlightedCode=Y,r.hooks.run("before-insert",S),S.element.innerHTML=S.highlightedCode,r.hooks.run("after-highlight",S),r.hooks.run("complete",S),x&&x.call(S.element)}if(r.hooks.run("before-sanity-check",S),p=S.element.parentElement,p&&p.nodeName.toLowerCase()==="pre"&&!p.hasAttribute("tabindex")&&p.setAttribute("tabindex","0"),!S.code){r.hooks.run("complete",S),x&&x.call(S.element);return}if(r.hooks.run("before-highlight",S),!S.grammar){j(r.util.encode(S.code));return}if(y&&n.Worker){var H=new Worker(r.filename);H.onmessage=function(Y){j(Y.data)},H.postMessage(JSON.stringify({language:S.language,code:S.code,immediateClose:!0}))}else j(r.highlight(S.code,S.grammar,S.language))},highlight:function(g,y,x){var A={code:g,grammar:y,language:x};if(r.hooks.run("before-tokenize",A),!A.grammar)throw new Error('The language "'+A.language+'" has no grammar.');return A.tokens=r.tokenize(A.code,A.grammar),r.hooks.run("after-tokenize",A),s.stringify(r.util.encode(A.tokens),A.language)},tokenize:function(g,y){var x=y.rest;if(x){for(var A in x)y[A]=x[A];delete y.rest}var w=new l;return u(w,w.head,g),a(g,w,y,w.head,0),d(w)},hooks:{all:{},add:function(g,y){var x=r.hooks.all;x[g]=x[g]||[],x[g].push(y)},run:function(g,y){var x=r.hooks.all[g];if(!(!x||!x.length))for(var A=0,w;w=x[A++];)w(y)}},Token:s};n.Prism=r;function s(g,y,x,A){this.type=g,this.content=y,this.alias=x,this.length=(A||"").length|0}s.stringify=function g(y,x){if(typeof y=="string")return y;if(Array.isArray(y)){var A="";return y.forEach(function(j){A+=g(j,x)}),A}var w={type:y.type,content:g(y.content,x),tag:"span",classes:["token",y.type],attributes:{},language:x},p=y.alias;p&&(Array.isArray(p)?Array.prototype.push.apply(w.classes,p):w.classes.push(p)),r.hooks.run("wrap",w);var _="";for(var S in w.attributes)_+=" "+S+'="'+(w.attributes[S]||"").replace(/"/g,"&quot;")+'"';return"<"+w.tag+' class="'+w.classes.join(" ")+'"'+_+">"+w.content+"</"+w.tag+">"};function o(g,y,x,A){g.lastIndex=y;var w=g.exec(x);if(w&&A&&w[1]){var p=w[1].length;w.index+=p,w[0]=w[0].slice(p)}return w}function a(g,y,x,A,w,p){for(var _ in x)if(!(!x.hasOwnProperty(_)||!x[_])){var S=x[_];S=Array.isArray(S)?S:[S];for(var j=0;j<S.length;++j){if(p&&p.cause==_+","+j)return;var H=S[j],Y=H.inside,et=!!H.lookbehind,ot=!!H.greedy,rt=H.alias;if(ot&&!H.pattern.global){var dt=H.pattern.toString().match(/[imsuy]*$/)[0];H.pattern=RegExp(H.pattern.source,dt+"g")}for(var st=H.pattern||H,B=A.next,T=w;B!==y.tail&&!(p&&T>=p.reach);T+=B.value.length,B=B.next){var L=B.value;if(y.length>g.length)return;if(!(L instanceof s)){var F=1,q;if(ot){if(q=o(st,T,g,et),!q||q.index>=g.length)break;var Z=q.index,V=q.index+q[0].length,O=T;for(O+=B.value.length;Z>=O;)B=B.next,O+=B.value.length;if(O-=B.value.length,T=O,B.value instanceof s)continue;for(var $=B;$!==y.tail&&(O<V||typeof $.value=="string");$=$.next)F++,O+=$.value.length;F--,L=g.slice(T,O),q.index-=T}else if(q=o(st,0,L,et),!q)continue;var Z=q.index,J=q[0],K=L.slice(0,Z),pt=L.slice(Z+J.length),Ct=T+L.length;p&&Ct>p.reach&&(p.reach=Ct);var At=B.prev;K&&(At=u(y,At,K),T+=K.length),c(y,At,F);var yt=new s(_,Y?r.tokenize(J,Y):J,rt,J);if(B=u(y,At,yt),pt&&u(y,B,pt),F>1){var vt={cause:_+","+j,reach:Ct};a(g,y,x,B.prev,T,vt),p&&vt.reach>p.reach&&(p.reach=vt.reach)}}}}}}function l(){var g={value:null,prev:null,next:null},y={value:null,prev:g,next:null};g.next=y,this.head=g,this.tail=y,this.length=0}function u(g,y,x){var A=y.next,w={value:x,prev:y,next:A};return y.next=w,A.prev=w,g.length++,w}function c(g,y,x){for(var A=y.next,w=0;w<x&&A!==g.tail;w++)A=A.next;y.next=A,A.prev=y,g.length-=w}function d(g){for(var y=[],x=g.head.next;x!==g.tail;)y.push(x.value),x=x.next;return y}if(!n.document)return n.addEventListener&&(r.disableWorkerMessageHandler||n.addEventListener("message",function(g){var y=JSON.parse(g.data),x=y.language,A=y.code,w=y.immediateClose;n.postMessage(r.highlight(A,r.languages[x],x)),w&&n.close()},!1)),r;var h=r.util.currentScript();h&&(r.filename=h.src,h.hasAttribute("data-manual")&&(r.manual=!0));function m(){r.manual||r.highlightAll()}if(!r.manual){var v=document.readyState;v==="loading"||v==="interactive"&&h&&h.defer?document.addEventListener("DOMContentLoaded",m):window.requestAnimationFrame?window.requestAnimationFrame(m):window.setTimeout(m,16)}return r}(fN);typeof ph<"u"&&ph.exports&&(ph.exports=Lt);typeof global<"u"&&(global.Prism=Lt);Lt.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Lt.languages.markup.tag.inside["attr-value"].inside.entity=Lt.languages.markup.entity;Lt.languages.markup.doctype.inside["internal-subset"].inside=Lt.languages.markup;Lt.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))});Object.defineProperty(Lt.languages.markup.tag,"addInlined",{value:function(t,e){var i={};i["language-"+e]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Lt.languages[e]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};r["language-"+e]={pattern:/[\s\S]+/,inside:Lt.languages[e]};var s={};s[t]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return t}),"i"),lookbehind:!0,greedy:!0,inside:r},Lt.languages.insertBefore("markup","cdata",s)}});Object.defineProperty(Lt.languages.markup.tag,"addAttribute",{value:function(n,t){Lt.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:Lt.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Lt.languages.html=Lt.languages.markup;Lt.languages.mathml=Lt.languages.markup;Lt.languages.svg=Lt.languages.markup;Lt.languages.xml=Lt.languages.extend("markup",{});Lt.languages.ssml=Lt.languages.xml;Lt.languages.atom=Lt.languages.xml;Lt.languages.rss=Lt.languages.xml;(function(n){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var e=n.languages.markup;e&&(e.tag.addInlined("style","css"),e.tag.addAttribute("style","css"))})(Lt);Lt.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Lt.languages.javascript=Lt.languages.extend("clike",{"class-name":[Lt.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Lt.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Lt.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Lt.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Lt.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Lt.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Lt.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Lt.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Lt.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Lt.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Lt.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Lt.languages.markup&&(Lt.languages.markup.tag.addInlined("script","javascript"),Lt.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Lt.languages.js=Lt.languages.javascript;(function(){if(typeof Lt>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var n="Loading\u2026",t=function(h,m){return"\u2716 Error "+h+" while fetching file: "+m},e="\u2716 Error: File does not exist or is empty",i={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},r="data-src-status",s="loading",o="loaded",a="failed",l="pre[data-src]:not(["+r+'="'+o+'"]):not(['+r+'="'+s+'"])';function u(h,m,v){var g=new XMLHttpRequest;g.open("GET",h,!0),g.onreadystatechange=function(){g.readyState==4&&(g.status<400&&g.responseText?m(g.responseText):g.status>=400?v(t(g.status,g.statusText)):v(e))},g.send(null)}function c(h){var m=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(h||"");if(m){var v=Number(m[1]),g=m[2],y=m[3];return g?y?[v,Number(y)]:[v,void 0]:[v,v]}}Lt.hooks.add("before-highlightall",function(h){h.selector+=", "+l}),Lt.hooks.add("before-sanity-check",function(h){var m=h.element;if(m.matches(l)){h.code="",m.setAttribute(r,s);var v=m.appendChild(document.createElement("CODE"));v.textContent=n;var g=m.getAttribute("data-src"),y=h.language;if(y==="none"){var x=(/\.(\w+)$/.exec(g)||[,"none"])[1];y=i[x]||x}Lt.util.setLanguage(v,y),Lt.util.setLanguage(m,y);var A=Lt.plugins.autoloader;A&&A.loadLanguages(y),u(g,function(w){m.setAttribute(r,o);var p=c(m.getAttribute("data-range"));if(p){var _=w.split(/\r\n?|\n/g),S=p[0],j=p[1]==null?_.length:p[1];S<0&&(S+=_.length),S=Math.max(0,Math.min(S-1,_.length)),j<0&&(j+=_.length),j=Math.max(0,Math.min(j,_.length)),w=_.slice(S,j).join(`
`),m.hasAttribute("data-start")||m.setAttribute("data-start",String(S+1))}v.textContent=w,Lt.highlightElement(v)},function(w){m.setAttribute(r,a),v.textContent=w})}}),Lt.plugins.fileHighlight={highlight:function(m){for(var v=(m||document).querySelectorAll(l),g=0,y;y=v[g++];)Lt.highlightElement(y)}};var d=!1;Lt.fileHighlight=function(){d||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),d=!0),Lt.plugins.fileHighlight.highlight.apply(this,arguments)}})()});var G_=zn(()=>{function RN(n,t,e){let i="",r=e?.dataset?.turboConfirmText||t.dataset.turboConfirmText,s=e?.dataset?.turboConfirmDescription||t.dataset.turboConfirmDescription||"";r&&(i='<input type="text" class="mt-4 form-control" data-behavior="confirm-text" />');let o=`confirm-modal-${new Date().getTime()}`,a=`
    <dialog id="${o}" class="modal rounded-lg max-w-md w-full backdrop:backdrop-blur-sm backdrop:bg-black/50">
      <form method="dialog">
        <div class="bg-white mx-auto rounded shadow p-6 max-w-md dark:bg-gray-900">
          <h5 class="text-lg">${n}</h5>
          <p class="mt-2 text-sm text-gray-700 dark:text-gray-200">${s}</p>

          ${i}

          <div class="flex justify-end items-center flex-wrap gap-2 mt-4">
            <button value="cancel" class="btn btn-secondary">Cancel</button>
            <button value="confirm" class="btn btn-danger">Confirm</button>
          </div>
        </div>
      </form>
    </dialog>
  `;document.body.insertAdjacentHTML("beforeend",a);let l=document.getElementById(o);if(l.querySelector("button").focus(),r){let u=l.querySelector("[value='confirm']");u.disabled=!0,l.querySelector("input[data-behavior='confirm-text']").addEventListener("input",c=>{u.disabled=c.target.value!=r})}return l}Turbo.setConfirmMethod((n,t,e)=>{let i=RN(n,t,e);return i.showModal(),new Promise((r,s)=>{i.addEventListener("close",()=>{r(i.returnValue=="confirm")},{once:!0})})})});var X_=zn(()=>{addEventListener("direct-upload:initialize",n=>{let{target:t,detail:e}=n,{id:i,file:r}=e;t.insertAdjacentHTML("beforebegin",`
    <div id="direct-upload-${i}" class="direct-upload direct-upload--pending">
      <div id="direct-upload-progress-${i}" class="direct-upload__progress" style="width: 0%"></div>
      <span class="direct-upload__filename">${r.name}</span>
    </div>
  `)});addEventListener("direct-upload:start",n=>{let{id:t}=n.detail;document.getElementById(`direct-upload-${t}`).classList.remove("direct-upload--pending")});addEventListener("direct-upload:progress",n=>{let{id:t,progress:e}=n.detail,i=document.getElementById(`direct-upload-progress-${t}`);i.style.width=`${e}%`});addEventListener("direct-upload:error",n=>{n.preventDefault();let{id:t,error:e}=n.detail,i=document.getElementById(`direct-upload-${t}`);i.classList.add("direct-upload--error"),i.setAttribute("title",e)});addEventListener("direct-upload:end",n=>{let{id:t}=n.detail;document.getElementById(`direct-upload-${t}`).classList.add("direct-upload--complete")})});var J_=zn(()=>{document.addEventListener("turbo:load",()=>{document.querySelectorAll("[data-src]").forEach(n=>{n.setAttribute("src",n.getAttribute("data-src"))})})});var Z_=zn(()=>{window.scrollPositions||(window.scrollPositions={});function IN(){document.querySelectorAll("[data-preserve-scroll").forEach(n=>{scrollPositions[n.id]=n.scrollTop})}function Q_(n){document.querySelectorAll("[data-preserve-scroll").forEach(t=>{t.scrollTop=scrollPositions[t.id]}),n.detail.newBody&&n.detail.newBody.querySelectorAll("[data-preserve-scroll").forEach(t=>{t.scrollTop=scrollPositions[t.id]})}window.addEventListener("turbo:before-cache",IN);window.addEventListener("turbo:before-render",Q_);window.addEventListener("turbo:render",Q_)});var eC=zn((Ytt,_h)=>{(function(n){var t=function(){"use strict";var e="s",i={DAY:864e5,HOUR:36e5,MINUTE:6e4,SECOND:1e3,BASELINE_YEAR:2014,MAX_SCORE:864e6,AMBIGUITIES:{"America/Denver":["America/Mazatlan"],"Europe/London":["Africa/Casablanca"],"America/Chicago":["America/Mexico_City"],"America/Asuncion":["America/Campo_Grande","America/Santiago"],"America/Montevideo":["America/Sao_Paulo","America/Santiago"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Europe/Helsinki","Asia/Damascus","Africa/Cairo","Asia/Gaza","Europe/Minsk"],"Pacific/Auckland":["Pacific/Fiji"],"America/Los_Angeles":["America/Santa_Isabel"],"America/New_York":["America/Havana"],"America/Halifax":["America/Goose_Bay"],"America/Godthab":["America/Miquelon"],"Asia/Dubai":["Asia/Yerevan"],"Asia/Jakarta":["Asia/Krasnoyarsk"],"Asia/Shanghai":["Asia/Irkutsk","Australia/Perth"],"Australia/Sydney":["Australia/Lord_Howe"],"Asia/Tokyo":["Asia/Yakutsk"],"Asia/Dhaka":["Asia/Omsk"],"Asia/Baku":["Asia/Yerevan"],"Australia/Brisbane":["Asia/Vladivostok"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Majuro":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk","Europe/Moscow"],"Asia/Karachi":["Asia/Yekaterinburg"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]}},r=function(v){var g=-v.getTimezoneOffset();return g!==null?g:0},s=function(){var v=r(new Date(i.BASELINE_YEAR,0,2)),g=r(new Date(i.BASELINE_YEAR,5,2)),y=v-g;return y<0?v+",1":y>0?g+",1,"+e:v+",0"},o=function(){var v,g;if(!(typeof Intl>"u"||typeof Intl.DateTimeFormat>"u")&&(v=Intl.DateTimeFormat(),!(typeof v>"u"||typeof v.resolvedOptions>"u")&&(g=v.resolvedOptions().timeZone,g&&(g.indexOf("/")>-1||g==="UTC")&&g.indexOf("Etc")!=0)))return g},a=function(v){for(var g=new Date(v,0,1,0,0,1,0).getTime(),y=new Date(v,12,31,23,59,59).getTime(),x=g,A=new Date(x).getTimezoneOffset(),w=null,p=null;x<y-864e5;){var _=new Date(x),S=_.getTimezoneOffset();S!==A&&(S<A&&(w=_),S>A&&(p=_),A=S),x+=864e5}return w&&p?{s:l(w).getTime(),e:l(p).getTime()}:!1},l=function m(v,g,y){typeof g>"u"&&(g=i.DAY,y=i.HOUR);for(var x=new Date(v.getTime()-g).getTime(),A=v.getTime()+g,w=new Date(x).getTimezoneOffset(),p=x,_=null;p<A-y;){var S=new Date(p),j=S.getTimezoneOffset();if(j!==w){_=S;break}p+=y}return g===i.DAY?m(_,i.HOUR,i.MINUTE):g===i.HOUR?m(_,i.MINUTE,i.SECOND):_},u=function(v,g,y,x){if(y!=="N/A")return y;if(g==="Asia/Beirut"){if(x.name==="Africa/Cairo"&&v[6].s===13983768e5&&v[6].e===14116788e5||x.name==="Asia/Jerusalem"&&v[6].s===13959648e5&&v[6].e===14118588e5)return 0}else if(g==="America/Santiago"){if(x.name==="America/Asuncion"&&v[6].s===14124816e5&&v[6].e===1397358e6||x.name==="America/Campo_Grande"&&v[6].s===14136912e5&&v[6].e===13925196e5)return 0}else if(g==="America/Montevideo"){if(x.name==="America/Sao_Paulo"&&v[6].s===14136876e5&&v[6].e===1392516e6)return 0}else if(g==="Pacific/Auckland"&&x.name==="Pacific/Fiji"&&v[6].s===14142456e5&&v[6].e===13961016e5)return 0;return y},c=function(v,g){for(var y=function(ot){for(var rt=0,dt=0;dt<v.length;dt++)if(ot.rules[dt]&&v[dt]){if(v[dt].s>=ot.rules[dt].s&&v[dt].e<=ot.rules[dt].e)rt=0,rt+=Math.abs(v[dt].s-ot.rules[dt].s),rt+=Math.abs(ot.rules[dt].e-v[dt].e);else{rt="N/A";break}if(rt>i.MAX_SCORE){rt="N/A";break}}return rt=u(v,g,rt,ot),rt},x={},A=t.olson.dst_rules.zones,w=A.length,p=i.AMBIGUITIES[g],_=0;_<w;_++){var S=A[_],j=y(A[_]);j!=="N/A"&&(x[S.name]=j)}for(var H in x)if(x.hasOwnProperty(H)){for(var Y=0;Y<p.length;Y++)if(p[Y]===H)return H}return g},d=function(v){var g=function(){for(var p=[],_=0;_<t.olson.dst_rules.years.length;_++){var S=a(t.olson.dst_rules.years[_]);p.push(S)}return p},y=function(p){for(var _=0;_<p.length;_++)if(p[_]!==!1)return!0;return!1},x=g(),A=y(x);return A?c(x,v):v},h=function(){var v=o();return v||(v=t.olson.timezones[s()],typeof i.AMBIGUITIES[v]<"u"&&(v=d(v))),{name:function(){return v},stdTimezoneOffset:function(){return-s().split(",")[0]},timezoneOffset:function(){return-r(new Date)}}};return{determine:h}}();t.olson=t.olson||{},t.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-660,1,s":"Pacific/Apia","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Asuncion","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Majuro","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},t.olson.dst_rules={years:[2008,2009,2010,2011,2012,2013,2014],zones:[{name:"Africa/Cairo",rules:[{e:12199572e5,s:12090744e5},{e:1250802e6,s:1240524e6},{e:12858804e5,s:12840696e5},!1,!1,!1,{e:14116788e5,s:1406844e6}]},{name:"Africa/Casablanca",rules:[{e:12202236e5,s:12122784e5},{e:12508092e5,s:12438144e5},{e:1281222e6,s:12727584e5},{e:13120668e5,s:13017888e5},{e:13489704e5,s:1345428e6},{e:13828392e5,s:13761e8},{e:14142888e5,s:14069448e5}]},{name:"America/Asuncion",rules:[{e:12050316e5,s:12243888e5},{e:12364812e5,s:12558384e5},{e:12709548e5,s:12860784e5},{e:13024044e5,s:1317528e6},{e:1333854e6,s:13495824e5},{e:1364094e6,s:1381032e6},{e:13955436e5,s:14124816e5}]},{name:"America/Campo_Grande",rules:[{e:12032172e5,s:12243888e5},{e:12346668e5,s:12558384e5},{e:12667212e5,s:1287288e6},{e:12981708e5,s:13187376e5},{e:13302252e5,s:1350792e6},{e:136107e7,s:13822416e5},{e:13925196e5,s:14136912e5}]},{name:"America/Goose_Bay",rules:[{e:122559486e4,s:120503526e4},{e:125704446e4,s:123648486e4},{e:128909886e4,s:126853926e4},{e:13205556e5,s:129998886e4},{e:13520052e5,s:13314456e5},{e:13834548e5,s:13628952e5},{e:14149044e5,s:13943448e5}]},{name:"America/Havana",rules:[{e:12249972e5,s:12056436e5},{e:12564468e5,s:12364884e5},{e:12885012e5,s:12685428e5},{e:13211604e5,s:13005972e5},{e:13520052e5,s:13332564e5},{e:13834548e5,s:13628916e5},{e:14149044e5,s:13943412e5}]},{name:"America/Mazatlan",rules:[{e:1225008e6,s:12074724e5},{e:12564576e5,s:1238922e6},{e:1288512e6,s:12703716e5},{e:13199616e5,s:13018212e5},{e:13514112e5,s:13332708e5},{e:13828608e5,s:13653252e5},{e:14143104e5,s:13967748e5}]},{name:"America/Mexico_City",rules:[{e:12250044e5,s:12074688e5},{e:1256454e6,s:12389184e5},{e:12885084e5,s:1270368e6},{e:1319958e6,s:13018176e5},{e:13514076e5,s:13332672e5},{e:13828572e5,s:13653216e5},{e:14143068e5,s:13967712e5}]},{name:"America/Miquelon",rules:[{e:12255984e5,s:12050388e5},{e:1257048e6,s:12364884e5},{e:12891024e5,s:12685428e5},{e:1320552e6,s:12999924e5},{e:13520016e5,s:1331442e6},{e:13834512e5,s:13628916e5},{e:14149008e5,s:13943412e5}]},{name:"America/Santa_Isabel",rules:[{e:12250116e5,s:1207476e6},{e:12564612e5,s:12389256e5},{e:12885156e5,s:12703752e5},{e:13199652e5,s:13018248e5},{e:13514148e5,s:13332744e5},{e:13828644e5,s:13653288e5},{e:1414314e6,s:13967784e5}]},{name:"America/Santiago",rules:[{e:1206846e6,s:1223784e6},{e:1237086e6,s:12552336e5},{e:127035e7,s:12866832e5},{e:13048236e5,s:13138992e5},{e:13356684e5,s:13465584e5},{e:1367118e6,s:13786128e5},{e:13985676e5,s:14100624e5}]},{name:"America/Sao_Paulo",rules:[{e:12032136e5,s:12243852e5},{e:12346632e5,s:12558348e5},{e:12667176e5,s:12872844e5},{e:12981672e5,s:1318734e6},{e:13302216e5,s:13507884e5},{e:13610664e5,s:1382238e6},{e:1392516e6,s:14136876e5}]},{name:"Asia/Amman",rules:[{e:1225404e6,s:12066552e5},{e:12568536e5,s:12381048e5},{e:12883032e5,s:12695544e5},{e:13197528e5,s:13016088e5},!1,!1,{e:14147064e5,s:13959576e5}]},{name:"Asia/Damascus",rules:[{e:12254868e5,s:120726e7},{e:125685e7,s:12381048e5},{e:12882996e5,s:12701592e5},{e:13197492e5,s:13016088e5},{e:13511988e5,s:13330584e5},{e:13826484e5,s:1364508e6},{e:14147028e5,s:13959576e5}]},{name:"Asia/Dubai",rules:[!1,!1,!1,!1,!1,!1,!1]},{name:"Asia/Gaza",rules:[{e:12199572e5,s:12066552e5},{e:12520152e5,s:12381048e5},{e:1281474e6,s:126964086e4},{e:1312146e6,s:130160886e4},{e:13481784e5,s:13330584e5},{e:13802292e5,s:1364508e6},{e:1414098e6,s:13959576e5}]},{name:"Asia/Irkutsk",rules:[{e:12249576e5,s:12068136e5},{e:12564072e5,s:12382632e5},{e:12884616e5,s:12697128e5},!1,!1,!1,!1]},{name:"Asia/Jerusalem",rules:[{e:12231612e5,s:12066624e5},{e:1254006e6,s:1238112e6},{e:1284246e6,s:12695616e5},{e:131751e7,s:1301616e6},{e:13483548e5,s:13330656e5},{e:13828284e5,s:13645152e5},{e:1414278e6,s:13959648e5}]},{name:"Asia/Kamchatka",rules:[{e:12249432e5,s:12067992e5},{e:12563928e5,s:12382488e5},{e:12884508e5,s:12696984e5},!1,!1,!1,!1]},{name:"Asia/Krasnoyarsk",rules:[{e:12249612e5,s:12068172e5},{e:12564108e5,s:12382668e5},{e:12884652e5,s:12697164e5},!1,!1,!1,!1]},{name:"Asia/Omsk",rules:[{e:12249648e5,s:12068208e5},{e:12564144e5,s:12382704e5},{e:12884688e5,s:126972e7},!1,!1,!1,!1]},{name:"Asia/Vladivostok",rules:[{e:12249504e5,s:12068064e5},{e:12564e8,s:1238256e6},{e:12884544e5,s:12697056e5},!1,!1,!1,!1]},{name:"Asia/Yakutsk",rules:[{e:1224954e6,s:120681e7},{e:12564036e5,s:12382596e5},{e:1288458e6,s:12697092e5},!1,!1,!1,!1]},{name:"Asia/Yekaterinburg",rules:[{e:12249684e5,s:12068244e5},{e:1256418e6,s:1238274e6},{e:12884724e5,s:12697236e5},!1,!1,!1,!1]},{name:"Asia/Yerevan",rules:[{e:1224972e6,s:1206828e6},{e:12564216e5,s:12382776e5},{e:1288476e6,s:12697272e5},{e:13199256e5,s:13011768e5},!1,!1,!1]},{name:"Australia/Lord_Howe",rules:[{e:12074076e5,s:12231342e5},{e:12388572e5,s:12545838e5},{e:12703068e5,s:12860334e5},{e:13017564e5,s:1317483e6},{e:1333206e6,s:13495374e5},{e:13652604e5,s:1380987e6},{e:139671e7,s:14124366e5}]},{name:"Australia/Perth",rules:[{e:12068136e5,s:12249576e5},!1,!1,!1,!1,!1,!1]},{name:"Europe/Helsinki",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]},{name:"Europe/Minsk",rules:[{e:12249792e5,s:12068352e5},{e:12564288e5,s:12382848e5},{e:12884832e5,s:12697344e5},!1,!1,!1,!1]},{name:"Europe/Moscow",rules:[{e:12249756e5,s:12068316e5},{e:12564252e5,s:12382812e5},{e:12884796e5,s:12697308e5},!1,!1,!1,!1]},{name:"Pacific/Apia",rules:[!1,!1,!1,{e:13017528e5,s:13168728e5},{e:13332024e5,s:13489272e5},{e:13652568e5,s:13803768e5},{e:13967064e5,s:14118264e5}]},{name:"Pacific/Fiji",rules:[!1,!1,{e:12696984e5,s:12878424e5},{e:13271544e5,s:1319292e6},{e:1358604e6,s:13507416e5},{e:139005e7,s:1382796e6},{e:14215032e5,s:14148504e5}]},{name:"Europe/London",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]}]},typeof _h<"u"&&typeof _h.exports<"u"?_h.exports=t:typeof define<"u"&&define!==null&&define.amd!=null?define([],function(){return t}):typeof n>"u"?window.jstz=t:n.jstz=t})()});var iC=zn((Ktt,nC)=>{nC.exports=eC()});var sC=zn((Ch,rC)=>{(function(n,t){typeof Ch=="object"&&typeof rC<"u"?t(Ch):typeof define=="function"&&define.amd?define(["exports"],t):(n=typeof globalThis<"u"?globalThis:n||self,t(n.ActiveStorage={}))})(Ch,function(n){"use strict";var t={exports:{}};(function(st,B){(function(T){st.exports=T()})(function(T){var L=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function F(G,X){var I=G[0],R=G[1],U=G[2],W=G[3];I+=(R&U|~R&W)+X[0]-680876936|0,I=(I<<7|I>>>25)+R|0,W+=(I&R|~I&U)+X[1]-389564586|0,W=(W<<12|W>>>20)+I|0,U+=(W&I|~W&R)+X[2]+606105819|0,U=(U<<17|U>>>15)+W|0,R+=(U&W|~U&I)+X[3]-1044525330|0,R=(R<<22|R>>>10)+U|0,I+=(R&U|~R&W)+X[4]-176418897|0,I=(I<<7|I>>>25)+R|0,W+=(I&R|~I&U)+X[5]+1200080426|0,W=(W<<12|W>>>20)+I|0,U+=(W&I|~W&R)+X[6]-1473231341|0,U=(U<<17|U>>>15)+W|0,R+=(U&W|~U&I)+X[7]-45705983|0,R=(R<<22|R>>>10)+U|0,I+=(R&U|~R&W)+X[8]+1770035416|0,I=(I<<7|I>>>25)+R|0,W+=(I&R|~I&U)+X[9]-1958414417|0,W=(W<<12|W>>>20)+I|0,U+=(W&I|~W&R)+X[10]-42063|0,U=(U<<17|U>>>15)+W|0,R+=(U&W|~U&I)+X[11]-1990404162|0,R=(R<<22|R>>>10)+U|0,I+=(R&U|~R&W)+X[12]+1804603682|0,I=(I<<7|I>>>25)+R|0,W+=(I&R|~I&U)+X[13]-40341101|0,W=(W<<12|W>>>20)+I|0,U+=(W&I|~W&R)+X[14]-1502002290|0,U=(U<<17|U>>>15)+W|0,R+=(U&W|~U&I)+X[15]+1236535329|0,R=(R<<22|R>>>10)+U|0,I+=(R&W|U&~W)+X[1]-165796510|0,I=(I<<5|I>>>27)+R|0,W+=(I&U|R&~U)+X[6]-1069501632|0,W=(W<<9|W>>>23)+I|0,U+=(W&R|I&~R)+X[11]+643717713|0,U=(U<<14|U>>>18)+W|0,R+=(U&I|W&~I)+X[0]-373897302|0,R=(R<<20|R>>>12)+U|0,I+=(R&W|U&~W)+X[5]-701558691|0,I=(I<<5|I>>>27)+R|0,W+=(I&U|R&~U)+X[10]+38016083|0,W=(W<<9|W>>>23)+I|0,U+=(W&R|I&~R)+X[15]-660478335|0,U=(U<<14|U>>>18)+W|0,R+=(U&I|W&~I)+X[4]-405537848|0,R=(R<<20|R>>>12)+U|0,I+=(R&W|U&~W)+X[9]+568446438|0,I=(I<<5|I>>>27)+R|0,W+=(I&U|R&~U)+X[14]-1019803690|0,W=(W<<9|W>>>23)+I|0,U+=(W&R|I&~R)+X[3]-187363961|0,U=(U<<14|U>>>18)+W|0,R+=(U&I|W&~I)+X[8]+1163531501|0,R=(R<<20|R>>>12)+U|0,I+=(R&W|U&~W)+X[13]-1444681467|0,I=(I<<5|I>>>27)+R|0,W+=(I&U|R&~U)+X[2]-51403784|0,W=(W<<9|W>>>23)+I|0,U+=(W&R|I&~R)+X[7]+1735328473|0,U=(U<<14|U>>>18)+W|0,R+=(U&I|W&~I)+X[12]-1926607734|0,R=(R<<20|R>>>12)+U|0,I+=(R^U^W)+X[5]-378558|0,I=(I<<4|I>>>28)+R|0,W+=(I^R^U)+X[8]-2022574463|0,W=(W<<11|W>>>21)+I|0,U+=(W^I^R)+X[11]+1839030562|0,U=(U<<16|U>>>16)+W|0,R+=(U^W^I)+X[14]-35309556|0,R=(R<<23|R>>>9)+U|0,I+=(R^U^W)+X[1]-1530992060|0,I=(I<<4|I>>>28)+R|0,W+=(I^R^U)+X[4]+1272893353|0,W=(W<<11|W>>>21)+I|0,U+=(W^I^R)+X[7]-155497632|0,U=(U<<16|U>>>16)+W|0,R+=(U^W^I)+X[10]-1094730640|0,R=(R<<23|R>>>9)+U|0,I+=(R^U^W)+X[13]+681279174|0,I=(I<<4|I>>>28)+R|0,W+=(I^R^U)+X[0]-358537222|0,W=(W<<11|W>>>21)+I|0,U+=(W^I^R)+X[3]-722521979|0,U=(U<<16|U>>>16)+W|0,R+=(U^W^I)+X[6]+76029189|0,R=(R<<23|R>>>9)+U|0,I+=(R^U^W)+X[9]-640364487|0,I=(I<<4|I>>>28)+R|0,W+=(I^R^U)+X[12]-421815835|0,W=(W<<11|W>>>21)+I|0,U+=(W^I^R)+X[15]+530742520|0,U=(U<<16|U>>>16)+W|0,R+=(U^W^I)+X[2]-995338651|0,R=(R<<23|R>>>9)+U|0,I+=(U^(R|~W))+X[0]-198630844|0,I=(I<<6|I>>>26)+R|0,W+=(R^(I|~U))+X[7]+1126891415|0,W=(W<<10|W>>>22)+I|0,U+=(I^(W|~R))+X[14]-1416354905|0,U=(U<<15|U>>>17)+W|0,R+=(W^(U|~I))+X[5]-57434055|0,R=(R<<21|R>>>11)+U|0,I+=(U^(R|~W))+X[12]+1700485571|0,I=(I<<6|I>>>26)+R|0,W+=(R^(I|~U))+X[3]-1894986606|0,W=(W<<10|W>>>22)+I|0,U+=(I^(W|~R))+X[10]-1051523|0,U=(U<<15|U>>>17)+W|0,R+=(W^(U|~I))+X[1]-2054922799|0,R=(R<<21|R>>>11)+U|0,I+=(U^(R|~W))+X[8]+1873313359|0,I=(I<<6|I>>>26)+R|0,W+=(R^(I|~U))+X[15]-30611744|0,W=(W<<10|W>>>22)+I|0,U+=(I^(W|~R))+X[6]-1560198380|0,U=(U<<15|U>>>17)+W|0,R+=(W^(U|~I))+X[13]+1309151649|0,R=(R<<21|R>>>11)+U|0,I+=(U^(R|~W))+X[4]-145523070|0,I=(I<<6|I>>>26)+R|0,W+=(R^(I|~U))+X[11]-1120210379|0,W=(W<<10|W>>>22)+I|0,U+=(I^(W|~R))+X[2]+718787259|0,U=(U<<15|U>>>17)+W|0,R+=(W^(U|~I))+X[9]-343485551|0,R=(R<<21|R>>>11)+U|0,G[0]=I+G[0]|0,G[1]=R+G[1]|0,G[2]=U+G[2]|0,G[3]=W+G[3]|0}function q(G){var X=[],I;for(I=0;I<64;I+=4)X[I>>2]=G.charCodeAt(I)+(G.charCodeAt(I+1)<<8)+(G.charCodeAt(I+2)<<16)+(G.charCodeAt(I+3)<<24);return X}function V(G){var X=[],I;for(I=0;I<64;I+=4)X[I>>2]=G[I]+(G[I+1]<<8)+(G[I+2]<<16)+(G[I+3]<<24);return X}function O(G){var X=G.length,I=[1732584193,-271733879,-1732584194,271733878],R,U,W,ne,jt,Se;for(R=64;R<=X;R+=64)F(I,q(G.substring(R-64,R)));for(G=G.substring(R-64),U=G.length,W=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],R=0;R<U;R+=1)W[R>>2]|=G.charCodeAt(R)<<(R%4<<3);if(W[R>>2]|=128<<(R%4<<3),R>55)for(F(I,W),R=0;R<16;R+=1)W[R]=0;return ne=X*8,ne=ne.toString(16).match(/(.*?)(.{0,8})$/),jt=parseInt(ne[2],16),Se=parseInt(ne[1],16)||0,W[14]=jt,W[15]=Se,F(I,W),I}function $(G){var X=G.length,I=[1732584193,-271733879,-1732584194,271733878],R,U,W,ne,jt,Se;for(R=64;R<=X;R+=64)F(I,V(G.subarray(R-64,R)));for(G=R-64<X?G.subarray(R-64):new Uint8Array(0),U=G.length,W=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],R=0;R<U;R+=1)W[R>>2]|=G[R]<<(R%4<<3);if(W[R>>2]|=128<<(R%4<<3),R>55)for(F(I,W),R=0;R<16;R+=1)W[R]=0;return ne=X*8,ne=ne.toString(16).match(/(.*?)(.{0,8})$/),jt=parseInt(ne[2],16),Se=parseInt(ne[1],16)||0,W[14]=jt,W[15]=Se,F(I,W),I}function Z(G){var X="",I;for(I=0;I<4;I+=1)X+=L[G>>I*8+4&15]+L[G>>I*8&15];return X}function J(G){var X;for(X=0;X<G.length;X+=1)G[X]=Z(G[X]);return G.join("")}J(O("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function G(X,I){return X=X|0||0,X<0?Math.max(X+I,0):Math.min(X,I)}ArrayBuffer.prototype.slice=function(X,I){var R=this.byteLength,U=G(X,R),W=R,ne,jt,Se,Ge;return I!==T&&(W=G(I,R)),U>W?new ArrayBuffer(0):(ne=W-U,jt=new ArrayBuffer(ne),Se=new Uint8Array(jt),Ge=new Uint8Array(this,U,ne),Se.set(Ge),jt)}}();function K(G){return/[\u0080-\uFFFF]/.test(G)&&(G=unescape(encodeURIComponent(G))),G}function pt(G,X){var I=G.length,R=new ArrayBuffer(I),U=new Uint8Array(R),W;for(W=0;W<I;W+=1)U[W]=G.charCodeAt(W);return X?U:R}function Ct(G){return String.fromCharCode.apply(null,new Uint8Array(G))}function At(G,X,I){var R=new Uint8Array(G.byteLength+X.byteLength);return R.set(new Uint8Array(G)),R.set(new Uint8Array(X),G.byteLength),I?R:R.buffer}function yt(G){var X=[],I=G.length,R;for(R=0;R<I-1;R+=2)X.push(parseInt(G.substr(R,2),16));return String.fromCharCode.apply(String,X)}function vt(){this.reset()}return vt.prototype.append=function(G){return this.appendBinary(K(G)),this},vt.prototype.appendBinary=function(G){this._buff+=G,this._length+=G.length;var X=this._buff.length,I;for(I=64;I<=X;I+=64)F(this._hash,q(this._buff.substring(I-64,I)));return this._buff=this._buff.substring(I-64),this},vt.prototype.end=function(G){var X=this._buff,I=X.length,R,U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],W;for(R=0;R<I;R+=1)U[R>>2]|=X.charCodeAt(R)<<(R%4<<3);return this._finish(U,I),W=J(this._hash),G&&(W=yt(W)),this.reset(),W},vt.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},vt.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},vt.prototype.setState=function(G){return this._buff=G.buff,this._length=G.length,this._hash=G.hash,this},vt.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},vt.prototype._finish=function(G,X){var I=X,R,U,W;if(G[I>>2]|=128<<(I%4<<3),I>55)for(F(this._hash,G),I=0;I<16;I+=1)G[I]=0;R=this._length*8,R=R.toString(16).match(/(.*?)(.{0,8})$/),U=parseInt(R[2],16),W=parseInt(R[1],16)||0,G[14]=U,G[15]=W,F(this._hash,G)},vt.hash=function(G,X){return vt.hashBinary(K(G),X)},vt.hashBinary=function(G,X){var I=O(G),R=J(I);return X?yt(R):R},vt.ArrayBuffer=function(){this.reset()},vt.ArrayBuffer.prototype.append=function(G){var X=At(this._buff.buffer,G,!0),I=X.length,R;for(this._length+=G.byteLength,R=64;R<=I;R+=64)F(this._hash,V(X.subarray(R-64,R)));return this._buff=R-64<I?new Uint8Array(X.buffer.slice(R-64)):new Uint8Array(0),this},vt.ArrayBuffer.prototype.end=function(G){var X=this._buff,I=X.length,R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],U,W;for(U=0;U<I;U+=1)R[U>>2]|=X[U]<<(U%4<<3);return this._finish(R,I),W=J(this._hash),G&&(W=yt(W)),this.reset(),W},vt.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},vt.ArrayBuffer.prototype.getState=function(){var G=vt.prototype.getState.call(this);return G.buff=Ct(G.buff),G},vt.ArrayBuffer.prototype.setState=function(G){return G.buff=pt(G.buff,!0),vt.prototype.setState.call(this,G)},vt.ArrayBuffer.prototype.destroy=vt.prototype.destroy,vt.ArrayBuffer.prototype._finish=vt.prototype._finish,vt.ArrayBuffer.hash=function(G,X){var I=$(new Uint8Array(G)),R=J(I);return X?yt(R):R},vt})})(t);var e=t.exports;let i=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice;class r{static create(B,T){new r(B).create(T)}constructor(B){this.file=B,this.chunkSize=2097152,this.chunkCount=Math.ceil(this.file.size/this.chunkSize),this.chunkIndex=0}create(B){this.callback=B,this.md5Buffer=new e.ArrayBuffer,this.fileReader=new FileReader,this.fileReader.addEventListener("load",T=>this.fileReaderDidLoad(T)),this.fileReader.addEventListener("error",T=>this.fileReaderDidError(T)),this.readNextChunk()}fileReaderDidLoad(B){if(this.md5Buffer.append(B.target.result),!this.readNextChunk()){let T=this.md5Buffer.end(!0),L=btoa(T);this.callback(null,L)}}fileReaderDidError(B){this.callback(`Error reading ${this.file.name}`)}readNextChunk(){if(this.chunkIndex<this.chunkCount||this.chunkIndex==0&&this.chunkCount==0){let B=this.chunkIndex*this.chunkSize,T=Math.min(B+this.chunkSize,this.file.size),L=i.call(this.file,B,T);return this.fileReader.readAsArrayBuffer(L),this.chunkIndex++,!0}else return!1}}function s(st){let B=a(document.head,`meta[name="${st}"]`);if(B)return B.getAttribute("content")}function o(st,B){typeof st=="string"&&(B=st,st=document);let T=st.querySelectorAll(B);return u(T)}function a(st,B){return typeof st=="string"&&(B=st,st=document),st.querySelector(B)}function l(st,B,T={}){let{disabled:L}=st,{bubbles:F,cancelable:q,detail:V}=T,O=document.createEvent("Event");O.initEvent(B,F||!0,q||!0),O.detail=V||{};try{st.disabled=!1,st.dispatchEvent(O)}finally{st.disabled=L}return O}function u(st){return Array.isArray(st)?st:Array.from?Array.from(st):[].slice.call(st)}class c{constructor(B,T,L,F={}){this.file=B,this.attributes={filename:B.name,content_type:B.type||"application/octet-stream",byte_size:B.size,checksum:T},this.xhr=new XMLHttpRequest,this.xhr.open("POST",L,!0),this.xhr.responseType="json",this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("Accept","application/json"),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(F).forEach(V=>{this.xhr.setRequestHeader(V,F[V])});let q=s("csrf-token");q!=null&&this.xhr.setRequestHeader("X-CSRF-Token",q),this.xhr.addEventListener("load",V=>this.requestDidLoad(V)),this.xhr.addEventListener("error",V=>this.requestDidError(V))}get status(){return this.xhr.status}get response(){let{responseType:B,response:T}=this.xhr;return B=="json"?T:JSON.parse(T)}create(B){this.callback=B,this.xhr.send(JSON.stringify({blob:this.attributes}))}requestDidLoad(B){if(this.status>=200&&this.status<300){let{response:T}=this,{direct_upload:L}=T;delete T.direct_upload,this.attributes=T,this.directUploadData=L,this.callback(null,this.toJSON())}else this.requestDidError(B)}requestDidError(B){this.callback(`Error creating Blob for "${this.file.name}". Status: ${this.status}`)}toJSON(){let B={};for(let T in this.attributes)B[T]=this.attributes[T];return B}}class d{constructor(B){this.blob=B,this.file=B.file;let{url:T,headers:L}=B.directUploadData;this.xhr=new XMLHttpRequest,this.xhr.open("PUT",T,!0),this.xhr.responseType="text";for(let F in L)this.xhr.setRequestHeader(F,L[F]);this.xhr.addEventListener("load",F=>this.requestDidLoad(F)),this.xhr.addEventListener("error",F=>this.requestDidError(F))}create(B){this.callback=B,this.xhr.send(this.file.slice())}requestDidLoad(B){let{status:T,response:L}=this.xhr;T>=200&&T<300?this.callback(null,L):this.requestDidError(B)}requestDidError(B){this.callback(`Error storing "${this.file.name}". Status: ${this.xhr.status}`)}}let h=0;class m{constructor(B,T,L,F={}){this.id=++h,this.file=B,this.url=T,this.delegate=L,this.customHeaders=F}create(B){r.create(this.file,(T,L)=>{if(T){B(T);return}let F=new c(this.file,L,this.url,this.customHeaders);v(this.delegate,"directUploadWillCreateBlobWithXHR",F.xhr),F.create(q=>{if(q)B(q);else{let V=new d(F);v(this.delegate,"directUploadWillStoreFileWithXHR",V.xhr),V.create(O=>{O?B(O):B(null,F.toJSON())})}})})}}function v(st,B,...T){if(st&&typeof st[B]=="function")return st[B](...T)}class g{constructor(B,T){this.input=B,this.file=T,this.directUpload=new m(this.file,this.url,this),this.dispatch("initialize")}start(B){let T=document.createElement("input");T.type="hidden",T.name=this.input.name,this.input.insertAdjacentElement("beforebegin",T),this.dispatch("start"),this.directUpload.create((L,F)=>{L?(T.parentNode.removeChild(T),this.dispatchError(L)):T.value=F.signed_id,this.dispatch("end"),B(L)})}uploadRequestDidProgress(B){let T=B.loaded/B.total*100;T&&this.dispatch("progress",{progress:T})}get url(){return this.input.getAttribute("data-direct-upload-url")}dispatch(B,T={}){return T.file=this.file,T.id=this.directUpload.id,l(this.input,`direct-upload:${B}`,{detail:T})}dispatchError(B){this.dispatch("error",{error:B}).defaultPrevented||alert(B)}directUploadWillCreateBlobWithXHR(B){this.dispatch("before-blob-request",{xhr:B})}directUploadWillStoreFileWithXHR(B){this.dispatch("before-storage-request",{xhr:B}),B.upload.addEventListener("progress",T=>this.uploadRequestDidProgress(T))}}let y="input[type=file][data-direct-upload-url]:not([disabled])";class x{constructor(B){this.form=B,this.inputs=o(B,y).filter(T=>T.files.length)}start(B){let T=this.createDirectUploadControllers(),L=()=>{let F=T.shift();F?F.start(q=>{q?(B(q),this.dispatch("end")):L()}):(B(),this.dispatch("end"))};this.dispatch("start"),L()}createDirectUploadControllers(){let B=[];return this.inputs.forEach(T=>{u(T.files).forEach(L=>{let F=new g(T,L);B.push(F)})}),B}dispatch(B,T={}){return l(this.form,`direct-uploads:${B}`,{detail:T})}}let A="data-direct-uploads-processing",w=new WeakMap,p=!1;function _(){p||(p=!0,document.addEventListener("click",S,!0),document.addEventListener("submit",j,!0),document.addEventListener("ajax:before",H))}function S(st){let B=st.target.closest("button, input");B&&B.type==="submit"&&B.form&&w.set(B.form,B)}function j(st){Y(st)}function H(st){st.target.tagName=="FORM"&&Y(st)}function Y(st){let B=st.target;if(B.hasAttribute(A)){st.preventDefault();return}let T=new x(B),{inputs:L}=T;L.length&&(st.preventDefault(),B.setAttribute(A,""),L.forEach(ot),T.start(F=>{B.removeAttribute(A),F?L.forEach(rt):et(B)}))}function et(st){let B=w.get(st)||a(st,"input[type=submit], button[type=submit]");if(B){let{disabled:T}=B;B.disabled=!1,B.focus(),B.click(),B.disabled=T}else B=document.createElement("input"),B.type="submit",B.style.display="none",st.appendChild(B),B.click(),st.removeChild(B);w.delete(st)}function ot(st){st.disabled=!0}function rt(st){st.disabled=!1}function dt(){window.ActiveStorage&&_()}setTimeout(dt,1),n.DirectUpload=m,n.DirectUploadController=g,n.DirectUploadsController=x,n.start=_,Object.defineProperty(n,"__esModule",{value:!0})})});var oC=zn((a0,l0)=>{(function(n,t){typeof a0=="object"&&typeof l0<"u"?l0.exports=t():typeof define=="function"&&define.amd?define(t):(n=typeof globalThis<"u"?globalThis:n||self).LocalTime=t()})(a0,function(){"use strict";var n;n={config:{},run:function(){return this.getController().processElements()},process:function(...O){var $,Z,J;for(Z=0,J=O.length;Z<J;Z++)$=O[Z],this.getController().processElement($);return O.length},getController:function(){return this.controller!=null?this.controller:this.controller=new n.Controller}};var t,e,i,r,s,o,a,l,u,c,d,h,m,v,g,y,x,A,w,p,_,S,j,H,Y,et,ot,rt,dt,st,B,T,L,F,q,V=n;return V.config.useFormat24=!1,V.config.i18n={en:{date:{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbrDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbrMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],yesterday:"yesterday",today:"today",tomorrow:"tomorrow",on:"on {date}",formats:{default:"%b %e, %Y",thisYear:"%b %e"}},time:{am:"am",pm:"pm",singular:"a {time}",singularAn:"an {time}",elapsed:"{time} ago",second:"second",seconds:"seconds",minute:"minute",minutes:"minutes",hour:"hour",hours:"hours",formats:{default:"%l:%M%P",default_24h:"%H:%M"}},datetime:{at:"{date} at {time}",formats:{default:"%B %e, %Y at %l:%M%P %Z",default_24h:"%B %e, %Y at %H:%M %Z"}}}},V.config.locale="en",V.config.defaultLocale="en",V.config.timerInterval=6e4,i=!isNaN(Date.parse("2011-01-01T12:00:00-05:00")),V.parseDate=function(O){return O=O.toString(),i||(O=e(O)),new Date(Date.parse(O))},t=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(Z|[-+]?[\d:]+)$/,e=function(O){var $,Z,J,K,pt,Ct,At,yt,vt,G;if(K=O.match(t))return[$,vt,Ct,Z,J,pt,yt,G]=K,G!=="Z"&&(At=G.replace(":","")),`${vt}/${Ct}/${Z} ${J}:${pt}:${yt} GMT${[At]}`},V.elementMatchesSelector=(r=document.documentElement,s=(o=(a=(l=(u=r.matches)!=null?u:r.matchesSelector)!=null?l:r.webkitMatchesSelector)!=null?a:r.mozMatchesSelector)!=null?o:r.msMatchesSelector,function(O,$){if(O?.nodeType===Node.ELEMENT_NODE)return s.call(O,$)}),{config:c}=V,{i18n:h}=c,V.getI18nValue=function(O="",{locale:$}={locale:c.locale}){var Z;return(Z=d(h[$],O))!=null?Z:$!==c.defaultLocale?V.getI18nValue(O,{locale:c.defaultLocale}):void 0},V.translate=function(O,$={},Z){var J,K,pt;for(J in pt=V.getI18nValue(O,Z),$)K=$[J],pt=pt.replace(`{${J}}`,K);return pt},d=function(O,$){var Z,J,K,pt,Ct;for(Ct=O,Z=0,K=(pt=$.split(".")).length;Z<K;Z++){if(Ct[J=pt[Z]]==null)return null;Ct=Ct[J]}return Ct},{getI18nValue:v,translate:S}=V,_=typeof(typeof Intl<"u"&&Intl!==null?Intl.DateTimeFormat:void 0)=="function",g={"Central European Standard Time":"CET","Central European Summer Time":"CEST","China Standard Time":"CST","Israel Daylight Time":"IDT","Israel Standard Time":"IST","Moscow Standard Time":"MSK","Philippine Standard Time":"PHT","Singapore Standard Time":"SGT","Western Indonesia Time":"WIB"},V.knownEdgeCaseTimeZones=g,V.strftime=p=function(O,$){var Z,J,K,pt,Ct,At,yt;return J=O.getDay(),Z=O.getDate(),Ct=O.getMonth(),yt=O.getFullYear(),K=O.getHours(),pt=O.getMinutes(),At=O.getSeconds(),$.replace(/%(-?)([%aAbBcdeHIlmMpPSwyYZ])/g,function(vt,G,X){switch(X){case"%":return"%";case"a":return v("date.abbrDayNames")[J];case"A":return v("date.dayNames")[J];case"b":return v("date.abbrMonthNames")[Ct];case"B":return v("date.monthNames")[Ct];case"c":return O.toString();case"d":return y(Z,G);case"e":return Z;case"H":return y(K,G);case"I":return y(p(O,"%l"),G);case"l":return K===0||K===12?12:(K+12)%12;case"m":return y(Ct+1,G);case"M":return y(pt,G);case"p":return S("time."+(K>11?"pm":"am")).toUpperCase();case"P":return S("time."+(K>11?"pm":"am"));case"S":return y(At,G);case"w":return J;case"y":return y(yt%100,G);case"Y":return yt;case"Z":return x(O)}})},y=function(O,$){return $==="-"?O:`0${O}`.slice(-2)},x=function(O){var $,Z,J;return(Z=m(O))?g[Z]:(J=w(O,{allowGMT:!1}))||(J=A(O))?J:($=w(O,{allowGMT:!0}))?$:""},m=function(O){return Object.keys(g).find(function($){return _?new Date(O).toLocaleString("en-US",{timeZoneName:"long"}).includes($):O.toString().includes($)})},w=function(O,{allowGMT:$}){var Z;if(_&&(Z=new Date(O).toLocaleString("en-US",{timeZoneName:"short"}).split(" ").pop(),$||!Z.includes("GMT")))return Z},A=function(O){var $,Z,J,K,pt;return($=(Z=(pt=O.toString()).match(/\(([\w\s]+)\)$/))!=null?Z[1]:void 0)?/\s/.test($)?$.match(/\b(\w)/g).join(""):$:($=(J=pt.match(/(\w{3,4})\s\d{4}$/))!=null?J[1]:void 0)||($=(K=pt.match(/(UTC[\+\-]\d+)/))!=null?K[1]:void 0)?$:void 0},V.CalendarDate=class{static fromDate(O){return new this(O.getFullYear(),O.getMonth()+1,O.getDate())}static today(){return this.fromDate(new Date)}constructor(O,$,Z){this.date=new Date(Date.UTC(O,$-1)),this.date.setUTCDate(Z),this.year=this.date.getUTCFullYear(),this.month=this.date.getUTCMonth()+1,this.day=this.date.getUTCDate(),this.value=this.date.getTime()}equals(O){return O?.value===this.value}is(O){return this.equals(O)}isToday(){return this.is(this.constructor.today())}occursOnSameYearAs(O){return this.year===O?.year}occursThisYear(){return this.occursOnSameYearAs(this.constructor.today())}daysSince(O){if(O)return(this.date-O.date)/864e5}daysPassed(){return this.constructor.today().daysSince(this)}},{strftime:Y,translate:et,getI18nValue:H,config:j}=V,V.RelativeTime=class{constructor(O){this.date=O,this.calendarDate=V.CalendarDate.fromDate(this.date)}toString(){var O,$;return($=this.toTimeElapsedString())?et("time.elapsed",{time:$}):(O=this.toWeekdayString())?($=this.toTimeString(),et("datetime.at",{date:O,time:$})):et("date.on",{date:this.toDateString()})}toTimeOrDateString(){return this.calendarDate.isToday()?this.toTimeString():this.toDateString()}toTimeElapsedString(){var O,$,Z,J,K;return Z=new Date().getTime()-this.date.getTime(),J=Math.round(Z/1e3),$=Math.round(J/60),O=Math.round($/60),Z<0?null:J<10?(K=et("time.second"),et("time.singular",{time:K})):J<45?`${J} ${et("time.seconds")}`:J<90?(K=et("time.minute"),et("time.singular",{time:K})):$<45?`${$} ${et("time.minutes")}`:$<90?(K=et("time.hour"),et("time.singularAn",{time:K})):O<24?`${O} ${et("time.hours")}`:""}toWeekdayString(){switch(this.calendarDate.daysPassed()){case 0:return et("date.today");case 1:return et("date.yesterday");case-1:return et("date.tomorrow");case 2:case 3:case 4:case 5:case 6:return Y(this.date,"%A");default:return""}}toDateString(){var O;return O=this.calendarDate.occursThisYear()?H("date.formats.thisYear"):H("date.formats.default"),Y(this.date,O)}toTimeString(){var O;return O=j.useFormat24?"default_24h":"default",Y(this.date,H(`time.formats.${O}`))}},{elementMatchesSelector:ot}=V,V.PageObserver=class{constructor(O,$){this.processMutations=this.processMutations.bind(this),this.processInsertion=this.processInsertion.bind(this),this.selector=O,this.callback=$}start(){if(!this.started)return this.observeWithMutationObserver()||this.observeWithMutationEvent(),this.started=!0}observeWithMutationObserver(){if(typeof MutationObserver<"u"&&MutationObserver!==null)return new MutationObserver(this.processMutations).observe(document.documentElement,{childList:!0,subtree:!0}),!0}observeWithMutationEvent(){return addEventListener("DOMNodeInserted",this.processInsertion,!1),!0}findSignificantElements(O){var $;return $=[],O?.nodeType===Node.ELEMENT_NODE&&(ot(O,this.selector)&&$.push(O),$.push(...O.querySelectorAll(this.selector))),$}processMutations(O){var $,Z,J,K,pt,Ct,At,yt;for($=[],Z=0,K=O.length;Z<K;Z++)if((Ct=O[Z]).type==="childList")for(J=0,pt=(yt=Ct.addedNodes).length;J<pt;J++)At=yt[J],$.push(...this.findSignificantElements(At));return this.notify($)}processInsertion(O){var $;return $=this.findSignificantElements(O.target),this.notify($)}notify(O){if(O?.length)return typeof this.callback=="function"?this.callback(O):void 0}},{parseDate:st,strftime:B,getI18nValue:dt,config:rt}=V,V.Controller=function(){var O,$,Z,J;return O="time[data-local]:not([data-localized])",$=function(K){return K.setAttribute("data-localized","")},Z=function(K){return K.setAttribute("data-processed-at",new Date().toISOString())},J=function(K){return new V.RelativeTime(K)},class{constructor(){this.processElements=this.processElements.bind(this),this.pageObserver=new V.PageObserver(O,this.processElements)}start(){if(!this.started)return this.processElements(),this.startTimer(),this.pageObserver.start(),this.started=!0}startTimer(){var K;if(K=rt.timerInterval)return this.timer!=null?this.timer:this.timer=setInterval(this.processElements,K)}processElements(K=document.querySelectorAll(O)){var pt,Ct,At;for(Ct=0,At=K.length;Ct<At;Ct++)pt=K[Ct],this.processElement(pt);return K.length}processElement(K){var pt,Ct,At,yt,vt,G;if(pt=K.getAttribute("datetime"),At=K.getAttribute("data-local"),Ct=rt.useFormat24&&K.getAttribute("data-format24")||K.getAttribute("data-format"),yt=st(pt),!isNaN(yt))return K.hasAttribute("title")||(G=rt.useFormat24?"default_24h":"default",vt=B(yt,dt(`datetime.formats.${G}`)),K.setAttribute("title",vt)),Z(K),K.textContent=function(){switch(At){case"time":return $(K),B(yt,Ct);case"date":return $(K),J(yt).toDateString();case"time-ago":return J(yt).toString();case"time-or-date":return J(yt).toTimeOrDateString();case"weekday":return J(yt).toWeekdayString();case"weekday-or-date":return J(yt).toWeekdayString()||J(yt).toDateString()}}()}}}.call(window),q=!1,T=function(){return document.attachEvent?document.readyState==="complete":document.readyState!=="loading"},L=function(O){var $;return($=typeof requestAnimationFrame=="function"?requestAnimationFrame(O):void 0)!=null?$:setTimeout(O,17)},F=function(){return V.getController().start()},V.start=function(){return q?V.run():(q=!0,typeof MutationObserver<"u"&&MutationObserver!==null||T()?F():L(F))},V.processing=function(){return V.getController().started},window.LocalTime===V&&V.start(),V})});var hf={};de(hf,{FetchEnctype:()=>cr,FetchMethod:()=>Bn,FetchRequest:()=>dr,FetchResponse:()=>Ks,FrameElement:()=>ii,FrameLoadingStyle:()=>Vr,FrameRenderer:()=>Js,PageRenderer:()=>Ur,PageSnapshot:()=>Un,StreamActions:()=>qr,StreamElement:()=>uc,StreamSourceElement:()=>dc,cache:()=>T0,clearCache:()=>L0,connectStreamSource:()=>aa,disconnectStreamSource:()=>la,fetch:()=>uf,fetchEnctypeFromString:()=>_0,fetchMethodFromString:()=>hc,isSafe:()=>fc,navigator:()=>O0,registerAdapter:()=>D0,renderStreamMessage:()=>P0,session:()=>Ce,setConfirmMethod:()=>I0,setFormMode:()=>F0,setProgressBarDelay:()=>R0,start:()=>df,visit:()=>M0});(function(n){if(typeof n.requestSubmit=="function")return;n.requestSubmit=function(i){i?(t(i,this),i.click()):(i=document.createElement("input"),i.type="submit",i.hidden=!0,this.appendChild(i),i.click(),this.removeChild(i))};function t(i,r){i instanceof HTMLElement||e(TypeError,"parameter 1 is not of type 'HTMLElement'"),i.type=="submit"||e(TypeError,"The specified element is not a submit button"),i.form==r||e(DOMException,"The specified element is not owned by this form element","NotFoundError")}function e(i,r,s){throw new i("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+r+".",s)}})(HTMLFormElement.prototype);var p0=new WeakMap;function mC(n){let t=n instanceof Element?n:n instanceof Node?n.parentElement:null,e=t?t.closest("input, button"):null;return e?.type=="submit"?e:null}function gC(n){let t=mC(n.target);t&&t.form&&p0.set(t.form,t)}(function(){if("submitter"in Event.prototype)return;let n=window.Event.prototype;if("SubmitEvent"in window){let t=window.SubmitEvent.prototype;if(/Apple Computer/.test(navigator.vendor)&&!("submitter"in t))n=t;else return}addEventListener("click",gC,!0),Object.defineProperty(n,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return p0.get(this.target)}})})();var Vr={eager:"eager",lazy:"lazy"},ii=class n extends HTMLElement{static delegateConstructor=void 0;loaded=Promise.resolve();static get observedAttributes(){return["disabled","loading","src"]}constructor(){super(),this.delegate=new n.delegateConstructor(this)}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(t){t=="loading"?this.delegate.loadingStyleChanged():t=="src"?this.delegate.sourceURLChanged():t=="disabled"&&this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(t){t?this.setAttribute("src",t):this.removeAttribute("src")}get refresh(){return this.getAttribute("refresh")}set refresh(t){t?this.setAttribute("refresh",t):this.removeAttribute("refresh")}get loading(){return vC(this.getAttribute("loading")||"")}set loading(t){t?this.setAttribute("loading",t):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(t){t?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){return this.ownerDocument?.documentElement?.hasAttribute("data-turbo-preview")}};function vC(n){switch(n.toLowerCase()){case"lazy":return Vr.lazy;default:return Vr.eager}}function rn(n){return new URL(n.toString(),document.baseURI)}function Wr(n){let t;if(n.hash)return n.hash.slice(1);if(t=n.href.match(/#(.*)$/))return t[1]}function lf(n,t){let e=t?.getAttribute("formaction")||n.getAttribute("action")||n.action;return rn(e)}function bC(n){return(SC(n).match(/\.[^.]*$/)||[])[0]||""}function yC(n){return!!bC(n).match(/^(?:|\.(?:htm|html|xhtml|php))$/)}function wC(n,t){let e=_C(t);return n.href===rn(e).href||n.href.startsWith(e)}function lr(n,t){return wC(n,t)&&yC(n)}function Rh(n){let t=Wr(n);return t!=null?n.href.slice(0,-(t.length+1)):n.href}function Zl(n){return Rh(n)}function xC(n,t){return rn(n).href==rn(t).href}function AC(n){return n.pathname.split("/").slice(1)}function SC(n){return AC(n).slice(-1)[0]}function _C(n){return CC(n.origin+n.pathname)}function CC(n){return n.endsWith("/")?n:n+"/"}var Ks=class{constructor(t){this.response=t}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return rn(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(t){return this.response.headers.get(t)}};function ia(n){if(n.getAttribute("data-turbo-eval")=="false")return n;{let t=document.createElement("script"),e=Gs("csp-nonce");return e&&(t.nonce=e),t.textContent=n.textContent,t.async=!1,EC(t,n),t}}function EC(n,t){for(let{name:e,value:i}of t.attributes)n.setAttribute(e,i)}function kC(n){let t=document.createElement("template");return t.innerHTML=n,t.content}function De(n,{target:t,cancelable:e,detail:i}={}){let r=new CustomEvent(n,{cancelable:e,bubbles:!0,composed:!0,detail:i});return t&&t.isConnected?t.dispatchEvent(r):document.documentElement.dispatchEvent(r),r}function Us(){return document.visibilityState==="hidden"?g0():m0()}function m0(){return new Promise(n=>requestAnimationFrame(()=>n()))}function g0(){return new Promise(n=>setTimeout(()=>n(),0))}function TC(){return Promise.resolve()}function v0(n=""){return new DOMParser().parseFromString(n,"text/html")}function b0(n,...t){let e=OC(n,t).replace(/^\n/,"").split(`
`),i=e[0].match(/^\s+/),r=i?i[0].length:0;return e.map(s=>s.slice(r)).join(`
`)}function OC(n,t){return n.reduce((e,i,r)=>{let s=t[r]==null?"":t[r];return e+i+s},"")}function ur(){return Array.from({length:36}).map((n,t)=>t==8||t==13||t==18||t==23?"-":t==14?"4":t==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function ec(n,...t){for(let e of t.map(i=>i?.getAttribute(n)))if(typeof e=="string")return e;return null}function DC(n,...t){return t.some(e=>e&&e.hasAttribute(n))}function nc(...n){for(let t of n)t.localName=="turbo-frame"&&t.setAttribute("busy",""),t.setAttribute("aria-busy","true")}function ic(...n){for(let t of n)t.localName=="turbo-frame"&&t.removeAttribute("busy"),t.removeAttribute("aria-busy")}function MC(n,t=2e3){return new Promise(e=>{let i=()=>{n.removeEventListener("error",i),n.removeEventListener("load",i),e()};n.addEventListener("load",i,{once:!0}),n.addEventListener("error",i,{once:!0}),setTimeout(e,t)})}function y0(n){switch(n){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function PC(n){return n=="advance"||n=="replace"||n=="restore"}function zr(...n){let t=ec("data-turbo-action",...n);return PC(t)?t:null}function w0(n){return document.querySelector(`meta[name="${n}"]`)}function Gs(n){let t=w0(n);return t&&t.content}function LC(n,t){let e=w0(n);return e||(e=document.createElement("meta"),e.setAttribute("name",n),document.head.appendChild(e)),e.setAttribute("content",t),e}function qs(n,t){if(n instanceof Element)return n.closest(t)||qs(n.assignedSlot||n.getRootNode()?.host,t)}function cf(n){return!!n&&n.closest("[inert], :disabled, [hidden], details:not([open]), dialog:not([open])")==null&&typeof n.focus=="function"}function x0(n){return Array.from(n.querySelectorAll("[autofocus]")).find(cf)}async function RC(n,t){let e=t();n(),await m0();let i=t();return[e,i]}function IC(n){if(n.hasAttribute("target")){for(let t of document.getElementsByName(n.target))if(t instanceof HTMLIFrameElement)return!1}return!0}function FC(n){return qs(n,"a[href]:not([target^=_]):not([download])")}function A0(n){return rn(n.getAttribute("href")||"")}function NC(n,t){let e=null;return(...i)=>{let r=()=>n.apply(this,i);clearTimeout(e),e=setTimeout(r,t)}}var Ih=class extends Set{constructor(t){super(),this.maxSize=t}add(t){if(this.size>=this.maxSize){let i=this.values().next().value;this.delete(i)}super.add(t)}},S0=new Ih(20),BC=window.fetch;function uf(n,t={}){let e=new Headers(t.headers||{}),i=ur();return S0.add(i),e.append("X-Turbo-Request-Id",i),BC(n,{...t,headers:e})}function hc(n){switch(n.toLowerCase()){case"get":return Bn.get;case"post":return Bn.post;case"put":return Bn.put;case"patch":return Bn.patch;case"delete":return Bn.delete}}var Bn={get:"get",post:"post",put:"put",patch:"patch",delete:"delete"};function _0(n){switch(n.toLowerCase()){case cr.multipart:return cr.multipart;case cr.plain:return cr.plain;default:return cr.urlEncoded}}var cr={urlEncoded:"application/x-www-form-urlencoded",multipart:"multipart/form-data",plain:"text/plain"},dr=class{abortController=new AbortController;#t=t=>{};constructor(t,e,i,r=new URLSearchParams,s=null,o=cr.urlEncoded){let[a,l]=c0(rn(i),e,r,o);this.delegate=t,this.url=a,this.target=s,this.fetchOptions={credentials:"same-origin",redirect:"follow",method:e,headers:{...this.defaultHeaders},body:l,signal:this.abortSignal,referrer:this.delegate.referrer?.href},this.enctype=o}get method(){return this.fetchOptions.method}set method(t){let e=this.isSafe?this.url.searchParams:this.fetchOptions.body||new FormData,i=hc(t)||Bn.get;this.url.search="";let[r,s]=c0(this.url,i,e,this.enctype);this.url=r,this.fetchOptions.body=s,this.fetchOptions.method=i}get headers(){return this.fetchOptions.headers}set headers(t){this.fetchOptions.headers=t}get body(){return this.isSafe?this.url.searchParams:this.fetchOptions.body}set body(t){this.fetchOptions.body=t}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){let{fetchOptions:t}=this;this.delegate.prepareRequest(this);let e=await this.#e(t);try{this.delegate.requestStarted(this),e.detail.fetchRequest?this.response=e.detail.fetchRequest.response:this.response=uf(this.url.href,t);let i=await this.response;return await this.receive(i)}catch(i){if(i.name!=="AbortError")throw this.#n(i)&&this.delegate.requestErrored(this,i),i}finally{this.delegate.requestFinished(this)}}async receive(t){let e=new Ks(t);return De("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:e},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,e):e.succeeded?this.delegate.requestSucceededWithResponse(this,e):this.delegate.requestFailedWithResponse(this,e),e}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return fc(this.method)}get abortSignal(){return this.abortController.signal}acceptResponseType(t){this.headers.Accept=[t,this.headers.Accept].join(", ")}async#e(t){let e=new Promise(r=>this.#t=r),i=De("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:t,url:this.url,resume:this.#t},target:this.target});return this.url=i.detail.url,i.defaultPrevented&&await e,i}#n(t){return!De("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:t}}).defaultPrevented}};function fc(n){return hc(n)==Bn.get}function c0(n,t,e,i){let r=Array.from(e).length>0?new URLSearchParams(C0(e)):n.searchParams;return fc(t)?[jC(n,r),null]:i==cr.urlEncoded?[n,r]:[n,e]}function C0(n){let t=[];for(let[e,i]of n)i instanceof File||t.push([e,i]);return t}function jC(n,t){let e=new URLSearchParams(C0(t));return n.search=e.toString(),n}var Fh=class{started=!1;constructor(t,e){this.delegate=t,this.element=e,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}intersect=t=>{t.slice(-1)[0]?.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)}},hr=class{static contentType="text/vnd.turbo-stream.html";static wrap(t){return typeof t=="string"?new this(kC(t)):t}constructor(t){this.fragment=$C(t)}};function $C(n){for(let t of n.querySelectorAll("turbo-stream")){let e=document.importNode(t,!0);for(let i of e.templateElement.content.querySelectorAll("script"))i.replaceWith(ia(i));t.replaceWith(e)}return n}var HC=100,Nh=class{#t=null;#e=null;get(t){if(this.#e&&this.#e.url===t&&this.#e.expire>Date.now())return this.#e.request}setLater(t,e,i){this.clear(),this.#t=setTimeout(()=>{e.perform(),this.set(t,e,i),this.#t=null},HC)}set(t,e,i){this.#e={url:t,request:e,expire:new Date(new Date().getTime()+i)}}clear(){this.#t&&clearTimeout(this.#t),this.#e=null}},VC=10*1e3,zs=new Nh,Ws={initialized:"initialized",requesting:"requesting",waiting:"waiting",receiving:"receiving",stopping:"stopping",stopped:"stopped"},ra=class n{state=Ws.initialized;static confirmMethod(t,e,i){return Promise.resolve(confirm(t))}constructor(t,e,i,r=!1){let s=KC(e,i),o=YC(qC(e,i),s),a=WC(e,i),l=GC(e,i);this.delegate=t,this.formElement=e,this.submitter=i,this.fetchRequest=new dr(this,s,o,a,e,l),this.mustRedirect=r}get method(){return this.fetchRequest.method}set method(t){this.fetchRequest.method=t}get action(){return this.fetchRequest.url.toString()}set action(t){this.fetchRequest.url=rn(t)}get body(){return this.fetchRequest.body}get enctype(){return this.fetchRequest.enctype}get isSafe(){return this.fetchRequest.isSafe}get location(){return this.fetchRequest.url}async start(){let{initialized:t,requesting:e}=Ws,i=ec("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof i=="string"&&!await n.confirmMethod(i,this.formElement,this.submitter))&&this.state==t)return this.state=e,this.fetchRequest.perform()}stop(){let{stopping:t,stopped:e}=Ws;if(this.state!=t&&this.state!=e)return this.state=t,this.fetchRequest.cancel(),!0}prepareRequest(t){if(!t.isSafe){let e=zC(Gs("csrf-param"))||Gs("csrf-token");e&&(t.headers["X-CSRF-Token"]=e)}this.requestAcceptsTurboStreamResponse(t)&&t.acceptResponseType(hr.contentType)}requestStarted(t){this.state=Ws.waiting,this.submitter?.setAttribute("disabled",""),this.setSubmitsWith(),nc(this.formElement),De("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(t,e){zs.clear(),this.result={success:e.succeeded,fetchResponse:e}}requestSucceededWithResponse(t,e){if(e.clientError||e.serverError){this.delegate.formSubmissionFailedWithResponse(this,e);return}if(zs.clear(),this.requestMustRedirect(t)&&UC(e)){let i=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,i)}else this.state=Ws.receiving,this.result={success:!0,fetchResponse:e},this.delegate.formSubmissionSucceededWithResponse(this,e)}requestFailedWithResponse(t,e){this.result={success:!1,fetchResponse:e},this.delegate.formSubmissionFailedWithResponse(this,e)}requestErrored(t,e){this.result={success:!1,error:e},this.delegate.formSubmissionErrored(this,e)}requestFinished(t){this.state=Ws.stopped,this.submitter?.removeAttribute("disabled"),this.resetSubmitterText(),ic(this.formElement),De("turbo:submit-end",{target:this.formElement,detail:{formSubmission:this,...this.result}}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){let t=this.submitter;this.originalSubmitText=t.value,t.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){let t=this.submitter;t.value=this.originalSubmitText}}}requestMustRedirect(t){return!t.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(t){return!t.isSafe||DC("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){return this.submitter?.getAttribute("data-turbo-submits-with")}};function WC(n,t){let e=new FormData(n),i=t?.getAttribute("name"),r=t?.getAttribute("value");return i&&e.append(i,r||""),e}function zC(n){if(n!=null){let e=(document.cookie?document.cookie.split("; "):[]).find(i=>i.startsWith(n));if(e){let i=e.split("=").slice(1).join("=");return i?decodeURIComponent(i):void 0}}}function UC(n){return n.statusCode==200&&!n.redirected}function qC(n,t){let e=typeof n.action=="string"?n.action:null;return t?.hasAttribute("formaction")?t.getAttribute("formaction")||"":n.getAttribute("action")||e||""}function YC(n,t){let e=rn(n);return fc(t)&&(e.search=""),e}function KC(n,t){let e=t?.getAttribute("formmethod")||n.getAttribute("method")||"";return hc(e.toLowerCase())||Bn.get}function GC(n,t){return _0(t?.getAttribute("formenctype")||n.enctype)}var Xs=class{constructor(t){this.element=t}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(t){return this.getElementForAnchor(t)!=null}getElementForAnchor(t){return t?this.element.querySelector(`[id='${t}'], a[name='${t}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){return x0(this.element)}get permanentElements(){return k0(this.element)}getPermanentElementById(t){return E0(this.element,t)}getPermanentElementMapForSnapshot(t){let e={};for(let i of this.permanentElements){let{id:r}=i,s=t.getPermanentElementById(r);s&&(e[r]=[i,s])}return e}};function E0(n,t){return n.querySelector(`#${t}[data-turbo-permanent]`)}function k0(n){return n.querySelectorAll("[id][data-turbo-permanent]")}var sa=class{started=!1;constructor(t,e){this.delegate=t,this.eventTarget=e}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}submitCaptured=()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)};submitBubbled=t=>{if(!t.defaultPrevented){let e=t.target instanceof HTMLFormElement?t.target:void 0,i=t.submitter||void 0;e&&XC(e,i)&&JC(e,i)&&this.delegate.willSubmitForm(e,i)&&(t.preventDefault(),t.stopImmediatePropagation(),this.delegate.formSubmitted(e,i))}}};function XC(n,t){return(t?.getAttribute("formmethod")||n.getAttribute("method"))!="dialog"}function JC(n,t){if(t?.hasAttribute("formtarget")||n.hasAttribute("target")){let e=t?.getAttribute("formtarget")||n.target;for(let i of document.getElementsByName(e))if(i instanceof HTMLIFrameElement)return!1;return!0}else return!0}var rc=class{#t=t=>{};#e=t=>{};constructor(t,e){this.delegate=t,this.element=e}scrollToAnchor(t){let e=this.snapshot.getElementForAnchor(t);e?(this.scrollToElement(e),this.focusElement(e)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(t){this.scrollToAnchor(Wr(t))}scrollToElement(t){t.scrollIntoView()}focusElement(t){t instanceof HTMLElement&&(t.hasAttribute("tabindex")?t.focus():(t.setAttribute("tabindex","-1"),t.focus(),t.removeAttribute("tabindex")))}scrollToPosition({x:t,y:e}){this.scrollRoot.scrollTo(t,e)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(t){let{isPreview:e,shouldRender:i,willRender:r,newSnapshot:s}=t,o=r;if(i)try{this.renderPromise=new Promise(c=>this.#t=c),this.renderer=t,await this.prepareToRenderSnapshot(t);let a=new Promise(c=>this.#e=c),l={resume:this.#e,render:this.renderer.renderElement,renderMethod:this.renderer.renderMethod};this.delegate.allowsImmediateRender(s,l)||await a,await this.renderSnapshot(t),this.delegate.viewRenderedSnapshot(s,e,this.renderer.renderMethod),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(t)}finally{delete this.renderer,this.#t(void 0),delete this.renderPromise}else o&&this.invalidate(t.reloadReason)}invalidate(t){this.delegate.viewInvalidated(t)}async prepareToRenderSnapshot(t){this.markAsPreview(t.isPreview),await t.prepareToRender()}markAsPreview(t){t?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}markVisitDirection(t){this.element.setAttribute("data-turbo-visit-direction",t)}unmarkVisitDirection(){this.element.removeAttribute("data-turbo-visit-direction")}async renderSnapshot(t){await t.render()}finishRenderingSnapshot(t){t.finishRendering()}},Bh=class extends rc{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new Xs(this.element)}},sc=class{constructor(t,e){this.delegate=t,this.element=e}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}clickBubbled=t=>{this.respondsToEventTarget(t.target)?this.clickEvent=t:delete this.clickEvent};linkClicked=t=>{this.clickEvent&&this.respondsToEventTarget(t.target)&&t.target instanceof Element&&this.delegate.shouldInterceptLinkClick(t.target,t.detail.url,t.detail.originalEvent)&&(this.clickEvent.preventDefault(),t.preventDefault(),this.delegate.linkClickIntercepted(t.target,t.detail.url,t.detail.originalEvent)),delete this.clickEvent};willVisit=t=>{delete this.clickEvent};respondsToEventTarget(t){let e=t instanceof Element?t:t instanceof Node?t.parentElement:null;return e&&e.closest("turbo-frame, html")==this.element}},oc=class{started=!1;constructor(t,e){this.delegate=t,this.eventTarget=e}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickCaptured=()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)};clickBubbled=t=>{if(t instanceof MouseEvent&&this.clickEventIsSignificant(t)){let e=t.composedPath&&t.composedPath()[0]||t.target,i=FC(e);if(i&&IC(i)){let r=A0(i);this.delegate.willFollowLinkToLocation(i,r,t)&&(t.preventDefault(),this.delegate.followedLinkToLocation(i,r))}}};clickEventIsSignificant(t){return!(t.target&&t.target.isContentEditable||t.defaultPrevented||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)}},ac=class{constructor(t,e){this.delegate=t,this.linkInterceptor=new oc(this,e)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}canPrefetchRequestToLocation(t,e){return!1}prefetchAndCacheRequestToLocation(t,e){}willFollowLinkToLocation(t,e,i){return this.delegate.willSubmitFormLinkToLocation(t,e,i)&&(t.hasAttribute("data-turbo-method")||t.hasAttribute("data-turbo-stream"))}followedLinkToLocation(t,e){let i=document.createElement("form"),r="hidden";for(let[d,h]of e.searchParams)i.append(Object.assign(document.createElement("input"),{type:r,name:d,value:h}));let s=Object.assign(e,{search:""});i.setAttribute("data-turbo","true"),i.setAttribute("action",s.href),i.setAttribute("hidden","");let o=t.getAttribute("data-turbo-method");o&&i.setAttribute("method",o);let a=t.getAttribute("data-turbo-frame");a&&i.setAttribute("data-turbo-frame",a);let l=zr(t);l&&i.setAttribute("data-turbo-action",l);let u=t.getAttribute("data-turbo-confirm");u&&i.setAttribute("data-turbo-confirm",u),t.hasAttribute("data-turbo-stream")&&i.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(t,e,i),document.body.appendChild(i),i.addEventListener("turbo:submit-end",()=>i.remove(),{once:!0}),requestAnimationFrame(()=>i.requestSubmit())}},lc=class{static async preservingPermanentElements(t,e,i){let r=new this(t,e);r.enter(),await i(),r.leave()}constructor(t,e){this.delegate=t,this.permanentElementMap=e}enter(){for(let t in this.permanentElementMap){let[e,i]=this.permanentElementMap[t];this.delegate.enteringBardo(e,i),this.replaceNewPermanentElementWithPlaceholder(i)}}leave(){for(let t in this.permanentElementMap){let[e]=this.permanentElementMap[t];this.replaceCurrentPermanentElementWithClone(e),this.replacePlaceholderWithPermanentElement(e),this.delegate.leavingBardo(e)}}replaceNewPermanentElementWithPlaceholder(t){let e=QC(t);t.replaceWith(e)}replaceCurrentPermanentElementWithClone(t){let e=t.cloneNode(!0);t.replaceWith(e)}replacePlaceholderWithPermanentElement(t){this.getPlaceholderById(t.id)?.replaceWith(t)}getPlaceholderById(t){return this.placeholders.find(e=>e.content==t)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}};function QC(n){let t=document.createElement("meta");return t.setAttribute("name","turbo-permanent-placeholder"),t.setAttribute("content",n.id),t}var oa=class{#t=null;constructor(t,e,i,r,s=!0){this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=r,this.willRender=s,this.renderElement=i,this.promise=new Promise((o,a)=>this.resolvingFunctions={resolve:o,reject:a})}get shouldRender(){return!0}get reloadReason(){}prepareToRender(){}render(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(t){await lc.preservingPermanentElements(this,this.permanentElementMap,t)}focusFirstAutofocusableElement(){let t=this.connectedSnapshot.firstAutofocusableElement;t&&t.focus()}enteringBardo(t){this.#t||t.contains(this.currentSnapshot.activeElement)&&(this.#t=this.currentSnapshot.activeElement)}leavingBardo(t){t.contains(this.#t)&&this.#t instanceof HTMLElement&&(this.#t.focus(),this.#t=null)}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}get renderMethod(){return"replace"}},Js=class extends oa{static renderElement(t,e){let i=document.createRange();i.selectNodeContents(t),i.deleteContents();let r=e,s=r.ownerDocument?.createRange();s&&(s.selectNodeContents(r),t.appendChild(s.extractContents()))}constructor(t,e,i,r,s,o=!0){super(e,i,r,s,o),this.delegate=t}get shouldRender(){return!0}async render(){await Us(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await Us(),this.focusFirstAutofocusableElement(),await Us(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){let t=this.currentElement.firstElementChild,e=ZC(this.currentElement.getAttribute("data-autoscroll-block"),"end"),i=tE(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(t)return t.scrollIntoView({block:e,behavior:i}),!0}return!1}activateScriptElements(){for(let t of this.newScriptElements){let e=ia(t);t.replaceWith(e)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}};function ZC(n,t){return n=="end"||n=="start"||n=="center"||n=="nearest"?n:t}function tE(n,t){return n=="auto"||n=="smooth"?n:t}var jh=class n{static animationDuration=300;static get defaultCSS(){return b0`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${n.animationDuration}ms ease-out,
          opacity ${n.animationDuration/2}ms ${n.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}hiding=!1;value=0;visible=!1;constructor(){this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(t){this.value=t,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(t){this.progressElement.style.opacity="0",setTimeout(t,n.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,n.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}trickle=()=>{this.setValue(this.value+Math.random()/100)};refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){let t=document.createElement("style");return t.type="text/css",t.textContent=n.defaultCSS,this.cspNonce&&(t.nonce=this.cspNonce),t}createProgressElement(){let t=document.createElement("div");return t.className="turbo-progress-bar",t}get cspNonce(){return Gs("csp-nonce")}},$h=class extends Xs{detailsByOuterHTML=this.children.filter(t=>!rE(t)).map(t=>aE(t)).reduce((t,e)=>{let{outerHTML:i}=e,r=i in t?t[i]:{type:eE(e),tracked:nE(e),elements:[]};return{...t,[i]:{...r,elements:[...r.elements,e]}}},{});get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(t=>this.detailsByOuterHTML[t].tracked).join("")}getScriptElementsNotInSnapshot(t){return this.getElementsMatchingTypeNotInSnapshot("script",t)}getStylesheetElementsNotInSnapshot(t){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",t)}getElementsMatchingTypeNotInSnapshot(t,e){return Object.keys(this.detailsByOuterHTML).filter(i=>!(i in e.detailsByOuterHTML)).map(i=>this.detailsByOuterHTML[i]).filter(({type:i})=>i==t).map(({elements:[i]})=>i)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((t,e)=>{let{type:i,tracked:r,elements:s}=this.detailsByOuterHTML[e];return i==null&&!r?[...t,...s]:s.length>1?[...t,...s.slice(1)]:t},[])}getMetaValue(t){let e=this.findMetaElementByName(t);return e?e.getAttribute("content"):null}findMetaElementByName(t){return Object.keys(this.detailsByOuterHTML).reduce((e,i)=>{let{elements:[r]}=this.detailsByOuterHTML[i];return oE(r,t)?r:e},void 0|void 0)}};function eE(n){if(iE(n))return"script";if(sE(n))return"stylesheet"}function nE(n){return n.getAttribute("data-turbo-track")=="reload"}function iE(n){return n.localName=="script"}function rE(n){return n.localName=="noscript"}function sE(n){let t=n.localName;return t=="style"||t=="link"&&n.getAttribute("rel")=="stylesheet"}function oE(n,t){return n.localName=="meta"&&n.getAttribute("name")==t}function aE(n){return n.hasAttribute("nonce")&&n.setAttribute("nonce",""),n}var Un=class n extends Xs{static fromHTMLString(t=""){return this.fromDocument(v0(t))}static fromElement(t){return this.fromDocument(t.ownerDocument)}static fromDocument({documentElement:t,body:e,head:i}){return new this(t,e,new $h(i))}constructor(t,e,i){super(e),this.documentElement=t,this.headSnapshot=i}clone(){let t=this.element.cloneNode(!0),e=this.element.querySelectorAll("select"),i=t.querySelectorAll("select");for(let[r,s]of e.entries()){let o=i[r];for(let a of o.selectedOptions)a.selected=!1;for(let a of s.selectedOptions)o.options[a.index].selected=!0}for(let r of t.querySelectorAll('input[type="password"]'))r.value="";return new n(this.documentElement,t,this.headSnapshot)}get lang(){return this.documentElement.getAttribute("lang")}get headElement(){return this.headSnapshot.element}get rootLocation(){let t=this.getSetting("root")??"/";return rn(t)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}get prefersViewTransitions(){return this.headSnapshot.getMetaValue("view-transition")==="same-origin"}get shouldMorphPage(){return this.getSetting("refresh-method")==="morph"}get shouldPreserveScrollPosition(){return this.getSetting("refresh-scroll")==="preserve"}getSetting(t){return this.headSnapshot.getMetaValue(`turbo-${t}`)}},Hh=class{#t=!1;#e=Promise.resolve();renderChange(t,e){return t&&this.viewTransitionsAvailable&&!this.#t?(this.#t=!0,this.#e=this.#e.then(async()=>{await document.startViewTransition(e).finished})):this.#e=this.#e.then(e),this.#e}get viewTransitionsAvailable(){return document.startViewTransition}},lE={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1},tc={visitStart:"visitStart",requestStart:"requestStart",requestEnd:"requestEnd",visitEnd:"visitEnd"},Li={initialized:"initialized",started:"started",canceled:"canceled",failed:"failed",completed:"completed"},Ys={networkFailure:0,timeoutFailure:-1,contentTypeMismatch:-2},cE={advance:"forward",restore:"back",replace:"none"},Vh=class{identifier=ur();timingMetrics={};followedRedirect=!1;historyChanged=!1;scrolled=!1;shouldCacheSnapshot=!0;acceptsStreamResponse=!1;snapshotCached=!1;state=Li.initialized;viewTransitioner=new Hh;constructor(t,e,i,r={}){this.delegate=t,this.location=e,this.restorationIdentifier=i||ur();let{action:s,historyChanged:o,referrer:a,snapshot:l,snapshotHTML:u,response:c,visitCachedSnapshot:d,willRender:h,updateHistory:m,shouldCacheSnapshot:v,acceptsStreamResponse:g,direction:y}={...lE,...r};this.action=s,this.historyChanged=o,this.referrer=a,this.snapshot=l,this.snapshotHTML=u,this.response=c,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.isPageRefresh=this.view.isPageRefresh(this),this.visitCachedSnapshot=d,this.willRender=h,this.updateHistory=m,this.scrolled=!h,this.shouldCacheSnapshot=v,this.acceptsStreamResponse=g,this.direction=y||cE[s]}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==Li.initialized&&(this.recordTimingMetric(tc.visitStart),this.state=Li.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==Li.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=Li.canceled)}complete(){this.state==Li.started&&(this.recordTimingMetric(tc.visitEnd),this.adapter.visitCompleted(this),this.state=Li.completed,this.followRedirect(),this.followedRedirect||this.delegate.visitCompleted(this))}fail(){this.state==Li.started&&(this.state=Li.failed,this.adapter.visitFailed(this),this.delegate.visitCompleted(this))}changeHistory(){if(!this.historyChanged&&this.updateHistory){let t=this.location.href===this.referrer?.href?"replace":this.action,e=y0(t);this.history.update(e,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new dr(this,Bn.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(tc.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(t=this.response){if(this.response=t,t){let{statusCode:e}=t;u0(e)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,e)}}finishRequest(){this.recordTimingMetric(tc.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){let{statusCode:t,responseHTML:e}=this.response;this.render(async()=>{if(this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,u0(t)&&e!=null){let i=Un.fromHTMLString(e);await this.renderPageSnapshot(i,!1),this.adapter.visitRendered(this),this.complete()}else await this.view.renderError(Un.fromHTMLString(e),this),this.adapter.visitRendered(this),this.fail()})}}getCachedSnapshot(){let t=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(t&&(!Wr(this.location)||t.hasAnchor(Wr(this.location)))&&(this.action=="restore"||t.isPreviewable))return t}getPreloadedSnapshot(){if(this.snapshotHTML)return Un.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){let t=this.getCachedSnapshot();if(t){let e=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage||this.isPageRefresh?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.renderPageSnapshot(t,e),this.adapter.visitRendered(this),e||this.complete())})}}followRedirect(){this.redirectedToLocation&&!this.followedRedirect&&this.response?.redirected&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(t){this.acceptsStreamResponse&&t.acceptResponseType(hr.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(t,e){}async requestSucceededWithResponse(t,e){let i=await e.responseHTML,{redirected:r,statusCode:s}=e;i==null?this.recordResponse({statusCode:Ys.contentTypeMismatch,redirected:r}):(this.redirectedToLocation=e.redirected?e.location:void 0,this.recordResponse({statusCode:s,responseHTML:i,redirected:r}))}async requestFailedWithResponse(t,e){let i=await e.responseHTML,{redirected:r,statusCode:s}=e;i==null?this.recordResponse({statusCode:Ys.contentTypeMismatch,redirected:r}):this.recordResponse({statusCode:s,responseHTML:i,redirected:r})}requestErrored(t,e){this.recordResponse({statusCode:Ys.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&!this.view.shouldPreserveScrollPosition(this)&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){let{scrollPosition:t}=this.restorationData;if(t)return this.view.scrollToPosition(t),!0}scrollToAnchor(){let t=Wr(this.location);if(t!=null)return this.view.scrollToAnchor(t),!0}recordTimingMetric(t){this.timingMetrics[t]=new Date().getTime()}getTimingMetrics(){return{...this.timingMetrics}}getHistoryMethodForAction(t){switch(t){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(t=>t&&this.visitCachedSnapshot(t)),this.snapshotCached=!0)}async render(t){this.cancelRender(),this.frame=await Us(),await t(),delete this.frame}async renderPageSnapshot(t,e){await this.viewTransitioner.renderChange(this.view.shouldTransitionTo(t),async()=>{await this.view.renderPage(t,e,this.willRender,this),this.performScroll()})}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}};function u0(n){return n>=200&&n<300}var Wh=class{progressBar=new jh;constructor(t){this.session=t}visitProposedToLocation(t,e){lr(t,this.navigator.rootLocation)?this.navigator.startVisit(t,e?.restorationIdentifier||ur(),e):window.location.href=t.toString()}visitStarted(t){this.location=t.location,t.loadCachedSnapshot(),t.issueRequest(),t.goToSamePageAnchor()}visitRequestStarted(t){this.progressBar.setValue(0),t.hasCachedSnapshot()||t.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(t){t.loadResponse()}visitRequestFailedWithStatusCode(t,e){switch(e){case Ys.networkFailure:case Ys.timeoutFailure:case Ys.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:e}});default:return t.loadResponse()}}visitRequestFinished(t){}visitCompleted(t){this.progressBar.setValue(1),this.hideVisitProgressBar()}pageInvalidated(t){this.reload(t)}visitFailed(t){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitRendered(t){}formSubmissionStarted(t){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(t){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}showProgressBar=()=>{this.progressBar.show()};reload(t){De("turbo:reload",{detail:t}),window.location.href=this.location?.toString()||window.location.href}get navigator(){return this.session.navigator}},zh=class{selector="[data-turbo-temporary]";deprecatedSelector="[data-turbo-cache=false]";started=!1;start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}removeTemporaryElements=t=>{for(let e of this.temporaryElements)e.remove()};get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){let t=document.querySelectorAll(this.deprecatedSelector);return t.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...t]}},Uh=class{constructor(t,e){this.session=t,this.element=e,this.linkInterceptor=new sc(this,e),this.formSubmitObserver=new sa(this,e)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(t,e,i){return this.#e(t)}linkClickIntercepted(t,e,i){let r=this.#n(t);r&&r.delegate.linkClickIntercepted(t,e,i)}willSubmitForm(t,e){return t.closest("turbo-frame")==null&&this.#t(t,e)&&this.#e(t,e)}formSubmitted(t,e){let i=this.#n(t,e);i&&i.delegate.formSubmitted(t,e)}#t(t,e){let i=lf(t,e),r=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),s=rn(r?.content??"/");return this.#e(t,e)&&lr(i,s)}#e(t,e){if(t instanceof HTMLFormElement?this.session.submissionIsNavigatable(t,e):this.session.elementIsNavigatable(t)){let r=this.#n(t,e);return r?r!=t.closest("turbo-frame"):!1}else return!1}#n(t,e){let i=e?.getAttribute("data-turbo-frame")||t.getAttribute("data-turbo-frame");if(i&&i!="_top"){let r=this.element.querySelector(`#${i}:not([disabled])`);if(r instanceof ii)return r}}},qh=class{location;restorationIdentifier=ur();restorationData={};started=!1;pageLoaded=!1;currentIndex=0;constructor(t){this.delegate=t}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.currentIndex=history.state?.turbo?.restorationIndex||0,this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(t,e){this.update(history.pushState,t,e)}replace(t,e){this.update(history.replaceState,t,e)}update(t,e,i=ur()){t===history.pushState&&++this.currentIndex;let r={turbo:{restorationIdentifier:i,restorationIndex:this.currentIndex}};t.call(history,r,"",e.href),this.location=e,this.restorationIdentifier=i}getRestorationDataForIdentifier(t){return this.restorationData[t]||{}}updateRestorationData(t){let{restorationIdentifier:e}=this,i=this.restorationData[e];this.restorationData[e]={...i,...t}}assumeControlOfScrollRestoration(){this.previousScrollRestoration||(this.previousScrollRestoration=history.scrollRestoration??"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}onPopState=t=>{if(this.shouldHandlePopState()){let{turbo:e}=t.state||{};if(e){this.location=new URL(window.location.href);let{restorationIdentifier:i,restorationIndex:r}=e;this.restorationIdentifier=i;let s=r>this.currentIndex?"forward":"back";this.delegate.historyPoppedToLocationWithRestorationIdentifierAndDirection(this.location,i,s),this.currentIndex=r}}};onPageLoad=async t=>{await TC(),this.pageLoaded=!0};shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}},Yh=class{started=!1;#t=null;constructor(t,e){this.delegate=t,this.eventTarget=e}start(){this.started||(this.eventTarget.readyState==="loading"?this.eventTarget.addEventListener("DOMContentLoaded",this.#e,{once:!0}):this.#e())}stop(){this.started&&(this.eventTarget.removeEventListener("mouseenter",this.#n,{capture:!0,passive:!0}),this.eventTarget.removeEventListener("mouseleave",this.#i,{capture:!0,passive:!0}),this.eventTarget.removeEventListener("turbo:before-fetch-request",this.#r,!0),this.started=!1)}#e=()=>{this.eventTarget.addEventListener("mouseenter",this.#n,{capture:!0,passive:!0}),this.eventTarget.addEventListener("mouseleave",this.#i,{capture:!0,passive:!0}),this.eventTarget.addEventListener("turbo:before-fetch-request",this.#r,!0),this.started=!0};#n=t=>{if(Gs("turbo-prefetch")==="false")return;let e=t.target;if(e.matches&&e.matches("a[href]:not([target^=_]):not([download])")&&this.#a(e)){let r=e,s=A0(r);if(this.delegate.canPrefetchRequestToLocation(r,s)){this.#t=r;let o=new dr(this,Bn.get,s,new URLSearchParams,e);zs.setLater(s.toString(),o,this.#o)}}};#i=t=>{t.target===this.#t&&this.#s()};#s=()=>{zs.clear(),this.#t=null};#r=t=>{if(t.target.tagName!=="FORM"&&t.detail.fetchOptions.method==="get"){let e=zs.get(t.detail.url.toString());e&&(t.detail.fetchRequest=e),zs.clear()}};prepareRequest(t){let e=t.target;t.headers["X-Sec-Purpose"]="prefetch";let i=e.closest("turbo-frame"),r=e.getAttribute("data-turbo-frame")||i?.getAttribute("target")||i?.id;r&&r!=="_top"&&(t.headers["Turbo-Frame"]=r)}requestSucceededWithResponse(){}requestStarted(t){}requestErrored(t){}requestFinished(t){}requestPreventedHandlingResponse(t,e){}requestFailedWithResponse(t,e){}get#o(){return Number(Gs("turbo-prefetch-cache-time"))||VC}#a(t){return!(!t.getAttribute("href")||uE(t)||dE(t)||hE(t)||fE(t)||mE(t))}},uE=n=>n.origin!==document.location.origin||!["http:","https:"].includes(n.protocol)||n.hasAttribute("target"),dE=n=>n.pathname+n.search===document.location.pathname+document.location.search||n.href.startsWith("#"),hE=n=>{if(n.getAttribute("data-turbo-prefetch")==="false"||n.getAttribute("data-turbo")==="false")return!0;let t=qs(n,"[data-turbo-prefetch]");return!!(t&&t.getAttribute("data-turbo-prefetch")==="false")},fE=n=>{let t=n.getAttribute("data-turbo-method");return!!(t&&t.toLowerCase()!=="get"||pE(n)||n.hasAttribute("data-turbo-confirm")||n.hasAttribute("data-turbo-stream"))},pE=n=>n.hasAttribute("data-remote")||n.hasAttribute("data-behavior")||n.hasAttribute("data-confirm")||n.hasAttribute("data-method"),mE=n=>De("turbo:before-prefetch",{target:n,cancelable:!0}).defaultPrevented,Kh=class{constructor(t){this.delegate=t}proposeVisit(t,e={}){this.delegate.allowsVisitingLocationWithAction(t,e.action)&&this.delegate.visitProposedToLocation(t,e)}startVisit(t,e,i={}){this.stop(),this.currentVisit=new Vh(this,rn(t),e,{referrer:this.location,...i}),this.currentVisit.start()}submitForm(t,e){this.stop(),this.formSubmission=new ra(this,t,e,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get rootLocation(){return this.view.snapshot.rootLocation}get history(){return this.delegate.history}formSubmissionStarted(t){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(t)}async formSubmissionSucceededWithResponse(t,e){if(t==this.formSubmission){let i=await e.responseHTML;if(i){let r=t.isSafe;r||this.view.clearSnapshotCache();let{statusCode:s,redirected:o}=e,l={action:this.#t(t,e),shouldCacheSnapshot:r,response:{statusCode:s,responseHTML:i,redirected:o}};this.proposeVisit(e.location,l)}}}async formSubmissionFailedWithResponse(t,e){let i=await e.responseHTML;if(i){let r=Un.fromHTMLString(i);e.serverError?await this.view.renderError(r,this.currentVisit):await this.view.renderPage(r,!1,!0,this.currentVisit),r.shouldPreserveScrollPosition||this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(t,e){console.error(e)}formSubmissionFinished(t){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(t)}visitStarted(t){this.delegate.visitStarted(t)}visitCompleted(t){this.delegate.visitCompleted(t)}locationWithActionIsSamePage(t,e){let i=Wr(t),r=Wr(this.view.lastRenderedLocation),s=e==="restore"&&typeof i>"u";return e!=="replace"&&Rh(t)===Rh(this.view.lastRenderedLocation)&&(s||i!=null&&i!==r)}visitScrolledToSamePageLocation(t,e){this.delegate.visitScrolledToSamePageLocation(t,e)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}#t(t,e){let{submitter:i,formElement:r}=t;return zr(i,r)||this.#e(e)}#e(t){return t.redirected&&t.location.href===this.location?.href?"replace":"advance"}},Hr={initial:0,loading:1,interactive:2,complete:3},Gh=class{stage=Hr.initial;started=!1;constructor(t){this.delegate=t}start(){this.started||(this.stage==Hr.initial&&(this.stage=Hr.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}interpretReadyState=()=>{let{readyState:t}=this;t=="interactive"?this.pageIsInteractive():t=="complete"&&this.pageIsComplete()};pageIsInteractive(){this.stage==Hr.loading&&(this.stage=Hr.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==Hr.interactive&&(this.stage=Hr.complete,this.delegate.pageLoaded())}pageWillUnload=()=>{this.delegate.pageWillUnload()};get readyState(){return document.readyState}},Xh=class{started=!1;constructor(t){this.delegate=t}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})};updatePosition(t){this.delegate.scrollPositionChanged(t)}},Jh=class{render({fragment:t}){lc.preservingPermanentElements(this,gE(t),()=>{vE(t,()=>{bE(()=>{document.documentElement.appendChild(t)})})})}enteringBardo(t,e){e.replaceWith(t.cloneNode(!0))}leavingBardo(){}};function gE(n){let t=k0(document.documentElement),e={};for(let i of t){let{id:r}=i;for(let s of n.querySelectorAll("turbo-stream")){let o=E0(s.templateElement.content,r);o&&(e[r]=[i,o])}}return e}async function vE(n,t){let e=`turbo-stream-autofocus-${ur()}`,i=n.querySelectorAll("turbo-stream"),r=yE(i),s=null;if(r&&(r.id?s=r.id:s=e,r.id=s),t(),await Us(),(document.activeElement==null||document.activeElement==document.body)&&s){let a=document.getElementById(s);cf(a)&&a.focus(),a&&a.id==e&&a.removeAttribute("id")}}async function bE(n){let[t,e]=await RC(n,()=>document.activeElement),i=t&&t.id;if(i){let r=document.getElementById(i);cf(r)&&r!=e&&r.focus()}}function yE(n){for(let t of n){let e=x0(t.templateElement.content);if(e)return e}return null}var Qh=class{sources=new Set;#t=!1;constructor(t){this.delegate=t}start(){this.#t||(this.#t=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.#t&&(this.#t=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(t){this.streamSourceIsConnected(t)||(this.sources.add(t),t.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(t){this.streamSourceIsConnected(t)&&(this.sources.delete(t),t.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(t){return this.sources.has(t)}inspectFetchResponse=t=>{let e=wE(t);e&&xE(e)&&(t.preventDefault(),this.receiveMessageResponse(e))};receiveMessageEvent=t=>{this.#t&&typeof t.data=="string"&&this.receiveMessageHTML(t.data)};async receiveMessageResponse(t){let e=await t.responseHTML;e&&this.receiveMessageHTML(e)}receiveMessageHTML(t){this.delegate.receivedMessageFromStream(hr.wrap(t))}};function wE(n){let t=n.detail?.fetchResponse;if(t instanceof Ks)return t}function xE(n){return(n.contentType??"").startsWith(hr.contentType)}var cc=class extends oa{static renderElement(t,e){let{documentElement:i,body:r}=document;i.replaceChild(e,r)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){let{documentElement:t,head:e}=document;t.replaceChild(this.newHead,e),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(let t of this.scriptElements){let e=t.parentNode;if(e){let i=ia(t);e.replaceChild(i,t)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}},AE=function(){let n=new Set,t={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:h,afterNodeAdded:h,beforeNodeMorphed:h,afterNodeMorphed:h,beforeNodeRemoved:h,afterNodeRemoved:h,beforeAttributeUpdated:h},head:{style:"merge",shouldPreserve:function(T){return T.getAttribute("im-preserve")==="true"},shouldReAppend:function(T){return T.getAttribute("im-re-append")==="true"},shouldRemove:h,afterHeadMorphed:h}};function e(T,L,F={}){T instanceof Document&&(T=T.documentElement),typeof L=="string"&&(L=p(L));let q=_(L),V=v(T,q,F);return i(T,q,V)}function i(T,L,F){if(F.head.block){let q=T.querySelector("head"),V=L.querySelector("head");if(q&&V){let O=d(V,q,F);Promise.all(O).then(function(){i(T,L,Object.assign(F,{head:{block:!1,ignore:!0}}))});return}}if(F.morphStyle==="innerHTML")return o(L,T,F),T.children;if(F.morphStyle==="outerHTML"||F.morphStyle==null){let q=j(L,T,F),V=q?.previousSibling,O=q?.nextSibling,$=s(T,q,F);return q?S(V,$,O):[]}else throw"Do not understand how to morph style "+F.morphStyle}function r(T,L){return L.ignoreActiveValue&&T===document.activeElement&&T!==document.body}function s(T,L,F){if(!(F.ignoreActive&&T===document.activeElement))return L==null?F.callbacks.beforeNodeRemoved(T)===!1?T:(T.remove(),F.callbacks.afterNodeRemoved(T),null):y(T,L)?(F.callbacks.beforeNodeMorphed(T,L)===!1||(T instanceof HTMLHeadElement&&F.head.ignore||(T instanceof HTMLHeadElement&&F.head.style!=="morph"?d(L,T,F):(l(L,T,F),r(T,F)||o(L,T,F))),F.callbacks.afterNodeMorphed(T,L)),T):F.callbacks.beforeNodeRemoved(T)===!1||F.callbacks.beforeNodeAdded(L)===!1?T:(T.parentElement.replaceChild(L,T),F.callbacks.afterNodeAdded(L),F.callbacks.afterNodeRemoved(T),L)}function o(T,L,F){let q=T.firstChild,V=L.firstChild,O;for(;q;){if(O=q,q=O.nextSibling,V==null){if(F.callbacks.beforeNodeAdded(O)===!1)return;L.appendChild(O),F.callbacks.afterNodeAdded(O),rt(F,O);continue}if(g(O,V,F)){s(V,O,F),V=V.nextSibling,rt(F,O);continue}let $=A(T,L,O,V,F);if($){V=x(V,$,F),s($,O,F),rt(F,O);continue}let Z=w(T,L,O,V,F);if(Z){V=x(V,Z,F),s(Z,O,F),rt(F,O);continue}if(F.callbacks.beforeNodeAdded(O)===!1)return;L.insertBefore(O,V),F.callbacks.afterNodeAdded(O),rt(F,O)}for(;V!==null;){let $=V;V=V.nextSibling,Y($,F)}}function a(T,L,F,q){return T==="value"&&q.ignoreActiveValue&&L===document.activeElement?!0:q.callbacks.beforeAttributeUpdated(T,L,F)===!1}function l(T,L,F){let q=T.nodeType;if(q===1){let V=T.attributes,O=L.attributes;for(let $ of V)a($.name,L,"update",F)||L.getAttribute($.name)!==$.value&&L.setAttribute($.name,$.value);for(let $=O.length-1;0<=$;$--){let Z=O[$];a(Z.name,L,"remove",F)||T.hasAttribute(Z.name)||L.removeAttribute(Z.name)}}(q===8||q===3)&&L.nodeValue!==T.nodeValue&&(L.nodeValue=T.nodeValue),r(L,F)||c(T,L,F)}function u(T,L,F,q){if(T[F]!==L[F]){let V=a(F,L,"update",q);V||(L[F]=T[F]),T[F]?V||L.setAttribute(F,T[F]):a(F,L,"remove",q)||L.removeAttribute(F)}}function c(T,L,F){if(T instanceof HTMLInputElement&&L instanceof HTMLInputElement&&T.type!=="file"){let q=T.value,V=L.value;u(T,L,"checked",F),u(T,L,"disabled",F),T.hasAttribute("value")?q!==V&&(a("value",L,"update",F)||(L.setAttribute("value",q),L.value=q)):a("value",L,"remove",F)||(L.value="",L.removeAttribute("value"))}else if(T instanceof HTMLOptionElement)u(T,L,"selected",F);else if(T instanceof HTMLTextAreaElement&&L instanceof HTMLTextAreaElement){let q=T.value,V=L.value;if(a("value",L,"update",F))return;q!==V&&(L.value=q),L.firstChild&&L.firstChild.nodeValue!==q&&(L.firstChild.nodeValue=q)}}function d(T,L,F){let q=[],V=[],O=[],$=[],Z=F.head.style,J=new Map;for(let pt of T.children)J.set(pt.outerHTML,pt);for(let pt of L.children){let Ct=J.has(pt.outerHTML),At=F.head.shouldReAppend(pt),yt=F.head.shouldPreserve(pt);Ct||yt?At?V.push(pt):(J.delete(pt.outerHTML),O.push(pt)):Z==="append"?At&&(V.push(pt),$.push(pt)):F.head.shouldRemove(pt)!==!1&&V.push(pt)}$.push(...J.values());let K=[];for(let pt of $){let Ct=document.createRange().createContextualFragment(pt.outerHTML).firstChild;if(F.callbacks.beforeNodeAdded(Ct)!==!1){if(Ct.href||Ct.src){let At=null,yt=new Promise(function(vt){At=vt});Ct.addEventListener("load",function(){At()}),K.push(yt)}L.appendChild(Ct),F.callbacks.afterNodeAdded(Ct),q.push(Ct)}}for(let pt of V)F.callbacks.beforeNodeRemoved(pt)!==!1&&(L.removeChild(pt),F.callbacks.afterNodeRemoved(pt));return F.head.afterHeadMorphed(L,{added:q,kept:O,removed:V}),K}function h(){}function m(T){let L={};return Object.assign(L,t),Object.assign(L,T),L.callbacks={},Object.assign(L.callbacks,t.callbacks),Object.assign(L.callbacks,T.callbacks),L.head={},Object.assign(L.head,t.head),Object.assign(L.head,T.head),L}function v(T,L,F){return F=m(F),{target:T,newContent:L,config:F,morphStyle:F.morphStyle,ignoreActive:F.ignoreActive,ignoreActiveValue:F.ignoreActiveValue,idMap:B(T,L),deadIds:new Set,callbacks:F.callbacks,head:F.head}}function g(T,L,F){return T==null||L==null?!1:T.nodeType===L.nodeType&&T.tagName===L.tagName?T.id!==""&&T.id===L.id?!0:dt(F,T,L)>0:!1}function y(T,L){return T==null||L==null?!1:T.nodeType===L.nodeType&&T.tagName===L.tagName}function x(T,L,F){for(;T!==L;){let q=T;T=T.nextSibling,Y(q,F)}return rt(F,L),L.nextSibling}function A(T,L,F,q,V){let O=dt(V,F,L),$=null;if(O>0){let Z=q,J=0;for(;Z!=null;){if(g(F,Z,V))return Z;if(J+=dt(V,Z,T),J>O)return null;Z=Z.nextSibling}}return $}function w(T,L,F,q,V){let O=q,$=F.nextSibling,Z=0;for(;O!=null;){if(dt(V,O,T)>0)return null;if(y(F,O))return O;if(y($,O)&&(Z++,$=$.nextSibling,Z>=2))return null;O=O.nextSibling}return O}function p(T){let L=new DOMParser,F=T.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(F.match(/<\/html>/)||F.match(/<\/head>/)||F.match(/<\/body>/)){let q=L.parseFromString(T,"text/html");if(F.match(/<\/html>/))return q.generatedByIdiomorph=!0,q;{let V=q.firstChild;return V?(V.generatedByIdiomorph=!0,V):null}}else{let V=L.parseFromString("<body><template>"+T+"</template></body>","text/html").body.querySelector("template").content;return V.generatedByIdiomorph=!0,V}}function _(T){if(T==null)return document.createElement("div");if(T.generatedByIdiomorph)return T;if(T instanceof Node){let L=document.createElement("div");return L.append(T),L}else{let L=document.createElement("div");for(let F of[...T])L.append(F);return L}}function S(T,L,F){let q=[],V=[];for(;T!=null;)q.push(T),T=T.previousSibling;for(;q.length>0;){let O=q.pop();V.push(O),L.parentElement.insertBefore(O,L)}for(V.push(L);F!=null;)q.push(F),V.push(F),F=F.nextSibling;for(;q.length>0;)L.parentElement.insertBefore(q.pop(),L.nextSibling);return V}function j(T,L,F){let q;q=T.firstChild;let V=q,O=0;for(;q;){let $=H(q,L,F);$>O&&(V=q,O=$),q=q.nextSibling}return V}function H(T,L,F){return y(T,L)?.5+dt(F,T,L):0}function Y(T,L){rt(L,T),L.callbacks.beforeNodeRemoved(T)!==!1&&(T.remove(),L.callbacks.afterNodeRemoved(T))}function et(T,L){return!T.deadIds.has(L)}function ot(T,L,F){return(T.idMap.get(F)||n).has(L)}function rt(T,L){let F=T.idMap.get(L)||n;for(let q of F)T.deadIds.add(q)}function dt(T,L,F){let q=T.idMap.get(L)||n,V=0;for(let O of q)et(T,O)&&ot(T,O,F)&&++V;return V}function st(T,L){let F=T.parentElement,q=T.querySelectorAll("[id]");for(let V of q){let O=V;for(;O!==F&&O!=null;){let $=L.get(O);$==null&&($=new Set,L.set(O,$)),$.add(V.id),O=O.parentElement}}}function B(T,L){let F=new Map;return st(T,F),st(L,F),F}return{morph:e,defaults:t}}(),Ur=class extends oa{static renderElement(t,e){document.body&&e instanceof HTMLBodyElement?document.body.replaceWith(e):document.documentElement.appendChild(e)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){this.#t(),await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}#t(){let{documentElement:t}=this.currentSnapshot,{lang:e}=this.newSnapshot;e?t.setAttribute("lang",e):t.removeAttribute("lang")}async mergeHead(){let t=this.mergeProvisionalElements(),e=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await t,await e,this.willRender&&this.removeUnusedDynamicStylesheetElements()}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){let t=[];for(let e of this.newHeadStylesheetElements)t.push(MC(e)),document.head.appendChild(e);await Promise.all(t)}copyNewHeadScriptElements(){for(let t of this.newHeadScriptElements)document.head.appendChild(ia(t))}removeUnusedDynamicStylesheetElements(){for(let t of this.unusedDynamicStylesheetElements)document.head.removeChild(t)}async mergeProvisionalElements(){let t=[...this.newHeadProvisionalElements];for(let e of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(e,t)||document.head.removeChild(e);for(let e of t)document.head.appendChild(e)}isCurrentElementInElementList(t,e){for(let[i,r]of e.entries()){if(t.tagName=="TITLE"){if(r.tagName!="TITLE")continue;if(t.innerHTML==r.innerHTML)return e.splice(i,1),!0}if(r.isEqualNode(t))return e.splice(i,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(let t of this.currentHeadProvisionalElements)document.head.removeChild(t)}copyNewHeadProvisionalElements(){for(let t of this.newHeadProvisionalElements)document.head.appendChild(t)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(let t of this.newBodyScriptElements){let e=ia(t);t.replaceWith(e)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get unusedDynamicStylesheetElements(){return this.oldHeadStylesheetElements.filter(t=>t.getAttribute("data-turbo-track")==="dynamic")}get oldHeadStylesheetElements(){return this.currentHeadSnapshot.getStylesheetElementsNotInSnapshot(this.newHeadSnapshot)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}},Zh=class extends Ur{async render(){this.willRender&&await this.#t()}get renderMethod(){return"morph"}async#t(){this.#e(this.currentElement,this.newElement),this.#a(),De("turbo:morph",{detail:{currentElement:this.currentElement,newElement:this.newElement}})}#e(t,e,i="outerHTML"){this.isMorphingTurboFrame=this.#l(t),AE.morph(t,e,{morphStyle:i,callbacks:{beforeNodeAdded:this.#n,beforeNodeMorphed:this.#i,beforeAttributeUpdated:this.#s,beforeNodeRemoved:this.#o,afterNodeMorphed:this.#r}})}#n=t=>!(t.id&&t.hasAttribute("data-turbo-permanent")&&document.getElementById(t.id));#i=(t,e)=>{if(t instanceof HTMLElement)return!t.hasAttribute("data-turbo-permanent")&&(this.isMorphingTurboFrame||!this.#l(t))?!De("turbo:before-morph-element",{cancelable:!0,target:t,detail:{newElement:e}}).defaultPrevented:!1};#s=(t,e,i)=>!De("turbo:before-morph-attribute",{cancelable:!0,target:e,detail:{attributeName:t,mutationType:i}}).defaultPrevented;#r=(t,e)=>{e instanceof HTMLElement&&De("turbo:morph-element",{target:t,detail:{newElement:e}})};#o=t=>this.#i(t);#a(){this.#h().forEach(t=>{this.#l(t)&&(this.#u(t),t.reload())})}#u(t){t.addEventListener("turbo:before-frame-render",e=>{e.detail.render=this.#d},{once:!0})}#d=(t,e)=>{De("turbo:before-frame-morph",{target:t,detail:{currentElement:t,newElement:e}}),this.#e(t,e.children,"innerHTML")};#l(t){return t.src&&t.refresh==="morph"}#h(){return Array.from(document.querySelectorAll("turbo-frame[src]")).filter(t=>!t.closest("[data-turbo-permanent]"))}},tf=class{keys=[];snapshots={};constructor(t){this.size=t}has(t){return Zl(t)in this.snapshots}get(t){if(this.has(t)){let e=this.read(t);return this.touch(t),e}}put(t,e){return this.write(t,e),this.touch(t),e}clear(){this.snapshots={}}read(t){return this.snapshots[Zl(t)]}write(t,e){this.snapshots[Zl(t)]=e}touch(t){let e=Zl(t),i=this.keys.indexOf(e);i>-1&&this.keys.splice(i,1),this.keys.unshift(e),this.trim()}trim(){for(let t of this.keys.splice(this.size))delete this.snapshots[t]}},ef=class extends rc{snapshotCache=new tf(10);lastRenderedLocation=new URL(location.href);forceReloaded=!1;shouldTransitionTo(t){return this.snapshot.prefersViewTransitions&&t.prefersViewTransitions}renderPage(t,e=!1,i=!0,r){let o=this.isPageRefresh(r)&&this.snapshot.shouldMorphPage?Zh:Ur,a=new o(this.snapshot,t,Ur.renderElement,e,i);return a.shouldRender?r?.changeHistory():this.forceReloaded=!0,this.render(a)}renderError(t,e){e?.changeHistory();let i=new cc(this.snapshot,t,cc.renderElement,!1);return this.render(i)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(t=this.snapshot){if(t.isCacheable){this.delegate.viewWillCacheSnapshot();let{lastRenderedLocation:e}=this;await g0();let i=t.clone();return this.snapshotCache.put(e,i),i}}getCachedSnapshotForLocation(t){return this.snapshotCache.get(t)}isPageRefresh(t){return!t||this.lastRenderedLocation.pathname===t.location.pathname&&t.action==="replace"}shouldPreserveScrollPosition(t){return this.isPageRefresh(t)&&this.snapshot.shouldPreserveScrollPosition}get snapshot(){return Un.fromElement(this.element)}},nf=class{selector="a[data-turbo-preload]";constructor(t,e){this.delegate=t,this.snapshotCache=e}start(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",this.#t):this.preloadOnLoadLinksForView(document.body)}stop(){document.removeEventListener("DOMContentLoaded",this.#t)}preloadOnLoadLinksForView(t){for(let e of t.querySelectorAll(this.selector))this.delegate.shouldPreloadLink(e)&&this.preloadURL(e)}async preloadURL(t){let e=new URL(t.href);if(this.snapshotCache.has(e))return;await new dr(this,Bn.get,e,new URLSearchParams,t).perform()}prepareRequest(t){t.headers["X-Sec-Purpose"]="prefetch"}async requestSucceededWithResponse(t,e){try{let i=await e.responseHTML,r=Un.fromHTMLString(i);this.snapshotCache.put(t.url,r)}catch{}}requestStarted(t){}requestErrored(t){}requestFinished(t){}requestPreventedHandlingResponse(t,e){}requestFailedWithResponse(t,e){}#t=()=>{this.preloadOnLoadLinksForView(document.body)}},rf=class{constructor(t){this.session=t}clear(){this.session.clearCache()}resetCacheControl(){this.#t("")}exemptPageFromCache(){this.#t("no-cache")}exemptPageFromPreview(){this.#t("no-preview")}#t(t){LC("turbo-cache-control",t)}},sf=class{navigator=new Kh(this);history=new qh(this);view=new ef(this,document.documentElement);adapter=new Wh(this);pageObserver=new Gh(this);cacheObserver=new zh;linkPrefetchObserver=new Yh(this,document);linkClickObserver=new oc(this,window);formSubmitObserver=new sa(this,document);scrollObserver=new Xh(this);streamObserver=new Qh(this);formLinkClickObserver=new ac(this,document.documentElement);frameRedirector=new Uh(this,document.documentElement);streamMessageRenderer=new Jh;cache=new rf(this);drive=!0;enabled=!0;progressBarDelay=500;started=!1;formMode="on";#t=150;constructor(t){this.recentRequests=t,this.preloader=new nf(this,this.view.snapshotCache),this.debouncedRefresh=this.refresh,this.pageRefreshDebouncePeriod=this.pageRefreshDebouncePeriod}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.linkPrefetchObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.linkPrefetchObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.preloader.stop(),this.started=!1)}registerAdapter(t){this.adapter=t}visit(t,e={}){let i=e.frame?document.getElementById(e.frame):null;if(i instanceof ii){let r=e.action||zr(i);i.delegate.proposeVisitIfNavigatedWithAction(i,r),i.src=t.toString()}else this.navigator.proposeVisit(rn(t),e)}refresh(t,e){e&&this.recentRequests.has(e)||this.visit(t,{action:"replace",shouldCacheSnapshot:!1})}connectStreamSource(t){this.streamObserver.connectStreamSource(t)}disconnectStreamSource(t){this.streamObserver.disconnectStreamSource(t)}renderStreamMessage(t){this.streamMessageRenderer.render(hr.wrap(t))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(t){this.progressBarDelay=t}setFormMode(t){this.formMode=t}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}get pageRefreshDebouncePeriod(){return this.#t}set pageRefreshDebouncePeriod(t){this.refresh=NC(this.debouncedRefresh.bind(this),t),this.#t=t}shouldPreloadLink(t){let e=t.hasAttribute("data-turbo-method"),i=t.hasAttribute("data-turbo-stream"),r=t.getAttribute("data-turbo-frame"),s=r=="_top"?null:document.getElementById(r)||qs(t,"turbo-frame:not([disabled])");if(e||i||s instanceof ii)return!1;{let o=new URL(t.href);return this.elementIsNavigatable(t)&&lr(o,this.snapshot.rootLocation)}}historyPoppedToLocationWithRestorationIdentifierAndDirection(t,e,i){this.enabled?this.navigator.startVisit(t,e,{action:"restore",historyChanged:!0,direction:i}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(t){this.history.updateRestorationData({scrollPosition:t})}willSubmitFormLinkToLocation(t,e){return this.elementIsNavigatable(t)&&lr(e,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}canPrefetchRequestToLocation(t,e){return this.elementIsNavigatable(t)&&lr(e,this.snapshot.rootLocation)}willFollowLinkToLocation(t,e,i){return this.elementIsNavigatable(t)&&lr(e,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(t,e,i)}followedLinkToLocation(t,e){let i=this.getActionForLink(t),r=t.hasAttribute("data-turbo-stream");this.visit(e.href,{action:i,acceptsStreamResponse:r})}allowsVisitingLocationWithAction(t,e){return this.locationWithActionIsSamePage(t,e)||this.applicationAllowsVisitingLocation(t)}visitProposedToLocation(t,e){d0(t),this.adapter.visitProposedToLocation(t,e)}visitStarted(t){t.acceptsStreamResponse||(nc(document.documentElement),this.view.markVisitDirection(t.direction)),d0(t.location),t.silent||this.notifyApplicationAfterVisitingLocation(t.location,t.action)}visitCompleted(t){this.view.unmarkVisitDirection(),ic(document.documentElement),this.notifyApplicationAfterPageLoad(t.getTimingMetrics())}locationWithActionIsSamePage(t,e){return this.navigator.locationWithActionIsSamePage(t,e)}visitScrolledToSamePageLocation(t,e){this.notifyApplicationAfterVisitingSamePageLocation(t,e)}willSubmitForm(t,e){let i=lf(t,e);return this.submissionIsNavigatable(t,e)&&lr(rn(i),this.snapshot.rootLocation)}formSubmitted(t,e){this.navigator.submitForm(t,e)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(t){this.renderStreamMessage(t)}viewWillCacheSnapshot(){this.navigator.currentVisit?.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:t},e){let i=this.notifyApplicationBeforeRender(t,e),{defaultPrevented:r,detail:{render:s}}=i;return this.view.renderer&&s&&(this.view.renderer.renderElement=s),!r}viewRenderedSnapshot(t,e,i){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender(i)}preloadOnLoadLinksForView(t){this.preloader.preloadOnLoadLinksForView(t)}viewInvalidated(t){this.adapter.pageInvalidated(t)}frameLoaded(t){this.notifyApplicationAfterFrameLoad(t)}frameRendered(t,e){this.notifyApplicationAfterFrameRender(t,e)}applicationAllowsFollowingLinkToLocation(t,e,i){return!this.notifyApplicationAfterClickingLinkToLocation(t,e,i).defaultPrevented}applicationAllowsVisitingLocation(t){return!this.notifyApplicationBeforeVisitingLocation(t).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(t,e,i){return De("turbo:click",{target:t,detail:{url:e.href,originalEvent:i},cancelable:!0})}notifyApplicationBeforeVisitingLocation(t){return De("turbo:before-visit",{detail:{url:t.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(t,e){return De("turbo:visit",{detail:{url:t.href,action:e}})}notifyApplicationBeforeCachingSnapshot(){return De("turbo:before-cache")}notifyApplicationBeforeRender(t,e){return De("turbo:before-render",{detail:{newBody:t,...e},cancelable:!0})}notifyApplicationAfterRender(t){return De("turbo:render",{detail:{renderMethod:t}})}notifyApplicationAfterPageLoad(t={}){return De("turbo:load",{detail:{url:this.location.href,timing:t}})}notifyApplicationAfterVisitingSamePageLocation(t,e){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:t.toString(),newURL:e.toString()}))}notifyApplicationAfterFrameLoad(t){return De("turbo:frame-load",{target:t})}notifyApplicationAfterFrameRender(t,e){return De("turbo:frame-render",{detail:{fetchResponse:t},target:e,cancelable:!0})}submissionIsNavigatable(t,e){if(this.formMode=="off")return!1;{let i=e?this.elementIsNavigatable(e):!0;return this.formMode=="optin"?i&&t.closest('[data-turbo="true"]')!=null:i&&this.elementIsNavigatable(t)}}elementIsNavigatable(t){let e=qs(t,"[data-turbo]"),i=qs(t,"turbo-frame");return this.drive||i?e?e.getAttribute("data-turbo")!="false":!0:e?e.getAttribute("data-turbo")=="true":!1}getActionForLink(t){return zr(t)||"advance"}get snapshot(){return this.view.snapshot}};function d0(n){Object.defineProperties(n,SE)}var SE={absoluteURL:{get(){return this.toString()}}},Ce=new sf(S0),{cache:T0,navigator:O0}=Ce;function df(){Ce.start()}function D0(n){Ce.registerAdapter(n)}function M0(n,t){Ce.visit(n,t)}function aa(n){Ce.connectStreamSource(n)}function la(n){Ce.disconnectStreamSource(n)}function P0(n){Ce.renderStreamMessage(n)}function L0(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Ce.clearCache()}function R0(n){Ce.setProgressBarDelay(n)}function I0(n){ra.confirmMethod=n}function F0(n){Ce.setFormMode(n)}var _E=Object.freeze({__proto__:null,navigator:O0,session:Ce,cache:T0,PageRenderer:Ur,PageSnapshot:Un,FrameRenderer:Js,fetch:uf,start:df,registerAdapter:D0,visit:M0,connectStreamSource:aa,disconnectStreamSource:la,renderStreamMessage:P0,clearCache:L0,setProgressBarDelay:R0,setConfirmMethod:I0,setFormMode:F0}),of=class extends Error{},af=class{fetchResponseLoaded=t=>Promise.resolve();#t=null;#e=()=>{};#n=!1;#i=!1;#s=new Set;action=null;constructor(t){this.element=t,this.view=new Bh(this,this.element),this.appearanceObserver=new Fh(this,this.element),this.formLinkClickObserver=new ac(this,this.element),this.linkInterceptor=new sc(this,this.element),this.restorationIdentifier=ur(),this.formSubmitObserver=new sa(this,this.element)}connect(){this.#n||(this.#n=!0,this.loadingStyle==Vr.lazy?this.appearanceObserver.start():this.#r(),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){this.#n&&(this.#n=!1,this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==Vr.eager&&this.#r()}sourceURLChanged(){this.#v("src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==Vr.eager||this.#i)&&this.#r())}sourceURLReloaded(){let{src:t}=this.element;return this.element.removeAttribute("complete"),this.element.src=null,this.element.src=t,this.element.loaded}loadingStyleChanged(){this.loadingStyle==Vr.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.#r())}async#r(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=this.#a(rn(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.#i=!0)}async loadResponse(t){(t.redirected||t.succeeded&&t.isHTML)&&(this.sourceURL=t.response.url);try{let e=await t.responseHTML;if(e){let i=v0(e);Un.fromDocument(i).isVisitable?await this.#o(t,i):await this.#d(t)}}finally{this.fetchResponseLoaded=()=>Promise.resolve()}}elementAppearedInViewport(t){this.proposeVisitIfNavigatedWithAction(t,zr(t)),this.#r()}willSubmitFormLinkToLocation(t){return this.#f(t)}submittedFormLinkToLocation(t,e,i){let r=this.#c(t);r&&i.setAttribute("data-turbo-frame",r.id)}shouldInterceptLinkClick(t,e,i){return this.#f(t)}linkClickIntercepted(t,e){this.#u(t,e)}willSubmitForm(t,e){return t.closest("turbo-frame")==this.element&&this.#f(t,e)}formSubmitted(t,e){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new ra(this,t,e);let{fetchRequest:i}=this.formSubmission;this.prepareRequest(i),this.formSubmission.start()}prepareRequest(t){t.headers["Turbo-Frame"]=this.id,this.currentNavigationElement?.hasAttribute("data-turbo-stream")&&t.acceptResponseType(hr.contentType)}requestStarted(t){nc(this.element)}requestPreventedHandlingResponse(t,e){this.#e()}async requestSucceededWithResponse(t,e){await this.loadResponse(e),this.#e()}async requestFailedWithResponse(t,e){await this.loadResponse(e),this.#e()}requestErrored(t,e){console.error(e),this.#e()}requestFinished(t){ic(this.element)}formSubmissionStarted({formElement:t}){nc(t,this.#c(t))}formSubmissionSucceededWithResponse(t,e){let i=this.#c(t.formElement,t.submitter);i.delegate.proposeVisitIfNavigatedWithAction(i,zr(t.submitter,t.formElement,i)),i.delegate.loadResponse(e),t.isSafe||Ce.clearCache()}formSubmissionFailedWithResponse(t,e){this.element.delegate.loadResponse(e),Ce.clearCache()}formSubmissionErrored(t,e){console.error(e)}formSubmissionFinished({formElement:t}){ic(t,this.#c(t))}allowsImmediateRender({element:t},e){let i=De("turbo:before-frame-render",{target:this.element,detail:{newFrame:t,...e},cancelable:!0}),{defaultPrevented:r,detail:{render:s}}=i;return this.view.renderer&&s&&(this.view.renderer.renderElement=s),!r}viewRenderedSnapshot(t,e,i){}preloadOnLoadLinksForView(t){Ce.preloadOnLoadLinksForView(t)}viewInvalidated(){}willRenderFrame(t,e){this.previousFrameElement=t.cloneNode(!0)}visitCachedSnapshot=({element:t})=>{let e=t.querySelector("#"+this.element.id);e&&this.previousFrameElement&&e.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement};async#o(t,e){let i=await this.extractForeignFrameElement(e.body);if(i){let r=new Xs(i),s=new Js(this,this.view.snapshot,r,Js.renderElement,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(s),this.complete=!0,Ce.frameRendered(t,this.element),Ce.frameLoaded(this.element),await this.fetchResponseLoaded(t)}else this.#l(t)&&this.#h(t)}async#a(t){let e=new dr(this,Bn.get,t,new URLSearchParams,this.element);return this.#t?.cancel(),this.#t=e,new Promise(i=>{this.#e=()=>{this.#e=()=>{},this.#t=null,i()},e.perform()})}#u(t,e,i){let r=this.#c(t,i);r.delegate.proposeVisitIfNavigatedWithAction(r,zr(i,t,r)),this.#y(t,()=>{r.src=e})}proposeVisitIfNavigatedWithAction(t,e=null){if(this.action=e,this.action){let i=Un.fromElement(t).clone(),{visitCachedSnapshot:r}=t.delegate;t.delegate.fetchResponseLoaded=async s=>{if(t.src){let{statusCode:o,redirected:a}=s,l=await s.responseHTML,c={response:{statusCode:o,redirected:a,responseHTML:l},visitCachedSnapshot:r,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:i};this.action&&(c.action=this.action),Ce.visit(t.src,c)}}}}changeHistory(){if(this.action){let t=y0(this.action);Ce.history.update(t,rn(this.element.src||""),this.restorationIdentifier)}}async#d(t){console.warn(`The response (${t.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await this.#p(t.response)}#l(t){this.element.setAttribute("complete","");let e=t.response,i=async(s,o)=>{s instanceof Response?this.#p(s):Ce.visit(s,o)};return!De("turbo:frame-missing",{target:this.element,detail:{response:e,visit:i},cancelable:!0}).defaultPrevented}#h(t){this.view.missing(),this.#m(t)}#m(t){let e=`The response (${t.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new of(e)}async#p(t){let e=new Ks(t),i=await e.responseHTML,{location:r,redirected:s,statusCode:o}=e;return Ce.visit(r,{response:{redirected:s,statusCode:o,responseHTML:i}})}#c(t,e){let i=ec("data-turbo-frame",e,t)||this.element.getAttribute("target");return h0(i)??this.element}async extractForeignFrameElement(t){let e,i=CSS.escape(this.id);try{if(e=f0(t.querySelector(`turbo-frame#${i}`),this.sourceURL),e)return e;if(e=f0(t.querySelector(`turbo-frame[src][recurse~=${i}]`),this.sourceURL),e)return await e.loaded,await this.extractForeignFrameElement(e)}catch(r){return console.error(r),new ii}return null}#g(t,e){let i=lf(t,e);return lr(rn(i),this.rootLocation)}#f(t,e){let i=ec("data-turbo-frame",e,t)||this.element.getAttribute("target");if(t instanceof HTMLFormElement&&!this.#g(t,e)||!this.enabled||i=="_top")return!1;if(i){let r=h0(i);if(r)return!r.disabled}return!(!Ce.elementIsNavigatable(t)||e&&!Ce.elementIsNavigatable(e))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(t){this.#b("src",()=>{this.element.src=t??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||this.#e()!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(t){t?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")}get isActive(){return this.element.isActive&&this.#n}get rootLocation(){let e=this.element.ownerDocument.querySelector('meta[name="turbo-root"]')?.content??"/";return rn(e)}#v(t){return this.#s.has(t)}#b(t,e){this.#s.add(t),e(),this.#s.delete(t)}#y(t,e){this.currentNavigationElement=t,e(),delete this.currentNavigationElement}};function h0(n){if(n!=null){let t=document.getElementById(n);if(t instanceof ii)return t}}function f0(n,t){if(n){let e=n.getAttribute("src");if(e!=null&&t!=null&&xC(e,t))throw new Error(`Matching <turbo-frame id="${n.id}"> element has a source URL which references itself`);if(n.ownerDocument!==document&&(n=document.importNode(n,!0)),n instanceof ii)return n.connectedCallback(),n.disconnectedCallback(),n}}var qr={after(){this.targetElements.forEach(n=>n.parentElement?.insertBefore(this.templateContent,n.nextSibling))},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(n=>n.append(this.templateContent))},before(){this.targetElements.forEach(n=>n.parentElement?.insertBefore(this.templateContent,n))},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(n=>n.prepend(this.templateContent))},remove(){this.targetElements.forEach(n=>n.remove())},replace(){this.targetElements.forEach(n=>n.replaceWith(this.templateContent))},update(){this.targetElements.forEach(n=>{n.innerHTML="",n.append(this.templateContent)})},refresh(){Ce.refresh(this.baseURI,this.requestId)}},uc=class n extends HTMLElement{static async renderElement(t){await t.performAction()}async connectedCallback(){try{await this.render()}catch(t){console.error(t)}finally{this.disconnect()}}async render(){return this.renderPromise??=(async()=>{let t=this.beforeRenderEvent;this.dispatchEvent(t)&&(await Us(),await t.detail.render(this))})()}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(t=>t.remove())}get duplicateChildren(){let t=this.targetElements.flatMap(i=>[...i.children]).filter(i=>!!i.id),e=[...this.templateContent?.children||[]].filter(i=>!!i.id).map(i=>i.id);return t.filter(i=>e.includes(i.id))}get performAction(){if(this.action){let t=qr[this.action];if(t)return t;this.#t("unknown action")}this.#t("action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;this.#t("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){let t=this.ownerDocument.createElement("template");return this.appendChild(t),t}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.#t("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}get requestId(){return this.getAttribute("request-id")}#t(t){throw new Error(`${this.description}: ${t}`)}get description(){return(this.outerHTML.match(/<[^>]+>/)??[])[0]??"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:n.renderElement}})}get targetElementsById(){let t=this.ownerDocument?.getElementById(this.target);return t!==null?[t]:[]}get targetElementsByQuery(){let t=this.ownerDocument?.querySelectorAll(this.targets);return t.length!==0?Array.prototype.slice.call(t):[]}},dc=class extends HTMLElement{streamSource=null;connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),aa(this.streamSource)}disconnectedCallback(){this.streamSource&&(this.streamSource.close(),la(this.streamSource))}get src(){return this.getAttribute("src")||""}};ii.delegateConstructor=af;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",ii);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",uc);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",dc);(()=>{let n=document.currentScript;if(n&&!n.hasAttribute("data-turbo-suppress-warning"))for(n=n.parentElement;n;){if(n==document.body)return console.warn(b0`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your applications JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,n.outerHTML);n=n.parentElement}})();window.Turbo={..._E,StreamActions:qr};df();var W0;async function TE(){return W0||V0(OE().then(V0))}function V0(n){return W0=n}async function OE(){let{createConsumer:n}=await Promise.resolve().then(()=>(H0(),$0));return n()}async function z0(n,t){let{subscriptions:e}=await TE();return e.create(n,t)}function pa(n){return!n||typeof n!="object"||n instanceof Date||n instanceof RegExp?n:Array.isArray(n)?n.map(pa):Object.keys(n).reduce(function(t,e){var i=e[0].toLowerCase()+e.slice(1).replace(/([A-Z]+)/g,function(r,s){return"_"+s.toLowerCase()});return t[i]=pa(n[e]),t},{})}var Af=class extends HTMLElement{async connectedCallback(){aa(this),this.subscription=await z0(this.channel,{received:this.dispatchMessageEvent.bind(this),connected:this.subscriptionConnected.bind(this),disconnected:this.subscriptionDisconnected.bind(this)})}disconnectedCallback(){la(this),this.subscription&&this.subscription.unsubscribe()}dispatchMessageEvent(t){let e=new MessageEvent("message",{data:t});return this.dispatchEvent(e)}subscriptionConnected(){this.setAttribute("connected","")}subscriptionDisconnected(){this.removeAttribute("connected")}get channel(){let t=this.getAttribute("channel"),e=this.getAttribute("signed-stream-name");return{channel:t,signed_stream_name:e,...pa({...this.dataset})}}};customElements.get("turbo-cable-stream-source")===void 0&&customElements.define("turbo-cable-stream-source",Af);function U0(n){if(n.target instanceof HTMLFormElement){let{target:t,detail:{fetchOptions:e}}=n;t.addEventListener("turbo:submit-start",({detail:{formSubmission:{submitter:i}}})=>{let r=LE(e.body)?e.body:new URLSearchParams,s=ME(i,r,t);/get/i.test(s)||(/post/i.test(s)?r.delete("_method"):r.set("_method",s),e.method="post")},{once:!0})}}function ME(n,t,e){let i=PE(n),r=t.get("_method"),s=e.getAttribute("method")||"get";return typeof i=="string"?i:typeof r=="string"?r:s}function PE(n){return n instanceof HTMLButtonElement||n instanceof HTMLInputElement?n.name==="_method"?n.value:n.hasAttribute("formmethod")?n.formMethod:null:null}function LE(n){return n instanceof FormData||n instanceof URLSearchParams}window.Turbo=hf;addEventListener("turbo:before-fetch-request",U0);var ma=new Proxy({},{get(n,t){let e={},i=`${q0.prefix?`${q0.prefix}-`:""}${t}`,r=document.head.querySelectorAll(`meta[name^=${i}-]`);if(r.length>0)return r.forEach(({name:o,content:a})=>{let l=o.slice(i.length+1).replace(/(?:[_-])([a-z0-9])/g,(u,c)=>c.toUpperCase());e[l]||(e[l]=a)}),e;let s=document.head.querySelector(`meta[name=${i}]`);return s?s.content:e}}),q0={prefix:"current"};window.Current=ma;function mr(n){return Object.prototype.toString.call(n)==="[object Array]"}function kf(n){return n instanceof Function}function yc(n){return Object.prototype.toString.call(n)==="[object Object]"&&!kf(n)&&n instanceof Object}function Cf(n,t){for(var e in t)e!=="__proto__"&&(yc(t[e])||mr(t[e])?(yc(t[e])&&!yc(n[e])&&(n[e]={}),mr(t[e])&&!mr(n[e])&&(n[e]=[]),Cf(n[e],t[e])):t[e]!==void 0&&(n[e]=t[e]))}function Me(n,t){var e={};return Cf(e,n),Cf(e,t),e}var RE=/^(\d\d\d\d)(?:-)?(\d\d)(?:-)?(\d\d)$/i;function IE(n){for(var t=0;t<n.length;t++)for(var e=n[t].data,i=0;i<e.length;i++)if(e[i][1]<0)return!0;return!1}function Ri(n){return""+n}function yi(n){return parseFloat(n)}function bi(n){if(n instanceof Date)return n;if(typeof n=="number")return new Date(n*1e3);var t=Ri(n),e=t.match(RE);if(e){var i=parseInt(e[1],10),r=parseInt(e[2],10)-1,s=parseInt(e[3],10);return new Date(i,r,s)}else{var o=t.replace(/ /,"T").replace(" ","").replace("UTC","Z");return new Date(Date.parse(o)||t)}}function Tf(n){if(mr(n))return n;var t=[];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&t.push([e,n[e]]);return t}function ba(n,t,e,i,r,s,o,a){return function(l,u,c){var d=l.data,h=Me({},n);return h=Me(h,c||{}),(l.singleSeriesFormat||"legend"in u)&&t(h,u.legend,l.singleSeriesFormat),u.title&&e(h,u.title),"min"in u?i(h,u.min):IE(d)||i(h,0),u.max&&r(h,u.max),"stacked"in u&&s(h,u.stacked),u.colors&&(h.colors=u.colors),u.xtitle&&o(h,u.xtitle),u.ytitle&&a(h,u.ytitle),h=Me(h,u.library||{}),h}}function FE(n,t){return n[0].getTime()-t[0].getTime()}function Of(n,t){return n[0]-t[0]}function Q0(n,t){return n-t}function to(n,t){for(var e=0;e<n.length;e++)if(!t(n[e]))return!1;return!0}function NE(n){return n==="day"||n==="week"||n==="month"||n==="year"}function Z0(n,t){if(t===void 0&&(t=!1),n.length===0)return null;var e=to(n,function(u){return u.getMilliseconds()===0&&u.getSeconds()===0});if(!e)return null;var i=to(n,function(u){return u.getMinutes()===0});if(!i)return"minute";var r=to(n,function(u){return u.getHours()===0});if(!r)return"hour";if(t)return"day";var s=to(n,function(u){return u.getDate()===1});if(!s){var o=n[0].getDay(),a=to(n,function(u){return u.getDay()===o});return a?"week":"day"}var l=to(n,function(u){return u.getMonth()===0});return l?"year":"month"}function Sf(n){return!isNaN(bi(n))&&Ri(n).length>=6}function BE(n){return typeof n=="number"}var Y0=["bytes","KB","MB","GB","TB","PB","EB"];function ri(n,t,e,i){n=n||"",e.prefix&&(t<0&&(t=t*-1,n+="-"),n+=e.prefix);var r=e.suffix||"",s=e.precision,o=e.round;if(e.byteScale){var a=t>=0;a||(t*=-1);var l=i?e.byteScale:t,u;l>=1152921504606847e3?(t/=1152921504606847e3,u=6):l>=0x4000000000000?(t/=0x4000000000000,u=5):l>=1099511627776?(t/=1099511627776,u=4):l>=1073741824?(t/=1073741824,u=3):l>=1048576?(t/=1048576,u=2):l>=1024?(t/=1024,u=1):u=0,s===void 0&&o===void 0&&(t>=1023.5&&u<Y0.length-1&&(t=1,u+=1),s=t>=1e3?4:3),r=" "+Y0[u],a||(t*=-1)}if(s!==void 0&&o!==void 0)throw Error("Use either round or precision, not both");if(!i&&(s!==void 0&&(t=t.toPrecision(s),e.zeros||(t=parseFloat(t))),o!==void 0))if(o<0){var c=Math.pow(10,-1*o);t=parseInt((1*t/c).toFixed(0))*c}else t=t.toFixed(o),e.zeros||(t=parseFloat(t));if(e.thousands||e.decimal){t=Ri(t);var d=t.split(".");t=d[0],e.thousands&&(t=t.replace(/\B(?=(\d{3})+(?!\d))/g,e.thousands)),d.length>1&&(t+=(e.decimal||".")+d[1])}return n+t+r}function K0(n,t,e){return e in t?t[e]:e in n.options?n.options[e]:null}var Df={maintainAspectRatio:!1,animation:!1,plugins:{legend:{},tooltip:{displayColors:!1,callbacks:{}},title:{font:{size:20},color:"#333"}},interaction:{}},ty={scales:{y:{ticks:{maxTicksLimit:4},title:{font:{size:16},color:"#333"},grid:{}},x:{grid:{drawOnChartArea:!1},title:{font:{size:16},color:"#333"},time:{},ticks:{}}}},ey=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#651067"];function Mf(n,t,e){t!==void 0?(n.plugins.legend.display=!!t,t&&t!==!0&&(n.plugins.legend.position=t)):e&&(n.plugins.legend.display=!1)}function Pf(n,t){n.plugins.title.display=!0,n.plugins.title.text=t}function jE(n,t){t!==null&&(n.scales.y.min=yi(t))}function $E(n,t){n.scales.y.max=yi(t)}function HE(n,t){t!==null&&(n.scales.x.min=yi(t))}function VE(n,t){n.scales.x.max=yi(t)}function ny(n,t){n.scales.x.stacked=!!t,n.scales.y.stacked=!!t}function iy(n,t){n.scales.x.title.display=!0,n.scales.x.title.text=t}function ry(n,t){n.scales.y.title.display=!0,n.scales.y.title.text=t}function G0(n,t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return e?"rgba("+parseInt(e[1],16)+", "+parseInt(e[2],16)+", "+parseInt(e[3],16)+", "+t+")":n}function pr(n){return n!=null}function WE(n,t,e){var i=Math.ceil(n.element.offsetWidth/4/t.labels.length);i>25?i=25:i<10&&(i=10),e.scales.x.ticks.callback||(e.scales.x.ticks.callback=function(r){return r=Ri(this.getLabelForValue(r)),r.length>i?r.substring(0,i-2)+"...":r})}function zE(n){for(var t=1,e=UE(n);e>=1024;)t*=1024,e/=1024;return t}function Ac(n,t,e){var i={thousands:n.options.thousands,decimal:n.options.decimal},r=Me({prefix:n.options.prefix,suffix:n.options.suffix,precision:n.options.precision,round:n.options.round,zeros:n.options.zeros},i);if(n.options.bytes){var s=n.data;e==="pie"&&(s=[{data:s}]),r.byteScale=zE(s)}if(e!=="pie"){var o=t.scales.y;e==="bar"&&(o=t.scales.x),r.byteScale&&(o.ticks.stepSize||(o.ticks.stepSize=r.byteScale/2),o.ticks.maxTicksLimit||(o.ticks.maxTicksLimit=4)),o.ticks.callback||(o.ticks.callback=function(l){return ri("",l,r,!0)}),(e==="scatter"||e==="bubble")&&!t.scales.x.ticks.callback&&(t.scales.x.ticks.callback=function(l){return ri("",l,i,!0)})}if(!t.plugins.tooltip.callbacks.label)if(e==="scatter")t.plugins.tooltip.callbacks.label=function(l){var u=l.dataset.label||"";u&&(u+=": ");var c=l.parsed;return u+"("+ri("",c.x,i)+", "+ri("",c.y,r)+")"};else if(e==="bubble")t.plugins.tooltip.callbacks.label=function(l){var u=l.dataset.label||"";u&&(u+=": ");var c=l.raw;return u+"("+ri("",c.x,i)+", "+ri("",c.y,r)+", "+ri("",c.v,i)+")"};else if(e==="pie")t.plugins.tooltip.callbacks.label=function(l){return ri("",l.parsed,r)};else{var a=e==="bar"?"x":"y";t.plugins.tooltip.callbacks.label=function(l){if(l.parsed[a]!==null){var u=l.dataset.label||"";return u&&(u+=": "),ri(u,l.parsed[a],r)}}}(e==="line"||e==="area")&&n.xtype==="number"&&(t.scales.x.ticks.callback||(t.scales.x.ticks.callback=function(l){return Ri(l)}),t.plugins.tooltip.callbacks.title||(t.plugins.tooltip.callbacks.title=function(l){return Ri(l[0].parsed.x)}))}function UE(n){for(var t=0,e=0;e<n.length;e++)for(var i=n[e].data,r=0;r<i.length;r++){var s=Math.abs(i[r][1]);s>t&&(t=s)}return t}function qE(n){for(var t=0,e=0;e<n.length;e++)for(var i=n[e].data,r=0;r<i.length;r++){var s=i[r][2];s>t&&(t=s)}return t}var Lf=ba(Me(Df,ty),Mf,Pf,jE,$E,ny,iy,ry);function YE(n){for(var t=n.data,e={},i=[],r=[],s=[],o=0;o<t.length;o++)for(var a=t[o].data,l=0;l<a.length;l++){var u=a[l],c=n.xtype==="datetime"?u[0].getTime():u[0];e[c]||(e[c]=new Array(t.length),i.push(c)),e[c][o]=u[1]}(n.xtype==="datetime"||n.xtype==="number")&&i.sort(Q0);for(var d=0;d<t.length;d++)s.push([]);for(var h=0;h<i.length;h++){var m=i[h],v=n.xtype==="datetime"?new Date(m):m;r.push(v);for(var g=e[m],y=0;y<t.length;y++){var x=g[y];s[y].push(x===void 0?null:x)}}return{labels:r,values:s}}function KE(n){for(var t=n.data,e=[],i=qE(t),r=0;r<t.length;r++){for(var s=t[r].data,o=[],a=0;a<s.length;a++){var l=s[a];o.push({x:l[0],y:l[1],r:l[2]*20/i,v:l[2]})}e.push(o)}return{labels:[],values:e}}function GE(n){for(var t=n.data,e=[],i=0;i<t.length;i++){var r=t[i].data;r.sort(Of);for(var s=[],o=0;o<r.length;o++){var a=r[o];s.push({x:a[0],y:a[1]})}e.push(s)}return{labels:[],values:e}}function XE(n,t){return t==="bubble"?KE(n):n.xtype==="number"&&t!=="bar"&&t!=="column"?GE(n):YE(n)}function Rf(n,t,e){for(var i=XE(n,e),r=i.labels,s=i.values,o=n.data,a=[],l=n.options.colors||ey,u=0;u<o.length;u++){var c=o[u],d=void 0,h=void 0;if(n.options.colors&&n.singleSeriesFormat&&(e==="bar"||e==="column")&&!c.color&&mr(n.options.colors)&&!mr(n.options.colors[0])){d=l,h=[];for(var m=0;m<l.length;m++)h[m]=G0(d[m],.5)}else d=c.color||l[u],h=e!=="line"?G0(d,.5):d;var v={label:c.name||"",data:s[u],fill:e==="area",borderColor:d,backgroundColor:h,borderWidth:2},g=e==="line"||e==="area"||e==="scatter"||e==="bubble";g&&(v.pointBackgroundColor=d,v.pointHoverBackgroundColor=d,v.pointHitRadius=50),e==="bubble"&&(v.pointBackgroundColor=h,v.pointHoverBackgroundColor=h,v.pointHoverBorderWidth=2),c.stack&&(v.stack=c.stack);var y=K0(n,c,"curve");y===!1?v.tension=0:g&&(v.tension=.4);var x=K0(n,c,"points");x===!1&&(v.pointRadius=0,v.pointHoverRadius=0),v=Me(v,n.options.dataset||{}),v=Me(v,c.library||{}),v=Me(v,c.dataset||{}),a.push(v)}var A=n.options.xmin,w=n.options.xmax;if(n.xtype==="datetime"?(pr(A)&&(t.scales.x.min=bi(A).getTime()),pr(w)&&(t.scales.x.max=bi(w).getTime())):n.xtype==="number"&&(pr(A)&&(t.scales.x.min=A),pr(w)&&(t.scales.x.max=w)),n.xtype==="datetime"){var p=Z0(r);if(r.length===0&&(pr(A)&&r.push(bi(A)),pr(w)&&r.push(bi(w))),r.length>0){for(var _=(pr(A)?bi(A):r[0]).getTime(),S=(pr(w)?bi(w):r[0]).getTime(),j=1;j<r.length;j++){var H=r[j].getTime();H<_&&(_=H),H>S&&(S=H)}var Y=(S-_)/(86400*1e3);if(!t.scales.x.time.unit){var et;if(p==="year"||Y>365*10?(t.scales.x.time.unit="year",et=365):p==="month"||Y>30*10?(t.scales.x.time.unit="month",et=30):p==="week"||p==="day"||Y>10?(t.scales.x.time.unit="day",et=1):p==="hour"||Y>.5?(t.scales.x.time.displayFormats={hour:"MMM d, h a"},t.scales.x.time.unit="hour",et=1/24):p==="minute"&&(t.scales.x.time.displayFormats={minute:"h:mm a"},t.scales.x.time.unit="minute",et=1/24/60),et&&Y>0){var ot=n.element.offsetWidth;if(ot>0){var rt=Math.ceil(Y/et/(ot/100));p==="week"&&et===1&&(rt=Math.ceil(rt/7)*7),t.scales.x.ticks.stepSize=rt}}}t.scales.x.time.tooltipFormat||(p==="year"?t.scales.x.time.tooltipFormat="yyyy":p==="month"?t.scales.x.time.tooltipFormat="MMM yyyy":p==="week"||p==="day"?t.scales.x.time.tooltipFormat="PP":p==="hour"?t.scales.x.time.tooltipFormat="MMM d, h a":p==="minute"&&(t.scales.x.time.tooltipFormat="h:mm a"))}}return{labels:r,datasets:a}}var wi=function(t){this.name="chartjs",this.library=t};wi.prototype.renderLineChart=function(t,e){e||(e="line");var i={},r=Lf(t,Me(i,t.options));Ac(t,r,e);var s=Rf(t,r,e);t.xtype==="number"?(r.scales.x.type=r.scales.x.type||"linear",r.scales.x.position=r.scales.x.position||"bottom"):r.scales.x.type=t.xtype==="string"?"category":"time",this.drawChart(t,"line",s,r)};wi.prototype.renderPieChart=function(t){var e=Me({},Df);t.options.donut&&(e.cutout="50%"),"legend"in t.options&&Mf(e,t.options.legend),t.options.title&&Pf(e,t.options.title),e=Me(e,t.options.library||{}),Ac(t,e,"pie");for(var i=[],r=[],s=0;s<t.data.length;s++){var o=t.data[s];i.push(o[0]),r.push(o[1])}var a={data:r,backgroundColor:t.options.colors||ey};a=Me(a,t.options.dataset||{});var l={labels:i,datasets:[a]};this.drawChart(t,"pie",l,e)};wi.prototype.renderColumnChart=function(t,e){var i;if(e==="bar"){var r=Me(Df,ty);r.indexAxis="y",r.scales.x.grid.drawOnChartArea=!0,r.scales.y.grid.drawOnChartArea=!1,delete r.scales.y.ticks.maxTicksLimit,i=ba(r,Mf,Pf,HE,VE,ny,iy,ry)(t,t.options)}else i=Lf(t,t.options);Ac(t,i,e);var s=Rf(t,i,"column");e!=="bar"&&WE(t,s,i),"mode"in i.interaction||(i.interaction.mode="index"),this.drawChart(t,"bar",s,i)};wi.prototype.renderAreaChart=function(t){this.renderLineChart(t,"area")};wi.prototype.renderBarChart=function(t){this.renderColumnChart(t,"bar")};wi.prototype.renderScatterChart=function(t,e){e=e||"scatter";var i=Lf(t,t.options);Ac(t,i,e),"showLine"in i||(i.showLine=!1);var r=Rf(t,i,e);i.scales.x.type=i.scales.x.type||"linear",i.scales.x.position=i.scales.x.position||"bottom","mode"in i.interaction||(i.interaction.mode="nearest"),this.drawChart(t,e,r,i)};wi.prototype.renderBubbleChart=function(t){this.renderScatterChart(t,"bubble")};wi.prototype.destroy=function(t){t.chart&&t.chart.destroy()};wi.prototype.drawChart=function(t,e,i,r){if(this.destroy(t),!t.destroyed){var s={type:e,data:i,options:r};t.options.code&&window.console.log("new Chart(ctx, "+JSON.stringify(s)+");"),t.element.innerHTML="<canvas></canvas>";var o=t.element.getElementsByTagName("CANVAS")[0];t.chart=new this.library(o,s)}};var sy={chart:{},xAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:!1},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}},plotOptions:{areaspline:{},area:{},series:{marker:{}}},time:{useUTC:!1}};function oy(n,t,e){t!==void 0?(n.legend.enabled=!!t,t&&t!==!0&&(t==="top"||t==="bottom"?n.legend.verticalAlign=t:(n.legend.layout="vertical",n.legend.verticalAlign="middle",n.legend.align=t))):e&&(n.legend.enabled=!1)}function ay(n,t){n.title.text=t}function JE(n,t){n.yAxis.min=t}function QE(n,t){n.yAxis.max=t}function ZE(n,t){var e=t?t===!0?"normal":t:null;n.plotOptions.series.stacking=e,n.plotOptions.area.stacking=e,n.plotOptions.areaspline.stacking=e}function tk(n,t){n.xAxis.title.text=t}function ek(n,t){n.yAxis.title.text=t}var If=ba(sy,oy,ay,JE,QE,ZE,tk,ek);function Ff(n,t,e){var i={prefix:n.options.prefix,suffix:n.options.suffix,thousands:n.options.thousands,decimal:n.options.decimal,precision:n.options.precision,round:n.options.round,zeros:n.options.zeros};e!=="pie"&&!mr(t.yAxis)&&!t.yAxis.labels.formatter&&(t.yAxis.labels.formatter=function(){return ri("",this.value,i)}),!t.tooltip.pointFormatter&&!t.tooltip.pointFormat&&(t.tooltip.pointFormatter=function(){return'<span style="color:'+this.color+'">\u25CF</span> '+ri(this.series.name+": <b>",this.y,i)+"</b><br/>"})}var Ii=function(t){this.name="highcharts",this.library=t};Ii.prototype.renderLineChart=function(t,e){e=e||"spline";var i={};e==="areaspline"&&(i={plotOptions:{areaspline:{stacking:"normal"},area:{stacking:"normal"},series:{marker:{enabled:!1}}}}),t.options.curve===!1&&(e==="areaspline"?e="area":e==="spline"&&(e="line"));var r=If(t,t.options,i);t.xtype==="number"?r.xAxis.type=r.xAxis.type||"linear":r.xAxis.type=t.xtype==="string"?"category":"datetime",r.chart.type||(r.chart.type=e),Ff(t,r,e);for(var s=t.data,o=0;o<s.length;o++){s[o].name=s[o].name||"Value";var a=s[o].data;if(t.xtype==="datetime")for(var l=0;l<a.length;l++)a[l][0]=a[l][0].getTime();else t.xtype==="number"&&a.sort(Of);s[o].marker={symbol:"circle"},t.options.points===!1&&(s[o].marker.enabled=!1)}this.drawChart(t,s,r)};Ii.prototype.renderScatterChart=function(t){var e=If(t,t.options,{});e.chart.type="scatter",this.drawChart(t,t.data,e)};Ii.prototype.renderPieChart=function(t){var e=Me(sy,{});t.options.colors&&(e.colors=t.options.colors),t.options.donut&&(e.plotOptions={pie:{innerSize:"50%"}}),"legend"in t.options&&oy(e,t.options.legend),t.options.title&&ay(e,t.options.title);var i=Me(e,t.options.library||{});Ff(t,i,"pie");var r=[{type:"pie",name:t.options.label||"Value",data:t.data}];this.drawChart(t,r,i)};Ii.prototype.renderColumnChart=function(t,e){e=e||"column";var i=t.data,r=If(t,t.options),s=[],o=[];r.chart.type=e,Ff(t,r,e);for(var a=0;a<i.length;a++)for(var l=i[a],u=0;u<l.data.length;u++){var c=l.data[u];s[c[0]]||(s[c[0]]=new Array(i.length),o.push(c[0])),s[c[0]][a]=c[1]}t.xtype==="number"&&o.sort(Q0),r.xAxis.categories=o;for(var d=[],h=0;h<i.length;h++){for(var m=[],v=0;v<o.length;v++)m.push(s[o[v]][h]||0);var g={name:i[h].name||"Value",data:m};i[h].stack&&(g.stack=i[h].stack),d.push(g)}this.drawChart(t,d,r)};Ii.prototype.renderBarChart=function(t){this.renderColumnChart(t,"bar")};Ii.prototype.renderAreaChart=function(t){this.renderLineChart(t,"areaspline")};Ii.prototype.destroy=function(t){t.chart&&t.chart.destroy()};Ii.prototype.drawChart=function(t,e,i){this.destroy(t),!t.destroyed&&(i.chart.renderTo=t.element.id,i.series=e,t.options.code&&window.console.log("new Highcharts.Chart("+JSON.stringify(i)+");"),t.chart=new this.library.Chart(i))};var X0={},wc=[],ya={chartArea:{},fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,color:"#444"},alignment:"center",position:"right"},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},gridlines:{color:"transparent"},baselineColor:"#ccc",viewWindow:{}},vAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}};function Nf(n,t,e){if(t!==void 0){var i;t?t===!0?i="right":i=t:i="none",n.legend.position=i}else e&&(n.legend.position="none")}function Bf(n,t){n.title=t,n.titleTextStyle={color:"#333",fontSize:"20px"}}function nk(n,t){n.vAxis.viewWindow.min=t}function ik(n,t){n.vAxis.viewWindow.max=t}function rk(n,t){n.hAxis.viewWindow.min=t}function sk(n,t){n.hAxis.viewWindow.max=t}function ly(n,t){n.isStacked=t||!1}function cy(n,t){n.hAxis.title=t,n.hAxis.titleTextStyle.italic=!1}function uy(n,t){n.vAxis.title=t,n.vAxis.titleTextStyle.italic=!1}var Sc=ba(ya,Nf,Bf,nk,ik,ly,cy,uy);function ok(n){window.attachEvent?window.attachEvent("onresize",n):window.addEventListener&&window.addEventListener("resize",n,!0),n()}var En=function(t){this.name="google",this.library=t};En.prototype.renderLineChart=function(t){var e=this;this.waitForLoaded(t,function(){var i={};t.options.curve===!1&&(i.curveType="none"),t.options.points===!1&&(i.pointSize=0);var r=Sc(t,t.options,i),s=e.createDataTable(t.data,t.xtype);e.drawChart(t,"LineChart",s,r)})};En.prototype.renderPieChart=function(t){var e=this;this.waitForLoaded(t,function(){var i={chartArea:{top:"10%",height:"80%"},legend:{}};t.options.colors&&(i.colors=t.options.colors),t.options.donut&&(i.pieHole=.5),"legend"in t.options&&Nf(i,t.options.legend),t.options.title&&Bf(i,t.options.title);var r=Me(Me(ya,i),t.options.library||{}),s=new e.library.visualization.DataTable;s.addColumn("string",""),s.addColumn("number","Value"),s.addRows(t.data),e.drawChart(t,"PieChart",s,r)})};En.prototype.renderColumnChart=function(t){var e=this;this.waitForLoaded(t,function(){var i=Sc(t,t.options),r=e.createDataTable(t.data,t.xtype);e.drawChart(t,"ColumnChart",r,i)})};En.prototype.renderBarChart=function(t){var e=this;this.waitForLoaded(t,function(){var i={hAxis:{gridlines:{color:"#ccc"}}},r=ba(ya,Nf,Bf,rk,sk,ly,cy,uy)(t,t.options,i),s=e.createDataTable(t.data,t.xtype);e.drawChart(t,"BarChart",s,r)})};En.prototype.renderAreaChart=function(t){var e=this;this.waitForLoaded(t,function(){var i={isStacked:!0,pointSize:0,areaOpacity:.5},r=Sc(t,t.options,i),s=e.createDataTable(t.data,t.xtype);e.drawChart(t,"AreaChart",s,r)})};En.prototype.renderGeoChart=function(t){var e=this;this.waitForLoaded(t,"geochart",function(){var i={legend:"none",colorAxis:{colors:t.options.colors||["#f6c7b6","#ce502d"]}},r=Me(Me(ya,i),t.options.library||{}),s=new e.library.visualization.DataTable;s.addColumn("string",""),s.addColumn("number",t.options.label||"Value"),s.addRows(t.data),e.drawChart(t,"GeoChart",s,r)})};En.prototype.renderScatterChart=function(t){var e=this;this.waitForLoaded(t,function(){for(var i={},r=Sc(t,t.options,i),s=t.data,o=[],a=0;a<s.length;a++){s[a].name=s[a].name||"Value";for(var l=s[a].data,u=0;u<l.length;u++){var c=new Array(s.length+1);c[0]=l[u][0],c[a+1]=l[u][1],o.push(c)}}var d=new e.library.visualization.DataTable;d.addColumn("number","");for(var h=0;h<s.length;h++)d.addColumn("number",s[h].name);d.addRows(o),e.drawChart(t,"ScatterChart",d,r)})};En.prototype.renderTimeline=function(t){var e=this;this.waitForLoaded(t,"timeline",function(){var i={legend:"none"};t.options.colors&&(i.colors=t.options.colors);var r=Me(Me(ya,i),t.options.library||{}),s=new e.library.visualization.DataTable;s.addColumn({type:"string",id:"Name"}),s.addColumn({type:"date",id:"Start"}),s.addColumn({type:"date",id:"End"}),s.addRows(t.data),t.element.style.lineHeight="normal",e.drawChart(t,"Timeline",s,r)})};En.prototype.destroy=function(t){t.chart&&t.chart.clearChart()};En.prototype.drawChart=function(t,e,i,r){this.destroy(t),!t.destroyed&&(t.options.code&&window.console.log("var data = new google.visualization.DataTable("+i.toJSON()+`);
var chart = new google.visualization.`+e+`(element);
chart.draw(data, `+JSON.stringify(r)+");"),t.chart=new this.library.visualization[e](t.element),ok(function(){t.chart.draw(i,r)}))};En.prototype.waitForLoaded=function(t,e,i){var r=this;if(i||(i=e,e="corechart"),wc.push({pack:e,callback:i}),X0[e])this.runCallbacks();else{X0[e]=!0;var s={packages:[e],callback:function(){r.runCallbacks()}},o=t.__config();o.language&&(s.language=o.language),e==="geochart"&&o.mapsApiKey&&(s.mapsApiKey=o.mapsApiKey),this.library.charts.load("current",s)}};En.prototype.runCallbacks=function(){for(var t=0;t<wc.length;t++){var e=wc[t],i=this.library.visualization&&(e.pack==="corechart"&&this.library.visualization.LineChart||e.pack==="timeline"&&this.library.visualization.Timeline||e.pack==="geochart"&&this.library.visualization.GeoChart);i&&(e.callback(),wc.splice(t,1),t--)}};En.prototype.createDataTable=function(t,e){for(var i=[],r=[],s=0;s<t.length;s++){var o=t[s];t[s].name=t[s].name||"Value";for(var a=0;a<o.data.length;a++){var l=o.data[a],u=e==="datetime"?l[0].getTime():l[0];i[u]||(i[u]=new Array(t.length),r.push(u)),i[u][s]=l[1]}}for(var c=[],d=[],h=0;h<r.length;h++){var m=r[h],v=void 0;e==="datetime"?(v=new Date(m),d.push(v)):v=m,c.push([v].concat(i[m]))}var g=!0;if(e==="datetime"){c.sort(FE);var y=Z0(d,!0);g=NE(y)}else if(e==="number"){c.sort(Of);for(var x=0;x<c.length;x++)c[x][0]=Ri(c[x][0]);e="string"}var A=new this.library.visualization.DataTable;e=e==="datetime"&&g?"date":e,A.addColumn(e,"");for(var w=0;w<t.length;w++)A.addColumn("number",t[w].name);return A.addRows(c),A};var Gr=[];function ak(n){if(n){if(n.product==="Highcharts")return Ii;if(n.charts)return En;if(kf(n))return wi}throw new Error("Unknown adapter")}function ga(n){for(var t=ak(n),e=0;e<Gr.length;e++)if(Gr[e].library===n)return;Gr.push(new t(n))}function lk(){"Chart"in window&&ga(window.Chart),"Highcharts"in window&&ga(window.Highcharts),window.google&&window.google.charts&&ga(window.google)}function ck(n,t){var e="render"+n,i=t.options.adapter;lk();for(var r=0;r<Gr.length;r++){var s=Gr[r];if((!i||i===s.name)&&kf(s[e]))return t.adapter=s.name,t.__adapterObject=s,s[e](t)}throw Gr.length>0?new Error("No charting library found for "+n):new Error("No charting libraries found - be sure to include one before your charts")}var ie={charts:{},configure:function(n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(ie.config[t]=n[t])},setDefaultOptions:function(n){ie.options=n},eachChart:function(n){for(var t in ie.charts)Object.prototype.hasOwnProperty.call(ie.charts,t)&&n(ie.charts[t])},destroyAll:function(){for(var n in ie.charts)Object.prototype.hasOwnProperty.call(ie.charts,n)&&(ie.charts[n].destroy(),delete ie.charts[n])},config:{},options:{},adapters:Gr,addAdapter:ga,use:function(n){return ga(n),ie}};function uk(n){for(var t=[],e=0;e<n.length;e++)t.push([yi(n[e][0]),yi(n[e][1]),yi(n[e][2])]);return t}function dk(n,t){if(t==="bubble")return uk(n);var e;t==="number"?e=yi:t==="datetime"?e=bi:e=Ri;for(var i=[],r=0;r<n.length;r++)i.push([e(n[r][0]),yi(n[r][1])]);return i}function hk(n,t,e){return hy(n)?(e.xmin||e.xmax)&&(!e.xmin||Sf(e.xmin))&&(!e.xmax||Sf(e.xmax))?"datetime":"number":J0(n,BE)?"number":!t&&J0(n,Sf)?"datetime":"string"}function J0(n,t){for(var e=0;e<n.length;e++)for(var i=Tf(n[e].data),r=0;r<i.length;r++)if(!t(i[r][0]))return!1;return!0}function fk(n){for(var t=[],e=0;e<n.length;e++){var i={};for(var r in n[e])Object.prototype.hasOwnProperty.call(n[e],r)&&(i[r]=n[e][r]);t.push(i)}return t}function eo(n,t,e){var i=n.options,r=n.rawData;n.singleSeriesFormat=!mr(r)||!yc(r[0]),n.singleSeriesFormat&&(r=[{name:i.label,data:r}]),r=fk(r);for(var s=0;s<r.length;s++)r[s].data=Tf(r[s].data);n.xtype=t||(i.discrete?"string":hk(r,e,i));for(var o=0;o<r.length;o++)r[o].data=dk(r[o].data,n.xtype);return r}function dy(n){for(var t=Tf(n.rawData),e=0;e<t.length;e++)t[e]=[Ri(t[e][0]),yi(t[e][1])];return t}function hy(n,t){if(t==="PieChart"||t==="GeoChart"||t==="Timeline")return n.length===0;for(var e=0;e<n.length;e++)if(n[e].data.length>0)return!1;return!0}function pk(n){var t=n.options.download;t===!0?t={}:typeof t=="string"&&(t={filename:t});var e=document.createElement("a");e.download=t.filename||"chart.png",e.style.position="absolute",e.style.top="20px",e.style.right="20px",e.style.zIndex=1e3,e.style.lineHeight="20px",e.target="_blank";var i=document.createElement("img"),r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path fill="#CCCCCC" d="M344 240h-56L287.1 152c0-13.25-10.75-24-24-24h-16C234.7 128 223.1 138.8 223.1 152L224 240h-56c-9.531 0-18.16 5.656-22 14.38C142.2 263.1 143.9 273.3 150.4 280.3l88.75 96C243.7 381.2 250.1 384 256.8 384c7.781-.3125 13.25-2.875 17.75-7.844l87.25-96c6.406-7.031 8.031-17.19 4.188-25.88S353.5 240 344 240zM256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 464c-114.7 0-208-93.31-208-208S141.3 48 256 48s208 93.31 208 208S370.7 464 256 464z"/></svg>';i.src="data:image/svg+xml;utf8,"+encodeURIComponent(r),i.alt="Download",i.style.width="20px",i.style.height="20px",i.style.border="none",e.appendChild(i);var s=n.element;s.style.position="relative",n.__downloadAttached=!0,n.__enterEvent=s.addEventListener("mouseover",function(o){var a=o.relatedTarget;(!a||a!==this&&!this.contains(a))&&n.options.download&&(e.href=n.toImage(t),s.appendChild(e))}),n.__leaveEvent=s.addEventListener("mouseout",function(o){var a=o.relatedTarget;(!a||a!==this&&!this.contains(a))&&e.parentNode&&e.parentNode.removeChild(e)})}var fy=[],Ef=0,mk=4;function gk(n,t,e){fy.push([n,t,e]),jf()}function jf(){if(Ef<mk){var n=fy.shift();n&&(Ef++,bk(n[0],n[1],n[2]),jf())}}function vk(){Ef--,jf()}function bk(n,t,e){var i=new XMLHttpRequest;i.open("GET",n,!0),i.setRequestHeader("Content-Type","application/json"),i.onload=function(){vk(),i.status===200?t(JSON.parse(i.responseText)):e(i.statusText)},i.send()}function $f(n,t){n.textContent=t}function xc(n,t,e){e||(t="Error Loading Chart: "+t),$f(n,t),n.style.color="#ff0000"}function _f(n){try{n.__render()}catch(t){throw xc(n.element,t.message),t}}function va(n,t,e){if(e&&n.options.loading&&(typeof t=="string"||typeof t=="function")&&$f(n.element,n.options.loading),typeof t=="string")gk(t,function(i){n.rawData=i,_f(n)},function(i){xc(n.element,i)});else if(typeof t=="function")try{t(function(i){n.rawData=i,_f(n)},function(i){xc(n.element,i,!0)})}catch(i){xc(n.element,i,!0)}else n.rawData=t,_f(n)}function yk(n,t){if(hy(t.data,n)){var e=t.options.empty||t.options.messages&&t.options.messages.empty||"No data";$f(t.element,e)}else ck(n,t),t.options.download&&!t.__downloadAttached&&t.adapter==="chartjs"&&pk(t)}function wk(n){if(typeof n=="string"){var t=n;if(n=document.getElementById(n),!n)throw new Error("No element with id "+t)}return n}var be=function(t,e,i){this.element=wk(t),this.options=Me(ie.options,i||{}),this.dataSource=e,this.element.id&&(ie.charts[this.element.id]=this),va(this,e,!0),this.options.refresh&&this.startRefresh()};be.prototype.getElement=function(){return this.element};be.prototype.getDataSource=function(){return this.dataSource};be.prototype.getData=function(){return this.data};be.prototype.getOptions=function(){return this.options};be.prototype.getChartObject=function(){return this.chart};be.prototype.getAdapter=function(){return this.adapter};be.prototype.updateData=function(t,e){this.dataSource=t,e&&this.__updateOptions(e),va(this,t,!0)};be.prototype.setOptions=function(t){this.__updateOptions(t),this.redraw()};be.prototype.redraw=function(){va(this,this.rawData)};be.prototype.refreshData=function(){if(typeof this.dataSource=="string"){var t=this.dataSource.indexOf("?")===-1?"?":"&",e=this.dataSource+t+"_="+new Date().getTime();va(this,e)}else typeof this.dataSource=="function"&&va(this,this.dataSource)};be.prototype.startRefresh=function(){var t=this,e=this.options.refresh;if(e&&typeof this.dataSource!="string"&&typeof this.dataSource!="function")throw new Error("Data source must be a URL or callback for refresh");if(!this.intervalId)if(e)this.intervalId=setInterval(function(){t.refreshData()},e*1e3);else throw new Error("No refresh interval")};be.prototype.stopRefresh=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)};be.prototype.toImage=function(t){if(this.adapter==="chartjs")if(t&&t.background&&t.background!=="transparent"){var e=this.chart.canvas,i=this.chart.ctx,r=document.createElement("canvas"),s=r.getContext("2d");return r.width=i.canvas.width,r.height=i.canvas.height,s.fillStyle=t.background,s.fillRect(0,0,r.width,r.height),s.drawImage(e,0,0),r.toDataURL("image/png")}else return this.chart.toBase64Image();else throw new Error("Feature only available for Chart.js")};be.prototype.destroy=function(){this.destroyed=!0,this.stopRefresh(),this.__adapterObject&&this.__adapterObject.destroy(this),this.__enterEvent&&this.element.removeEventListener("mouseover",this.__enterEvent),this.__leaveEvent&&this.element.removeEventListener("mouseout",this.__leaveEvent)};be.prototype.__updateOptions=function(t){var e=t.refresh&&t.refresh!==this.options.refresh;this.options=Me(ie.options,t),e&&(this.stopRefresh(),this.startRefresh())};be.prototype.__render=function(){this.data=this.__processData(),yk(this.__chartName(),this)};be.prototype.__config=function(){return ie.config};var xk=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){return eo(this)},t.prototype.__chartName=function(){return"LineChart"},t}(be),Ak=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){return dy(this)},t.prototype.__chartName=function(){return"PieChart"},t}(be),Sk=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){return eo(this,null,!0)},t.prototype.__chartName=function(){return"ColumnChart"},t}(be),_k=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){return eo(this,null,!0)},t.prototype.__chartName=function(){return"BarChart"},t}(be),Ck=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){return eo(this)},t.prototype.__chartName=function(){return"AreaChart"},t}(be),Ek=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){return dy(this)},t.prototype.__chartName=function(){return"GeoChart"},t}(be),kk=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){return eo(this,"number")},t.prototype.__chartName=function(){return"ScatterChart"},t}(be),Tk=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){return eo(this,"bubble")},t.prototype.__chartName=function(){return"BubbleChart"},t}(be),Ok=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){for(var i=this.rawData,r=0;r<i.length;r++)i[r][1]=bi(i[r][1]),i[r][2]=bi(i[r][2]);return i},t.prototype.__chartName=function(){return"Timeline"},t}(be);ie.LineChart=xk;ie.PieChart=Ak;ie.ColumnChart=Sk;ie.BarChart=_k;ie.AreaChart=Ck;ie.GeoChart=Ek;ie.ScatterChart=kk;ie.BubbleChart=Tk;ie.Timeline=Ok;typeof window<"u"&&!window.Chartkick&&(window.Chartkick=ie,document.addEventListener("turbolinks:before-render",function(){ie.config.autoDestroy!==!1&&ie.destroyAll()}),document.addEventListener("turbo:before-render",function(){ie.config.autoDestroy!==!1&&ie.destroyAll()}),setTimeout(function(){window.dispatchEvent(new Event("chartkick:load"))},0));ie.default=ie;function Aa(n){return n+.5|0}var gr=(n,t,e)=>Math.max(Math.min(n,e),t);function wa(n){return gr(Aa(n*2.55),0,255)}function vr(n){return gr(Aa(n*255),0,255)}function Fi(n){return gr(Aa(n/2.55)/100,0,1)}function py(n){return gr(Aa(n*100),0,100)}var qn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Vf=[..."0123456789ABCDEF"],Dk=n=>Vf[n&15],Mk=n=>Vf[(n&240)>>4]+Vf[n&15],_c=n=>(n&240)>>4===(n&15),Pk=n=>_c(n.r)&&_c(n.g)&&_c(n.b)&&_c(n.a);function Lk(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&qn[n[1]]*17,g:255&qn[n[2]]*17,b:255&qn[n[3]]*17,a:t===5?qn[n[4]]*17:255}:(t===7||t===9)&&(e={r:qn[n[1]]<<4|qn[n[2]],g:qn[n[3]]<<4|qn[n[4]],b:qn[n[5]]<<4|qn[n[6]],a:t===9?qn[n[7]]<<4|qn[n[8]]:255})),e}var Rk=(n,t)=>n<255?t(n):"";function Ik(n){var t=Pk(n)?Dk:Mk;return n?"#"+t(n.r)+t(n.g)+t(n.b)+Rk(n.a,t):void 0}var Fk=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function by(n,t,e){let i=t*Math.min(e,1-e),r=(s,o=(s+n/30)%12)=>e-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function Nk(n,t,e){let i=(r,s=(r+n/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function Bk(n,t,e){let i=by(n,1,.5),r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function jk(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function Wf(n){let e=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(e,i,r),o=Math.min(e,i,r),a=(s+o)/2,l,u,c;return s!==o&&(c=s-o,u=a>.5?c/(2-s-o):c/(s+o),l=jk(e,i,r,c,s),l=l*60+.5),[l|0,u||0,a]}function zf(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(vr)}function Uf(n,t,e){return zf(by,n,t,e)}function $k(n,t,e){return zf(Bk,n,t,e)}function Hk(n,t,e){return zf(Nk,n,t,e)}function yy(n){return(n%360+360)%360}function Vk(n){let t=Fk.exec(n),e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?wa(+t[5]):vr(+t[5]));let r=yy(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=$k(r,s,o):t[1]==="hsv"?i=Hk(r,s,o):i=Uf(r,s,o),{r:i[0],g:i[1],b:i[2],a:e}}function Wk(n,t){var e=Wf(n);e[0]=yy(e[0]+t),e=Uf(e),n.r=e[0],n.g=e[1],n.b=e[2]}function zk(n){if(!n)return;let t=Wf(n),e=t[0],i=py(t[1]),r=py(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Fi(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}var my={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},gy={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Uk(){let n={},t=Object.keys(gy),e=Object.keys(my),i,r,s,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],r=0;r<e.length;r++)s=e[r],a=a.replace(s,my[s]);s=parseInt(gy[o],16),n[a]=[s>>16&255,s>>8&255,s&255]}return n}var Cc;function qk(n){Cc||(Cc=Uk(),Cc.transparent=[0,0,0,0]);let t=Cc[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var Yk=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Kk(n){let t=Yk.exec(n),e=255,i,r,s;if(t){if(t[7]!==i){let o=+t[7];e=t[8]?wa(o):gr(o*255,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?wa(i):gr(i,0,255)),r=255&(t[4]?wa(r):gr(r,0,255)),s=255&(t[6]?wa(s):gr(s,0,255)),{r:i,g:r,b:s,a:e}}}function Gk(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Fi(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var Hf=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,no=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Xk(n,t,e){let i=no(Fi(n.r)),r=no(Fi(n.g)),s=no(Fi(n.b));return{r:vr(Hf(i+e*(no(Fi(t.r))-i))),g:vr(Hf(r+e*(no(Fi(t.g))-r))),b:vr(Hf(s+e*(no(Fi(t.b))-s))),a:n.a+e*(t.a-n.a)}}function Ec(n,t,e){if(n){let i=Wf(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Uf(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function wy(n,t){return n&&Object.assign(t||{},n)}function vy(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=vr(n[3]))):(t=wy(n,{r:0,g:0,b:0,a:1}),t.a=vr(t.a)),t}function Jk(n){return n.charAt(0)==="r"?Kk(n):Vk(n)}var xa=class n{constructor(t){if(t instanceof n)return t;let e=typeof t,i;e==="object"?i=vy(t):e==="string"&&(i=Lk(t)||qk(t)||Jk(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=wy(this._rgb);return t&&(t.a=Fi(t.a)),t}set rgb(t){this._rgb=vy(t)}rgbString(){return this._valid?Gk(this._rgb):void 0}hexString(){return this._valid?Ik(this._rgb):void 0}hslString(){return this._valid?zk(this._rgb):void 0}mix(t,e){if(t){let i=this.rgb,r=t.rgb,s,o=e===s?.5:e,a=2*o-1,l=i.a-r.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-u,i.r=255&u*i.r+s*r.r+.5,i.g=255&u*i.g+s*r.g+.5,i.b=255&u*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=Xk(this._rgb,t._rgb,e)),this}clone(){return new n(this.rgb)}alpha(t){return this._rgb.a=vr(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=Aa(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ec(this._rgb,2,t),this}darken(t){return Ec(this._rgb,2,-t),this}saturate(t){return Ec(this._rgb,1,t),this}desaturate(t){return Ec(this._rgb,1,-t),this}rotate(t){return Wk(this._rgb,t),this}};function Si(){}var My=(()=>{let n=0;return()=>n++})();function Zt(n){return n===null||typeof n>"u"}function ye(n){if(Array.isArray&&Array.isArray(n))return!0;let t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Kt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Pe(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Tn(n,t){return Pe(n)?n:t}function $t(n,t){return typeof n>"u"?t:n}var Py=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,Gf=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ve(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function ae(n,t,e,i){let r,s,o;if(ye(n))if(s=n.length,i)for(r=s-1;r>=0;r--)t.call(e,n[r],r);else for(r=0;r<s;r++)t.call(e,n[r],r);else if(Kt(n))for(o=Object.keys(n),s=o.length,r=0;r<s;r++)t.call(e,n[o[r]],o[r])}function Ca(n,t){let e,i,r,s;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],s=t[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Dc(n){if(ye(n))return n.map(Dc);if(Kt(n)){let t=Object.create(null),e=Object.keys(n),i=e.length,r=0;for(;r<i;++r)t[e[r]]=Dc(n[e[r]]);return t}return n}function Ly(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Qk(n,t,e,i){if(!Ly(n))return;let r=t[n],s=e[n];Kt(r)&&Kt(s)?ro(r,s,i):t[n]=Dc(s)}function ro(n,t,e){let i=ye(t)?t:[t],r=i.length;if(!Kt(n))return n;e=e||{};let s=e.merger||Qk,o;for(let a=0;a<r;++a){if(o=i[a],!Kt(o))continue;let l=Object.keys(o);for(let u=0,c=l.length;u<c;++u)s(l[u],n,o,e)}return n}function oo(n,t){return ro(n,t,{merger:Zk})}function Zk(n,t,e){if(!Ly(n))return;let i=t[n],r=e[n];Kt(i)&&Kt(r)?oo(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Dc(r))}var xy={"":n=>n,x:n=>n.x,y:n=>n.y};function tT(n){let t=n.split("."),e=[],i="";for(let r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function eT(n){let t=tT(n);return e=>{for(let i of t){if(i==="")break;e=e&&e[i]}return e}}function ji(n,t){return(xy[t]||(xy[t]=eT(t)))(n)}function Rc(n){return n.charAt(0).toUpperCase()+n.slice(1)}var ao=n=>typeof n<"u",Ni=n=>typeof n=="function",Xf=(n,t)=>{if(n.size!==t.size)return!1;for(let e of n)if(!t.has(e))return!1;return!0};function Ry(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}var we=Math.PI,xe=2*we,nT=xe+we,Mc=Number.POSITIVE_INFINITY,iT=we/180,je=we/2,Xr=we/4,Ay=we*2/3,Bi=Math.log10,si=Math.sign;function lo(n,t,e){return Math.abs(n-t)<e}function Jf(n){let t=Math.round(n);n=lo(n,t,n/1e3)?t:n;let e=Math.pow(10,Math.floor(Bi(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function Iy(n){let t=[],e=Math.sqrt(n),i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,s)=>r-s).pop(),t}function Zr(n){return!isNaN(parseFloat(n))&&isFinite(n)}function Fy(n,t){let e=Math.round(n);return e-t<=n&&e+t>=n}function Qf(n,t,e){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Yn(n){return n*(we/180)}function Ic(n){return n*(180/we)}function Zf(n){if(!Pe(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function tp(n,t){let e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i),s=Math.atan2(i,e);return s<-.5*we&&(s+=xe),{angle:s,distance:r}}function Pc(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function rT(n,t){return(n-t+nT)%xe-we}function kn(n){return(n%xe+xe)%xe}function co(n,t,e,i){let r=kn(n),s=kn(t),o=kn(e),a=kn(s-r),l=kn(o-r),u=kn(r-s),c=kn(r-o);return r===s||r===o||i&&s===o||a>l&&u<c}function Je(n,t,e){return Math.max(t,Math.min(e,n))}function Ny(n){return Je(n,-32768,32767)}function _i(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Fc(n,t,e){e=e||(o=>n[o]<t);let i=n.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,e(s)?r=s:i=s;return{lo:r,hi:i}}var xi=(n,t,e,i)=>Fc(n,e,i?r=>{let s=n[r][t];return s<e||s===e&&n[r+1][t]===e}:r=>n[r][t]<e),By=(n,t,e)=>Fc(n,e,i=>n[i][t]>=e);function jy(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}var $y=["push","pop","shift","splice","unshift"];function Hy(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),$y.forEach(e=>{let i="_onData"+Rc(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...s){let o=r.apply(this,s);return n._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function ep(n,t){let e=n._chartjs;if(!e)return;let i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&($y.forEach(s=>{delete n[s]}),delete n._chartjs)}function np(n){let t=new Set(n);return t.size===n.length?n:Array.from(t)}var ip=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function rp(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,ip.call(window,()=>{i=!1,n.apply(t,e)}))}}function Vy(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}var Nc=n=>n==="start"?"left":n==="end"?"right":"center",cn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,Wy=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function sp(n,t,e){let i=t.length,r=0,s=i;if(n._sorted){let{iScale:o,_parsed:a}=n,l=o.axis,{min:u,max:c,minDefined:d,maxDefined:h}=o.getUserBounds();d&&(r=Je(Math.min(xi(a,l,u).lo,e?i:xi(t,l,o.getPixelForValue(u)).lo),0,i-1)),h?s=Je(Math.max(xi(a,o.axis,c,!0).hi+1,e?0:xi(t,l,o.getPixelForValue(c),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function op(n){let{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;let s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),s}var kc=n=>n===0||n===1,Sy=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*xe/e)),_y=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*xe/e)+1,io={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*je)+1,easeOutSine:n=>Math.sin(n*je),easeInOutSine:n=>-.5*(Math.cos(we*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>kc(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>kc(n)?n:Sy(n,.075,.3),easeOutElastic:n=>kc(n)?n:_y(n,.075,.3),easeInOutElastic(n){return kc(n)?n:n<.5?.5*Sy(n*2,.1125,.45):.5+.5*_y(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-io.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?io.easeInBounce(n*2)*.5:io.easeOutBounce(n*2-1)*.5+.5};function ap(n){if(n&&typeof n=="object"){let t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function lp(n){return ap(n)?n:new xa(n)}function qf(n){return ap(n)?n:new xa(n).saturate(.5).darken(.1).hexString()}var sT=["x","y","borderWidth","radius","tension"],oT=["color","borderColor","backgroundColor"];function aT(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:oT},numbers:{type:"number",properties:sT}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function lT(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var Cy=new Map;function cT(n,t){t=t||{};let e=n+JSON.stringify(t),i=Cy.get(e);return i||(i=new Intl.NumberFormat(n,t),Cy.set(e,i)),i}function uo(n,t,e){return cT(t,e).format(n)}var zy={values(n){return ye(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";let i=this.chart.options.locale,r,s=n;if(e.length>1){let u=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),s=uT(n,e)}let o=Bi(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),uo(n,i,l)},logarithmic(n,t,e){if(n===0)return"0";let i=e[t].significand||n/Math.pow(10,Math.floor(Bi(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?zy.numeric.call(this,n,t,e):""}};function uT(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var Ea={formatters:zy};function dT(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ea.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var yr=Object.create(null),Bc=Object.create(null);function Sa(n,t){if(!t)return n;let e=t.split(".");for(let i=0,r=e.length;i<r;++i){let s=e[i];n=n[s]||(n[s]=Object.create(null))}return n}function Yf(n,t,e){return typeof t=="string"?ro(Sa(n,t),e):ro(Sa(n,""),t)}var Kf=class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>qf(r.backgroundColor),this.hoverBorderColor=(i,r)=>qf(r.borderColor),this.hoverColor=(i,r)=>qf(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Yf(this,t,e)}get(t){return Sa(this,t)}describe(t,e){return Yf(Bc,t,e)}override(t,e){return Yf(yr,t,e)}route(t,e,i,r){let s=Sa(this,t),o=Sa(this,i),a="_"+e;Object.defineProperties(s,{[a]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){let l=this[a],u=o[r];return Kt(l)?Object.assign({},u,l):$t(l,u)},set(l){this[a]=l}}})}apply(t){t.forEach(e=>e(this))}},Le=new Kf({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[aT,lT,dT]);function hT(n){return!n||Zt(n.size)||Zt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function _a(n,t,e,i,r){let s=t[r];return s||(s=t[r]=n.measureText(r).width,e.push(r)),s>i&&(i=s),i}function Uy(n,t,e,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let o=0,a=e.length,l,u,c,d,h;for(l=0;l<a;l++)if(d=e[l],d!=null&&!ye(d))o=_a(n,r,s,o,d);else if(ye(d))for(u=0,c=d.length;u<c;u++)h=d[u],h!=null&&!ye(h)&&(o=_a(n,r,s,o,h));n.restore();let m=s.length/2;if(m>e.length){for(l=0;l<m;l++)delete r[s[l]];s.splice(0,m)}return o}function wr(n,t,e){let i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function cp(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function jc(n,t,e,i){up(n,t,e,i,null)}function up(n,t,e,i,r){let s,o,a,l,u,c,d,h,m=t.pointStyle,v=t.rotation,g=t.radius,y=(v||0)*iT;if(m&&typeof m=="object"&&(s=m.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(y),n.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),n.restore();return}if(!(isNaN(g)||g<=0)){switch(n.beginPath(),m){default:r?n.ellipse(e,i,r/2,g,0,0,xe):n.arc(e,i,g,0,xe),n.closePath();break;case"triangle":c=r?r/2:g,n.moveTo(e+Math.sin(y)*c,i-Math.cos(y)*g),y+=Ay,n.lineTo(e+Math.sin(y)*c,i-Math.cos(y)*g),y+=Ay,n.lineTo(e+Math.sin(y)*c,i-Math.cos(y)*g),n.closePath();break;case"rectRounded":u=g*.516,l=g-u,o=Math.cos(y+Xr)*l,d=Math.cos(y+Xr)*(r?r/2-u:l),a=Math.sin(y+Xr)*l,h=Math.sin(y+Xr)*(r?r/2-u:l),n.arc(e-d,i-a,u,y-we,y-je),n.arc(e+h,i-o,u,y-je,y),n.arc(e+d,i+a,u,y,y+je),n.arc(e-h,i+o,u,y+je,y+we),n.closePath();break;case"rect":if(!v){l=Math.SQRT1_2*g,c=r?r/2:l,n.rect(e-c,i-l,2*c,2*l);break}y+=Xr;case"rectRot":d=Math.cos(y)*(r?r/2:g),o=Math.cos(y)*g,a=Math.sin(y)*g,h=Math.sin(y)*(r?r/2:g),n.moveTo(e-d,i-a),n.lineTo(e+h,i-o),n.lineTo(e+d,i+a),n.lineTo(e-h,i+o),n.closePath();break;case"crossRot":y+=Xr;case"cross":d=Math.cos(y)*(r?r/2:g),o=Math.cos(y)*g,a=Math.sin(y)*g,h=Math.sin(y)*(r?r/2:g),n.moveTo(e-d,i-a),n.lineTo(e+d,i+a),n.moveTo(e+h,i-o),n.lineTo(e-h,i+o);break;case"star":d=Math.cos(y)*(r?r/2:g),o=Math.cos(y)*g,a=Math.sin(y)*g,h=Math.sin(y)*(r?r/2:g),n.moveTo(e-d,i-a),n.lineTo(e+d,i+a),n.moveTo(e+h,i-o),n.lineTo(e-h,i+o),y+=Xr,d=Math.cos(y)*(r?r/2:g),o=Math.cos(y)*g,a=Math.sin(y)*g,h=Math.sin(y)*(r?r/2:g),n.moveTo(e-d,i-a),n.lineTo(e+d,i+a),n.moveTo(e+h,i-o),n.lineTo(e-h,i+o);break;case"line":o=r?r/2:Math.cos(y)*g,a=Math.sin(y)*g,n.moveTo(e-o,i-a),n.lineTo(e+o,i+a);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(y)*(r?r/2:g),i+Math.sin(y)*g);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Ai(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function ka(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Ta(n){n.restore()}function qy(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){let s=(t.x+e.x)/2;n.lineTo(s,t.y),n.lineTo(s,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function Yy(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function fT(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Zt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function pT(n,t,e,i,r){if(r.strikethrough||r.underline){let s=n.measureText(i),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=e-s.actualBoundingBoxAscent,u=e+s.actualBoundingBoxDescent,c=r.strikethrough?(l+u)/2:u;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(o,c),n.lineTo(a,c),n.stroke()}}function mT(n,t){let e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function xr(n,t,e,i,r,s={}){let o=ye(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="",l,u;for(n.save(),n.font=r.string,fT(n,s),l=0;l<o.length;++l)u=o[l],s.backdrop&&mT(n,s.backdrop),a&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Zt(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(u,e,i,s.maxWidth)),n.fillText(u,e,i,s.maxWidth),pT(n,e,i,u,s),i+=Number(r.lineHeight);n.restore()}function ho(n,t){let{x:e,y:i,w:r,h:s,radius:o}=t;n.arc(e+o.topLeft,i+o.topLeft,o.topLeft,1.5*we,we,!0),n.lineTo(e,i+s-o.bottomLeft),n.arc(e+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,we,je,!0),n.lineTo(e+r-o.bottomRight,i+s),n.arc(e+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,je,0,!0),n.lineTo(e+r,i+o.topRight),n.arc(e+r-o.topRight,i+o.topRight,o.topRight,0,-je,!0),n.lineTo(e+o.topLeft,i)}var gT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,vT=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function bT(n,t){let e=(""+n).match(gT);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}var yT=n=>+n||0;function $c(n,t){let e={},i=Kt(t),r=i?Object.keys(t):t,s=Kt(n)?i?o=>$t(n[o],n[t[o]]):o=>n[o]:()=>n;for(let o of r)e[o]=yT(s(o));return e}function dp(n){return $c(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ar(n){return $c(n,["topLeft","topRight","bottomLeft","bottomRight"])}function un(n){let t=dp(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function qe(n,t){n=n||{},t=t||Le.font;let e=$t(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=$t(n.style,t.style);i&&!(""+i).match(vT)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let r={family:$t(n.family,t.family),lineHeight:bT($t(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:$t(n.weight,t.weight),string:""};return r.string=hT(r),r}function fo(n,t,e,i){let r=!0,s,o,a;for(s=0,o=n.length;s<o;++s)if(a=n[s],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),r=!1),e!==void 0&&ye(a)&&(a=a[e%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function Ky(n,t,e){let{min:i,max:r}=n,s=Gf(t,(r-i)/2),o=(a,l)=>e&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function $i(n,t){return Object.assign(Object.create(n),t)}function Hc(n,t=[""],e,i,r=()=>n[0]){let s=e||n;typeof i>"u"&&(i=Jy("_fallback",n));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>Hc([a,...n],t,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return Gy(a,l,()=>kT(l,t,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return ky(a).includes(l)},ownKeys(a){return ky(a)},set(a,l,u){let c=a._storage||(a._storage=r());return a[l]=c[l]=u,delete a._keys,!0}})}function Qr(n,t,e,i){let r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:hp(n,i),setContext:s=>Qr(n,s,e,i),override:s=>Qr(n.override(s),t,e,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,a){return Gy(s,o,()=>xT(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,a){return n[o]=a,delete s[o],!0}})}function hp(n,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Ni(e)?e:()=>e,isIndexable:Ni(i)?i:()=>i}}var wT=(n,t)=>n?n+Rc(t):t,fp=(n,t)=>Kt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Gy(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];let i=e();return n[t]=i,i}function xT(n,t,e){let{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=n,a=i[t];return Ni(a)&&o.isScriptable(t)&&(a=AT(t,a,n,e)),ye(a)&&a.length&&(a=ST(t,a,n,o.isIndexable)),fp(t,a)&&(a=Qr(a,r,s&&s[t],o)),a}function AT(n,t,e,i){let{_proxy:r,_context:s,_subProxy:o,_stack:a}=e;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=t(s,o||i);return a.delete(n),fp(n,l)&&(l=pp(r._scopes,r,n,l)),l}function ST(n,t,e,i){let{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=e;if(typeof s.index<"u"&&i(n))return t[s.index%t.length];if(Kt(t[0])){let l=t,u=r._scopes.filter(c=>c!==l);t=[];for(let c of l){let d=pp(u,r,n,c);t.push(Qr(d,s,o&&o[n],a))}}return t}function Xy(n,t,e){return Ni(n)?n(t,e):n}var _T=(n,t)=>n===!0?t:typeof n=="string"?ji(t,n):void 0;function CT(n,t,e,i,r){for(let s of t){let o=_T(e,s);if(o){n.add(o);let a=Xy(o._fallback,e,r);if(typeof a<"u"&&a!==e&&a!==i)return a}else if(o===!1&&typeof i<"u"&&e!==i)return null}return!1}function pp(n,t,e,i){let r=t._rootScopes,s=Xy(t._fallback,e,i),o=[...n,...r],a=new Set;a.add(i);let l=Ey(a,o,e,s||e,i);return l===null||typeof s<"u"&&s!==e&&(l=Ey(a,o,s,l,i),l===null)?!1:Hc(Array.from(a),[""],r,s,()=>ET(t,e,i))}function Ey(n,t,e,i,r){for(;e;)e=CT(n,t,e,i,r);return e}function ET(n,t,e){let i=n._getTarget();t in i||(i[t]={});let r=i[t];return ye(r)&&Kt(e)?e:r||{}}function kT(n,t,e,i){let r;for(let s of t)if(r=Jy(wT(s,n),e),typeof r<"u")return fp(n,r)?pp(e,i,n,r):r}function Jy(n,t){for(let e of t){if(!e)continue;let i=e[n];if(typeof i<"u")return i}}function ky(n){let t=n._keys;return t||(t=n._keys=TT(n._scopes)),t}function TT(n){let t=new Set;for(let e of n)for(let i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function mp(n,t,e,i){let{iScale:r}=n,{key:s="r"}=this._parsing,o=new Array(i),a,l,u,c;for(a=0,l=i;a<l;++a)u=a+e,c=t[u],o[a]={r:r.parse(ji(c,s),u)};return o}var OT=Number.EPSILON||1e-14,so=(n,t)=>t<n.length&&!n[t].skip&&n[t],Qy=n=>n==="x"?"y":"x";function DT(n,t,e,i){let r=n.skip?t:n,s=t,o=e.skip?t:e,a=Pc(s,r),l=Pc(o,s),u=a/(a+l),c=l/(a+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;let d=i*u,h=i*c;return{previous:{x:s.x-d*(o.x-r.x),y:s.y-d*(o.y-r.y)},next:{x:s.x+h*(o.x-r.x),y:s.y+h*(o.y-r.y)}}}function MT(n,t,e){let i=n.length,r,s,o,a,l,u=so(n,0);for(let c=0;c<i-1;++c)if(l=u,u=so(n,c+1),!(!l||!u)){if(lo(t[c],0,OT)){e[c]=e[c+1]=0;continue}r=e[c]/t[c],s=e[c+1]/t[c],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),e[c]=r*o*t[c],e[c+1]=s*o*t[c])}}function PT(n,t,e="x"){let i=Qy(e),r=n.length,s,o,a,l=so(n,0);for(let u=0;u<r;++u){if(o=a,a=l,l=so(n,u+1),!a)continue;let c=a[e],d=a[i];o&&(s=(c-o[e])/3,a[`cp1${e}`]=c-s,a[`cp1${i}`]=d-s*t[u]),l&&(s=(l[e]-c)/3,a[`cp2${e}`]=c+s,a[`cp2${i}`]=d+s*t[u])}}function LT(n,t="x"){let e=Qy(t),i=n.length,r=Array(i).fill(0),s=Array(i),o,a,l,u=so(n,0);for(o=0;o<i;++o)if(a=l,l=u,u=so(n,o+1),!!l){if(u){let c=u[t]-l[t];r[o]=c!==0?(u[e]-l[e])/c:0}s[o]=a?u?si(r[o-1])!==si(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}MT(n,r,s),PT(n,s,t)}function Tc(n,t,e){return Math.max(Math.min(n,e),t)}function RT(n,t){let e,i,r,s,o,a=Ai(n[0],t);for(e=0,i=n.length;e<i;++e)o=s,s=a,a=e<i-1&&Ai(n[e+1],t),s&&(r=n[e],o&&(r.cp1x=Tc(r.cp1x,t.left,t.right),r.cp1y=Tc(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=Tc(r.cp2x,t.left,t.right),r.cp2y=Tc(r.cp2y,t.top,t.bottom)))}function Zy(n,t,e,i,r){let s,o,a,l;if(t.spanGaps&&(n=n.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")LT(n,r);else{let u=i?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)a=n[s],l=DT(u,a,n[Math.min(s+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}t.capBezierPoints&&RT(n,e)}function Vc(){return typeof window<"u"&&typeof document<"u"}function Wc(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Lc(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}var zc=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function IT(n,t){return zc(n).getPropertyValue(t)}var FT=["top","right","bottom","left"];function Jr(n,t,e){let i={};e=e?"-"+e:"";for(let r=0;r<4;r++){let s=FT[r];i[s]=parseFloat(n[t+"-"+s+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var NT=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function BT(n,t){let e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:s}=i,o=!1,a,l;if(NT(r,s,n.target))a=r,l=s;else{let u=t.getBoundingClientRect();a=i.clientX-u.left,l=i.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function Sr(n,t){if("native"in n)return n;let{canvas:e,currentDevicePixelRatio:i}=t,r=zc(e),s=r.boxSizing==="border-box",o=Jr(r,"padding"),a=Jr(r,"border","width"),{x:l,y:u,box:c}=BT(n,e),d=o.left+(c&&a.left),h=o.top+(c&&a.top),{width:m,height:v}=t;return s&&(m-=o.width+a.width,v-=o.height+a.height),{x:Math.round((l-d)/m*e.width/i),y:Math.round((u-h)/v*e.height/i)}}function jT(n,t,e){let i,r;if(t===void 0||e===void 0){let s=n&&Wc(n);if(!s)t=n.clientWidth,e=n.clientHeight;else{let o=s.getBoundingClientRect(),a=zc(s),l=Jr(a,"border","width"),u=Jr(a,"padding");t=o.width-u.width-l.width,e=o.height-u.height-l.height,i=Lc(a.maxWidth,s,"clientWidth"),r=Lc(a.maxHeight,s,"clientHeight")}}return{width:t,height:e,maxWidth:i||Mc,maxHeight:r||Mc}}var Oc=n=>Math.round(n*10)/10;function tw(n,t,e,i){let r=zc(n),s=Jr(r,"margin"),o=Lc(r.maxWidth,n,"clientWidth")||Mc,a=Lc(r.maxHeight,n,"clientHeight")||Mc,l=jT(n,t,e),{width:u,height:c}=l;if(r.boxSizing==="content-box"){let h=Jr(r,"border","width"),m=Jr(r,"padding");u-=m.width+h.width,c-=m.height+h.height}return u=Math.max(0,u-s.width),c=Math.max(0,i?u/i:c-s.height),u=Oc(Math.min(u,o,l.maxWidth)),c=Oc(Math.min(c,a,l.maxHeight)),u&&!c&&(c=Oc(u/2)),(t!==void 0||e!==void 0)&&i&&l.height&&c>l.height&&(c=l.height,u=Oc(Math.floor(c*i))),{width:u,height:c}}function gp(n,t,e){let i=t||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);let o=n.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(n.currentDevicePixelRatio=i,o.height=r,o.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}var ew=function(){let n=!1;try{let t={get passive(){return n=!0,!1}};Vc()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function vp(n,t){let e=IT(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function br(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function nw(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function iw(n,t,e,i){let r={x:n.cp2x,y:n.cp2y},s={x:t.cp1x,y:t.cp1y},o=br(n,r,e),a=br(r,s,e),l=br(s,t,e),u=br(o,a,e),c=br(a,l,e);return br(u,c,e)}var $T=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},HT=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function ts(n,t,e){return n?$T(t,e):HT()}function bp(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function yp(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function rw(n){return n==="angle"?{between:co,compare:rT,normalize:kn}:{between:_i,compare:(t,e)=>t-e,normalize:t=>t}}function Ty({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function VT(n,t,e){let{property:i,start:r,end:s}=e,{between:o,normalize:a}=rw(i),l=t.length,{start:u,end:c,loop:d}=n,h,m;if(d){for(u+=l,c+=l,h=0,m=l;h<m&&o(a(t[u%l][i]),r,s);++h)u--,c--;u%=l,c%=l}return c<u&&(c+=l),{start:u,end:c,loop:d,style:n.style}}function wp(n,t,e){if(!e)return[n];let{property:i,start:r,end:s}=e,o=t.length,{compare:a,between:l,normalize:u}=rw(i),{start:c,end:d,loop:h,style:m}=VT(n,t,e),v=[],g=!1,y=null,x,A,w,p=()=>l(r,w,x)&&a(r,w)!==0,_=()=>a(s,x)===0||l(s,w,x),S=()=>g||p(),j=()=>!g||_();for(let H=c,Y=c;H<=d;++H)A=t[H%o],!A.skip&&(x=u(A[i]),x!==w&&(g=l(x,r,s),y===null&&S()&&(y=a(x,r)===0?H:Y),y!==null&&j()&&(v.push(Ty({start:y,end:H,loop:h,count:o,style:m})),y=null),Y=H,w=x));return y!==null&&v.push(Ty({start:y,end:d,loop:h,count:o,style:m})),v}function xp(n,t){let e=[],i=n.segments;for(let r=0;r<i.length;r++){let s=wp(i[r],n.points,t);s.length&&e.push(...s)}return e}function WT(n,t,e,i){let r=0,s=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(s+=r);s>r&&n[s%t].skip;)s--;return s%=t,{start:r,end:s}}function zT(n,t,e,i){let r=n.length,s=[],o=t,a=n[t],l;for(l=t+1;l<=e;++l){let u=n[l%r];u.skip||u.stop?a.skip||(i=!1,s.push({start:t%r,end:(l-1)%r,loop:i}),t=o=u.stop?l:null):(o=l,a.skip&&(t=l)),a=u}return o!==null&&s.push({start:t%r,end:o%r,loop:i}),s}function sw(n,t){let e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];let s=!!n._loop,{start:o,end:a}=WT(e,r,s,i);if(i===!0)return Oy(n,[{start:o,end:a,loop:s}],e,t);let l=a<o?a+r:a,u=!!n._fullLoop&&o===0&&a===r-1;return Oy(n,zT(e,o,l,u),e,t)}function Oy(n,t,e,i){return!i||!i.setContext||!e?t:UT(n,t,e,i)}function UT(n,t,e,i){let r=n._chart.getContext(),s=Dy(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,l=e.length,u=[],c=s,d=t[0].start,h=d;function m(v,g,y,x){let A=a?-1:1;if(v!==g){for(v+=l;e[v%l].skip;)v-=A;for(;e[g%l].skip;)g+=A;v%l!==g%l&&(u.push({start:v%l,end:g%l,loop:y,style:x}),c=x,d=g%l)}}for(let v of t){d=a?d:v.start;let g=e[d%l],y;for(h=d+1;h<=v.end;h++){let x=e[h%l];y=Dy(i.setContext($i(r,{type:"segment",p0:g,p1:x,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),qT(y,c)&&m(d,h-1,v.loop,c),g=x,c=y}d<h-1&&m(d,h-1,v.loop,c)}return u}function Dy(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function qT(n,t){if(!t)return!1;let e=[],i=function(r,s){return ap(s)?(e.includes(s)||e.push(s),e.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(t,i)}var Mp=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){let s=e.listeners[r],o=e.duration;s.forEach(a=>a({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=ip.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;let s=i.items,o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=s.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let i=e.items,r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},Hi=new Mp,ow="transparent",YT={boolean(n,t,e){return e>.5?t:n},color(n,t,e){let i=lp(n||ow),r=i.valid&&lp(t||ow);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}},Pp=class{constructor(t,e,i,r){let s=e[i];r=fo([t.to,r,s,t.from]);let o=fo([t.from,s,r]);this._active=!0,this._fn=t.fn||YT[t.type||typeof o],this._easing=io[t.easing]||io.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);let r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=fo([t.to,e,r,t.from]),this._from=fo([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to,l;if(this._active=s!==a&&(o||e<i),!this._active){this._target[r]=a,this._notify(!0);return}if(e<0){this._target[r]=s;return}l=e/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){let e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}},tu=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Kt(t))return;let e=Object.keys(Le.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{let s=t[r];if(!Kt(s))return;let o={};for(let a of e)o[a]=s[a];(ye(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(t,e){let i=e.options,r=GT(t,i);if(!r)return[];let s=this._createAnimations(r,i);return i.$shared&&KT(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,e){let i=this._properties,r=[],s=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now(),l;for(l=o.length-1;l>=0;--l){let u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){r.push(...this._animateOptions(t,e));continue}let c=e[u],d=s[u],h=i.get(u);if(d)if(h&&d.active()){d.update(h,c,a);continue}else d.cancel();if(!h||!h.duration){t[u]=c;continue}s[u]=d=new Pp(h,t,u,c),r.push(d)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let i=this._createAnimations(t,e);if(i.length)return Hi.add(this._chart,i),!0}};function KT(n,t){let e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){let s=n[i[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}function GT(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function aw(n,t){let e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,s=e.max===void 0?t:0;return{start:i?s:r,end:i?r:s}}function XT(n,t,e){if(e===!1)return!1;let i=aw(n,e),r=aw(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function JT(n){let t,e,i,r;return Kt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function ox(n,t){let e=[],i=n._getSortedDatasetMetas(t),r,s;for(r=0,s=i.length;r<s;++r)e.push(i[r].index);return e}function lw(n,t,e,i={}){let r=n.keys,s=i.mode==="single",o,a,l,u;if(t!==null){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===e){if(i.all)continue;break}u=n.values[l],Pe(u)&&(s||t===0||si(t)===si(u))&&(t+=u)}return t}}function QT(n,t){let{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length),l,u,c;for(l=0,u=o.length;l<u;++l)c=o[l],a[l]={[r]:c,[s]:n[c]};return a}function cw(n,t){let e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function ZT(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function tO(n){let{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function eO(n,t,e){let i=n[t]||(n[t]={});return i[e]||(i[e]={})}function uw(n,t,e,i){for(let r of t.getMatchingVisibleMetas(i).reverse()){let s=n[r.index];if(e&&s>0||!e&&s<0)return r.index}return null}function dw(n,t){let{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,u=o.axis,c=ZT(s,o,i),d=t.length,h;for(let m=0;m<d;++m){let v=t[m],{[l]:g,[u]:y}=v,x=v._stacks||(v._stacks={});h=x[u]=eO(r,c,g),h[a]=y,h._top=uw(h,o,!0,i.type),h._bottom=uw(h,o,!1,i.type);let A=h._visualValues||(h._visualValues={});A[a]=y}}function Ap(n,t){let e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function nO(n,t){return $i(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function iO(n,t,e){return $i(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Oa(n,t){let e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(let r of t){let s=r._stacks;if(!s||s[i]===void 0||s[i][e]===void 0)return;delete s[i][e],s[i]._visualValues!==void 0&&s[i]._visualValues[e]!==void 0&&delete s[i]._visualValues[e]}}}var Sp=n=>n==="reset"||n==="none",hw=(n,t)=>t?n:Object.assign({},n),rO=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:ox(e,!0),values:null},ki=class{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=cw(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Oa(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(d,h,m,v)=>d==="x"?h:d==="r"?v:m,s=e.xAxisID=$t(i.xAxisID,Ap(t,"x")),o=e.yAxisID=$t(i.yAxisID,Ap(t,"y")),a=e.rAxisID=$t(i.rAxisID,Ap(t,"r")),l=e.indexAxis,u=e.iAxisID=r(l,s,o,a),c=e.vAxisID=r(l,o,s,a);e.xScale=this.getScaleForId(s),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(u),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&ep(this._data,this),t._stacked&&Oa(t)}_dataCheck(){let t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Kt(e)){let r=this._cachedMeta;this._data=QT(e,r)}else if(i!==e){if(i){ep(i,this);let r=this._cachedMeta;Oa(r),r._parsed=[]}e&&Object.isExtensible(e)&&Hy(e,this),this._syncList=[],this._data=e}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let e=this._cachedMeta,i=this.getDataset(),r=!1;this._dataCheck();let s=e._stacked;e._stacked=cw(e.vScale,e),e.stack!==i.stack&&(r=!0,Oa(e),e.stack=i.stack),this._resyncElements(t),(r||s!==e._stacked)&&dw(this,e._parsed)}configure(){let t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){let{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis,l=t===0&&e===r.length?!0:i._sorted,u=t>0&&i._parsed[t-1],c,d,h;if(this._parsing===!1)i._parsed=r,i._sorted=!0,h=r;else{ye(r[t])?h=this.parseArrayData(i,r,t,e):Kt(r[t])?h=this.parseObjectData(i,r,t,e):h=this.parsePrimitiveData(i,r,t,e);let m=()=>d[a]===null||u&&d[a]<u[a];for(c=0;c<e;++c)i._parsed[c+t]=d=h[c],l&&(m()&&(l=!1),u=d);i._sorted=l}o&&dw(this,h)}parsePrimitiveData(t,e,i,r){let{iScale:s,vScale:o}=t,a=s.axis,l=o.axis,u=s.getLabels(),c=s===o,d=new Array(r),h,m,v;for(h=0,m=r;h<m;++h)v=h+i,d[h]={[a]:c||s.parse(u[v],v),[l]:o.parse(e[v],v)};return d}parseArrayData(t,e,i,r){let{xScale:s,yScale:o}=t,a=new Array(r),l,u,c,d;for(l=0,u=r;l<u;++l)c=l+i,d=e[c],a[l]={x:s.parse(d[0],c),y:o.parse(d[1],c)};return a}parseObjectData(t,e,i,r){let{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(r),c,d,h,m;for(c=0,d=r;c<d;++c)h=c+i,m=e[h],u[c]={x:s.parse(ji(m,a),h),y:o.parse(ji(m,l),h)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){let r=this.chart,s=this._cachedMeta,o=e[t.axis],a={keys:ox(r,!0),values:e._stacks[t.axis]._visualValues};return lw(a,o,s.index,{mode:i})}updateRangeFromParsed(t,e,i,r){let s=i[e.axis],o=s===null?NaN:s,a=r&&i._stacks[e.axis];r&&a&&(r.values=a,o=lw(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){let i=this._cachedMeta,r=i._parsed,s=i._sorted&&t===i.iScale,o=r.length,a=this._getOtherScale(t),l=rO(e,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=tO(a),h,m;function v(){m=r[h];let g=m[a.axis];return!Pe(m[t.axis])||c>g||d<g}for(h=0;h<o&&!(!v()&&(this.updateRangeFromParsed(u,t,m,l),s));++h);if(s){for(h=o-1;h>=0;--h)if(!v()){this.updateRangeFromParsed(u,t,m,l);break}}return u}getAllParsedValues(t){let e=this._cachedMeta._parsed,i=[],r,s,o;for(r=0,s=e.length;r<s;++r)o=e[r][t.axis],Pe(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){let e=this._cachedMeta,i=e.iScale,r=e.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(t){let e=this._cachedMeta;this.update(t||"default"),e._clip=JT($t(this.options.clip,XT(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],s=e.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,u=this.options.drawActiveElementsOnTop,c;for(i.dataset&&i.dataset.draw(t,s,a,l),c=a;c<a+l;++c){let d=r[c];d.hidden||(d.active&&u?o.push(d):d.draw(t,s))}for(c=0;c<o.length;++c)o[c].draw(t,s)}getStyle(t,e){let i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){let r=this.getDataset(),s;if(t>=0&&t<this._cachedMeta.data.length){let o=this._cachedMeta.data[t];s=o.$context||(o.$context=iO(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=r.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=nO(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!e,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){let r=e==="active",s=this._cachedDataOpts,o=t+"-"+e,a=s[o],l=this.enableOptionSharing&&ao(i);if(a)return hw(a,l);let u=this.chart.config,c=u.datasetElementScopeKeys(this._type,t),d=r?[`${t}Hover`,"hover",t,""]:[t,""],h=u.getOptionScopes(this.getDataset(),c),m=Object.keys(Le.elements[t]),v=()=>this.getContext(i,r,e),g=u.resolveNamedOptions(h,m,v,d);return g.$shared&&(g.$shared=l,s[o]=Object.freeze(hw(g,l))),g}_resolveAnimations(t,e,i){let r=this.chart,s=this._cachedDataOpts,o=`animation-${e}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){let c=this.chart.config,d=c.datasetAnimationScopeKeys(this._type,e),h=c.getOptionScopes(this.getDataset(),d);l=c.createResolver(h,this.getContext(t,i,e))}let u=new tu(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Sp(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){let i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(e,s)||s!==r;return this.updateSharedOptions(s,e,i),{sharedOptions:s,includeOptions:o}}updateElement(t,e,i,r){Sp(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Sp(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;let s=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let e=this._data,i=this._cachedMeta.data;for(let[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];let r=i.length,s=e.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,e,i=!0){let r=this._cachedMeta,s=r.data,o=t+e,a,l=u=>{for(u.length+=e,a=u.length-1;a>=o;a--)u[a]=u[a-e]};for(l(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(t,e),i&&this.updateElements(s,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){let i=this._cachedMeta;if(this._parsing){let r=i._parsed.splice(t,e);i._stacked&&Oa(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);let i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}};function sO(n,t){if(!n._cache.$bar){let e=n.getMatchingVisibleMetas(t),i=[];for(let r=0,s=e.length;r<s;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=np(i.sort((r,s)=>r-s))}return n._cache.$bar}function oO(n){let t=n.iScale,e=sO(t,n.type),i=t._length,r,s,o,a,l=()=>{o===32767||o===-32768||(ao(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=e.length;r<s;++r)o=t.getPixelForValue(e[r]),l();for(a=void 0,r=0,s=t.ticks.length;r<s;++r)o=t.getPixelForTick(r),l();return i}function aO(n,t,e,i){let r=e.barThickness,s,o;return Zt(r)?(s=t.min*e.categoryPercentage,o=e.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:t.pixels[n]-s/2}}function lO(n,t,e,i){let r=t.pixels,s=r[n],o=n>0?r[n-1]:null,a=n<r.length-1?r[n+1]:null,l=e.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);let u=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:e.barPercentage,start:u}}function cO(n,t,e,i){let r=e.parse(n[0],i),s=e.parse(n[1],i),o=Math.min(r,s),a=Math.max(r,s),l=o,u=a;Math.abs(o)>Math.abs(a)&&(l=a,u=o),t[e.axis]=u,t._custom={barStart:l,barEnd:u,start:r,end:s,min:o,max:a}}function ax(n,t,e,i){return ye(n)?cO(n,t,e,i):t[e.axis]=e.parse(n,i),t}function fw(n,t,e,i){let r=n.iScale,s=n.vScale,o=r.getLabels(),a=r===s,l=[],u,c,d,h;for(u=e,c=e+i;u<c;++u)h=t[u],d={},d[r.axis]=a||r.parse(o[u],u),l.push(ax(h,d,s,u));return l}function _p(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function uO(n,t,e){return n!==0?si(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function dO(n){let t,e,i,r,s;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:e,end:i,reverse:t,top:r,bottom:s}}function hO(n,t,e,i){let r=t.borderSkipped,s={};if(!r){n.borderSkipped=s;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:a,reverse:l,top:u,bottom:c}=dO(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=u:(e._bottom||0)===i?r=c:(s[pw(c,o,a,l)]=!0,r=u)),s[pw(r,o,a,l)]=!0,n.borderSkipped=s}function pw(n,t,e,i){return i?(n=fO(n,t,e),n=mw(n,e,t)):n=mw(n,t,e),n}function fO(n,t,e){return n===t?e:n===e?t:n}function mw(n,t,e){return n==="start"?t:n==="end"?e:n}function pO(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}var Lp=class extends ki{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return fw(t,e,i,r)}parseArrayData(t,e,i,r){return fw(t,e,i,r)}parseObjectData(t,e,i,r){let{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=s.axis==="x"?a:l,c=o.axis==="x"?a:l,d=[],h,m,v,g;for(h=i,m=i+r;h<m;++h)g=e[h],v={},v[s.axis]=s.parse(ji(g,u),h),d.push(ax(ji(g,c),v,o,h));return d}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);let s=i._custom;s&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let e=this._cachedMeta,{iScale:i,vScale:r}=e,s=this.getParsed(t),o=s._custom,a=_p(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){let s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(e,r);for(let m=e;m<e+i;m++){let v=this.getParsed(m),g=s||Zt(v[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(m),y=this._calculateBarIndexPixels(m,c),x=(v._stacks||{})[a.axis],A={horizontal:u,base:g.base,enableBorderRadius:!x||_p(v._custom)||o===x._top||o===x._bottom,x:u?g.head:y.center,y:u?y.center:g.head,height:u?y.size:Math.abs(g.size),width:u?Math.abs(g.size):y.size};h&&(A.options=d||this.resolveDataElementOptions(m,t[m].active?"active":r));let w=A.options||t[m].options;hO(A,w,x,o),pO(A,w,c.ratio),this.updateElement(t[m],m,A,r)}}_getStacks(t,e){let{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),s=i.options.stacked,o=[],a=l=>{let u=l.controller.getParsed(e),c=u&&u[l.vScale.axis];if(Zt(c)||isNaN(c))return!0};for(let l of r)if(!(e!==void 0&&a(l))&&((s===!1||o.indexOf(l.stack)===-1||s===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){let r=this._getStacks(t,i),s=e!==void 0?r.indexOf(e):-1;return s===-1?r.length-1:s}_getRuler(){let t=this.options,e=this._cachedMeta,i=e.iScale,r=[],s,o;for(s=0,o=e.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));let a=t.barThickness;return{min:a||oO(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(t),u=l._custom,c=_p(u),d=l[e.axis],h=0,m=i?this.applyStack(e,l,i):d,v,g;m!==d&&(h=m-d,m=d),c&&(d=u.barStart,m=u.barEnd-u.barStart,d!==0&&si(d)!==si(u.barEnd)&&(h=0),h+=d);let y=!Zt(s)&&!c?s:h,x=e.getPixelForValue(y);if(this.chart.getDataVisibility(t)?v=e.getPixelForValue(h+m):v=x,g=v-x,Math.abs(g)<o){g=uO(g,e,a)*o,d===a&&(x-=g/2);let A=e.getPixelForDecimal(0),w=e.getPixelForDecimal(1),p=Math.min(A,w),_=Math.max(A,w);x=Math.max(Math.min(x,_),p),v=x+g,i&&!c&&(l._stacks[e.axis]._visualValues[r]=e.getValueForPixel(v)-e.getValueForPixel(x))}if(x===e.getPixelForValue(a)){let A=si(g)*e.getLineWidthForValue(a)/2;x+=A,g-=A}return{size:g,base:x,head:v,center:v+g/2}}_calculateBarIndexPixels(t,e){let i=e.scale,r=this.options,s=r.skipNull,o=$t(r.maxBarThickness,1/0),a,l;if(e.grouped){let u=s?this._getStackCount(t):e.stackCount,c=r.barThickness==="flex"?lO(t,e,r,u):aO(t,e,r,u),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);a=c.start+c.chunk*d+c.chunk/2,l=Math.min(o,c.chunk*c.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(o,e.min*e.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){let t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length,s=0;for(;s<r;++s)this.getParsed(s)[e.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}},Rp=class extends ki{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,r){let s=super.parsePrimitiveData(t,e,i,r);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+i).radius;return s}parseArrayData(t,e,i,r){let s=super.parseArrayData(t,e,i,r);for(let o=0;o<s.length;o++){let a=e[i+o];s[o]._custom=$t(a[2],this.resolveDataElementOptions(o+i).radius)}return s}parseObjectData(t,e,i,r){let s=super.parseObjectData(t,e,i,r);for(let o=0;o<s.length;o++){let a=e[i+o];s[o]._custom=$t(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return s}getMaxOverflow(){let t=this._cachedMeta.data,e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){let e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=e,o=this.getParsed(t),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y),u=o._custom;return{label:i[t]||"",value:"("+a+", "+l+(u?", "+u:"")+")"}}update(t){let e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,r){let s=r==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(e,r),c=o.axis,d=a.axis;for(let h=e;h<e+i;h++){let m=t[h],v=!s&&this.getParsed(h),g={},y=g[c]=s?o.getPixelForDecimal(.5):o.getPixelForValue(v[c]),x=g[d]=s?a.getBasePixel():a.getPixelForValue(v[d]);g.skip=isNaN(y)||isNaN(x),u&&(g.options=l||this.resolveDataElementOptions(h,m.active?"active":r),s&&(g.options.radius=0)),this.updateElement(m,h,g,r)}}resolveDataElementOptions(t,e){let i=this.getParsed(t),r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));let s=r.radius;return e!=="active"&&(r.radius=0),r.radius+=$t(i&&i._custom,s),r}};function mO(n,t,e){let i=1,r=1,s=0,o=0;if(t<xe){let a=n,l=a+t,u=Math.cos(a),c=Math.sin(a),d=Math.cos(l),h=Math.sin(l),m=(w,p,_)=>co(w,a,l,!0)?1:Math.max(p,p*e,_,_*e),v=(w,p,_)=>co(w,a,l,!0)?-1:Math.min(p,p*e,_,_*e),g=m(0,u,d),y=m(je,c,h),x=v(we,u,d),A=v(we+je,c,h);i=(g-x)/2,r=(y-A)/2,s=-(g+x)/2,o=-(y+A)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}var Fa=class extends ki{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let e=t.data;if(e.labels.length&&e.datasets.length){let{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((s,o)=>{let l=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){let i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=l=>+i[l];if(Kt(i[t])){let{key:l="value"}=this._parsing;s=u=>+ji(i[u],l)}let o,a;for(o=t,a=t+e;o<a;++o)r._parsed[o]=s(o)}}_getRotation(){return Yn(this.options.rotation-90)}_getCircumference(){return Yn(this.options.circumference)}_getRotationExtents(){let t=xe,e=-xe;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){let r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();t=Math.min(t,s),e=Math.max(e,s+o)}return{rotation:t,circumference:e-t}}update(t){let e=this.chart,{chartArea:i}=e,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(Py(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:c,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:m,offsetX:v,offsetY:g}=mO(d,c,l),y=(i.width-o)/h,x=(i.height-o)/m,A=Math.max(Math.min(y,x)/2,0),w=Gf(this.options.radius,A),p=Math.max(w*l,0),_=(w-p)/this._getVisibleDatasetWeightTotal();this.offsetX=v*w,this.offsetY=g*w,r.total=this.calculateTotal(),this.outerRadius=w-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*u,0),this.updateElements(s,0,s.length,t)}_circumference(t,e){let i=this.options,r=this._cachedMeta,s=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*s/xe)}updateElements(t,e,i,r){let s=r==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,c=(a.left+a.right)/2,d=(a.top+a.bottom)/2,h=s&&u.animateScale,m=h?0:this.innerRadius,v=h?0:this.outerRadius,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(e,r),x=this._getRotation(),A;for(A=0;A<e;++A)x+=this._circumference(A,s);for(A=e;A<e+i;++A){let w=this._circumference(A,s),p=t[A],_={x:c+this.offsetX,y:d+this.offsetY,startAngle:x,endAngle:x+w,circumference:w,outerRadius:v,innerRadius:m};y&&(_.options=g||this.resolveDataElementOptions(A,p.active?"active":r)),x+=w,this.updateElement(p,A,_,r)}}calculateTotal(){let t=this._cachedMeta,e=t.data,i=0,r;for(r=0;r<e.length;r++){let s=t._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){let e=this._cachedMeta.total;return e>0&&!isNaN(t)?xe*(Math.abs(t)/e):0}getLabelAndValue(t){let e=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=uo(e._parsed[t],i.options.locale);return{label:r[t]||"",value:s}}getMaxBorderWidth(t){let e=0,i=this.chart,r,s,o,a,l;if(!t){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),t=o.data,a=o.controller;break}}if(!t)return 0;for(r=0,s=t.length;r<s;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(e=Math.max(e,l.borderWidth||0,l.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){let s=this.resolveDataElementOptions(i);e=Math.max(e,s.offset||0,s.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max($t(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}},Ip=class extends ki{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let e=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=e,o=this.chart._animationsDisabled,{start:a,count:l}=sp(e,r,o);this._drawStart=a,this._drawCount=l,op(e)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;let u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:u},t),this.updateElements(r,a,l,t)}updateElements(t,e,i,r){let s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(e,r),h=o.axis,m=a.axis,{spanGaps:v,segment:g}=this.options,y=Zr(v)?v:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||r==="none",A=e+i,w=t.length,p=e>0&&this.getParsed(e-1);for(let _=0;_<w;++_){let S=t[_],j=x?S:{};if(_<e||_>=A){j.skip=!0;continue}let H=this.getParsed(_),Y=Zt(H[m]),et=j[h]=o.getPixelForValue(H[h],_),ot=j[m]=s||Y?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,H,l):H[m],_);j.skip=isNaN(et)||isNaN(ot)||Y,j.stop=_>0&&Math.abs(H[h]-p[h])>y,g&&(j.parsed=H,j.raw=u.data[_]),d&&(j.options=c||this.resolveDataElementOptions(_,S.active?"active":r)),x||this.updateElement(S,_,j,r),p=H}}getMaxOverflow(){let t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;let s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}},eu=class extends ki{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let e=t.data;if(e.labels.length&&e.datasets.length){let{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((s,o)=>{let l=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let e=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=uo(e._parsed[t].r,i.options.locale);return{label:r[t]||"",value:s}}parseObjectData(t,e,i,r){return mp.bind(this)(t,e,i,r)}update(t){let e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){let t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,r)=>{let s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<e.min&&(e.min=s),s>e.max&&(e.max=s))}),e}_updateRadius(){let t=this.chart,e=t.chartArea,i=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),s=Math.max(r/2,0),o=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),a=(s-o)/t.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,e,i,r){let s=r==="reset",o=this.chart,l=o.options.animation,u=this._cachedMeta.rScale,c=u.xCenter,d=u.yCenter,h=u.getIndexAngle(0)-.5*we,m=h,v,g=360/this.countVisibleElements();for(v=0;v<e;++v)m+=this._computeAngle(v,r,g);for(v=e;v<e+i;v++){let y=t[v],x=m,A=m+this._computeAngle(v,r,g),w=o.getDataVisibility(v)?u.getDistanceFromCenterForValue(this.getParsed(v).r):0;m=A,s&&(l.animateScale&&(w=0),l.animateRotate&&(x=A=h));let p={x:c,y:d,innerRadius:0,outerRadius:w,startAngle:x,endAngle:A,options:this.resolveDataElementOptions(v,y.active?"active":r)};this.updateElement(y,v,p,r)}}countVisibleElements(){let t=this._cachedMeta,e=0;return t.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?Yn(this.resolveDataElementOptions(t,e).angle||i):0}},Fp=class extends Fa{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}},Np=class extends ki{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){let e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,r){return mp.bind(this)(t,e,i,r)}update(t){let e=this._cachedMeta,i=e.dataset,r=e.data||[],s=e.iScale.getLabels();if(i.points=r,t!=="resize"){let o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);let a={_loop:!0,_fullLoop:s.length===r.length,options:o};this.updateElement(i,void 0,a,t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,i,r){let s=this._cachedMeta.rScale,o=r==="reset";for(let a=e;a<e+i;a++){let l=t[a],u=this.resolveDataElementOptions(a,l.active?"active":r),c=s.getPointPositionForValue(a,this.getParsed(a).r),d=o?s.xCenter:c.x,h=o?s.yCenter:c.y,m={x:d,y:h,angle:c.angle,skip:isNaN(d)||isNaN(h),options:u};this.updateElement(l,a,m,r)}}},Bp=class extends ki{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){let e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=e,o=this.getParsed(t),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:i[t]||"",value:"("+a+", "+l+")"}}update(t){let e=this._cachedMeta,{data:i=[]}=e,r=this.chart._animationsDisabled,{start:s,count:o}=sp(e,i,r);if(this._drawStart=s,this._drawCount=o,op(e)&&(s=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:a,_dataset:l}=e;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;let u=this.resolveDatasetElementOptions(t);u.segment=this.options.segment,this.updateElement(a,void 0,{animated:!r,options:u},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,s,o,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,r){let s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,c=this.resolveDataElementOptions(e,r),d=this.getSharedOptions(c),h=this.includeOptions(r,d),m=o.axis,v=a.axis,{spanGaps:g,segment:y}=this.options,x=Zr(g)?g:Number.POSITIVE_INFINITY,A=this.chart._animationsDisabled||s||r==="none",w=e>0&&this.getParsed(e-1);for(let p=e;p<e+i;++p){let _=t[p],S=this.getParsed(p),j=A?_:{},H=Zt(S[v]),Y=j[m]=o.getPixelForValue(S[m],p),et=j[v]=s||H?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,S,l):S[v],p);j.skip=isNaN(Y)||isNaN(et)||H,j.stop=p>0&&Math.abs(S[m]-w[m])>x,y&&(j.parsed=S,j.raw=u.data[p]),h&&(j.options=d||this.resolveDataElementOptions(p,_.active?"active":r)),A||this.updateElement(_,p,j,r),w=S}this.updateSharedOptions(d,r,c)}getMaxOverflow(){let t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let a=0;for(let l=e.length-1;l>=0;--l)a=Math.max(a,e[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}let i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!e.length)return r;let s=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,s,o)/2}},gO=Object.freeze({__proto__:null,BarController:Lp,BubbleController:Rp,DoughnutController:Fa,LineController:Ip,PieController:Fp,PolarAreaController:eu,RadarController:Np,ScatterController:Bp});function es(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var jp=class n{static override(t){Object.assign(n.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return es()}parse(){return es()}format(){return es()}add(){return es()}diff(){return es()}startOf(){return es()}endOf(){return es()}},sm={_date:jp};function vO(n,t,e,i){let{controller:r,data:s,_sorted:o}=n,a=r._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&s.length){let l=a._reversePixels?By:xi;if(i){if(r._sharedOptions){let u=s[0],c=typeof u.getRange=="function"&&u.getRange(t);if(c){let d=l(s,t,e-c),h=l(s,t,e+c);return{lo:d.lo,hi:h.hi}}}}else return l(s,t,e)}return{lo:0,hi:s.length-1}}function Ha(n,t,e,i,r){let s=n.getSortedVisibleDatasetMetas(),o=e[t];for(let a=0,l=s.length;a<l;++a){let{index:u,data:c}=s[a],{lo:d,hi:h}=vO(s[a],t,o,r);for(let m=d;m<=h;++m){let v=c[m];v.skip||i(v,u,m)}}}function bO(n){let t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){let s=t?Math.abs(i.x-r.x):0,o=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Cp(n,t,e,i,r){let s=[];return!r&&!n.isPointInArea(t)||Ha(n,e,t,function(a,l,u){!r&&!Ai(a,n.chartArea,0)||a.inRange(t.x,t.y,i)&&s.push({element:a,datasetIndex:l,index:u})},!0),s}function yO(n,t,e,i){let r=[];function s(o,a,l){let{startAngle:u,endAngle:c}=o.getProps(["startAngle","endAngle"],i),{angle:d}=tp(o,{x:t.x,y:t.y});co(d,u,c)&&r.push({element:o,datasetIndex:a,index:l})}return Ha(n,e,t,s),r}function wO(n,t,e,i,r,s){let o=[],a=bO(e),l=Number.POSITIVE_INFINITY;function u(c,d,h){let m=c.inRange(t.x,t.y,r);if(i&&!m)return;let v=c.getCenterPoint(r);if(!(!!s||n.isPointInArea(v))&&!m)return;let y=a(t,v);y<l?(o=[{element:c,datasetIndex:d,index:h}],l=y):y===l&&o.push({element:c,datasetIndex:d,index:h})}return Ha(n,e,t,u),o}function Ep(n,t,e,i,r,s){return!s&&!n.isPointInArea(t)?[]:e==="r"&&!i?yO(n,t,e,r):wO(n,t,e,i,r,s)}function gw(n,t,e,i,r){let s=[],o=e==="x"?"inXRange":"inYRange",a=!1;return Ha(n,e,t,(l,u,c)=>{l[o](t[e],r)&&(s.push({element:l,datasetIndex:u,index:c}),a=a||l.inRange(t.x,t.y,r))}),i&&!a?[]:s}var xO={evaluateInteractionItems:Ha,modes:{index(n,t,e,i){let r=Sr(t,n),s=e.axis||"x",o=e.includeInvisible||!1,a=e.intersect?Cp(n,r,s,i,o):Ep(n,r,s,!1,i,o),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(u=>{let c=a[0].index,d=u.data[c];d&&!d.skip&&l.push({element:d,datasetIndex:u.index,index:c})}),l):[]},dataset(n,t,e,i){let r=Sr(t,n),s=e.axis||"xy",o=e.includeInvisible||!1,a=e.intersect?Cp(n,r,s,i,o):Ep(n,r,s,!1,i,o);if(a.length>0){let l=a[0].datasetIndex,u=n.getDatasetMeta(l).data;a=[];for(let c=0;c<u.length;++c)a.push({element:u[c],datasetIndex:l,index:c})}return a},point(n,t,e,i){let r=Sr(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;return Cp(n,r,s,i,o)},nearest(n,t,e,i){let r=Sr(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;return Ep(n,r,s,e.intersect,i,o)},x(n,t,e,i){let r=Sr(t,n);return gw(n,r,"x",e.intersect,i)},y(n,t,e,i){let r=Sr(t,n);return gw(n,r,"y",e.intersect,i)}}},lx=["left","top","right","bottom"];function Da(n,t){return n.filter(e=>e.pos===t)}function vw(n,t){return n.filter(e=>lx.indexOf(e.pos)===-1&&e.box.axis===t)}function Ma(n,t){return n.sort((e,i)=>{let r=t?i:e,s=t?e:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function AO(n){let t=[],e,i,r,s,o,a;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:s,options:{stack:o,stackWeight:a=1}}=r,t.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return t}function SO(n){let t={};for(let e of n){let{stack:i,pos:r,stackWeight:s}=e;if(!i||!lx.includes(r))continue;let o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function _O(n,t){let e=SO(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t,s,o,a;for(s=0,o=n.length;s<o;++s){a=n[s];let{fullSize:l}=a.box,u=e[a.stack],c=u&&a.stackWeight/u.weight;a.horizontal?(a.width=c?c*i:l&&t.availableWidth,a.height=r):(a.width=i,a.height=c?c*r:l&&t.availableHeight)}return e}function CO(n){let t=AO(n),e=Ma(t.filter(u=>u.box.fullSize),!0),i=Ma(Da(t,"left"),!0),r=Ma(Da(t,"right")),s=Ma(Da(t,"top"),!0),o=Ma(Da(t,"bottom")),a=vw(t,"x"),l=vw(t,"y");return{fullSize:e,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:Da(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function bw(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function cx(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function EO(n,t,e,i){let{pos:r,box:s}=e,o=n.maxPadding;if(!Kt(r)){e.size&&(n[r]-=e.size);let d=i[e.stack]||{size:0,count:1};d.size=Math.max(d.size,e.horizontal?s.height:s.width),e.size=d.size/d.count,n[r]+=e.size}s.getPadding&&cx(o,s.getPadding());let a=Math.max(0,t.outerWidth-bw(o,n,"left","right")),l=Math.max(0,t.outerHeight-bw(o,n,"top","bottom")),u=a!==n.w,c=l!==n.h;return n.w=a,n.h=l,e.horizontal?{same:u,other:c}:{same:c,other:u}}function kO(n){let t=n.maxPadding;function e(i){let r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function TO(n,t){let e=t.maxPadding;function i(r){let s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(t[o],e[o])}),s}return i(n?["left","right"]:["top","bottom"])}function Ra(n,t,e,i){let r=[],s,o,a,l,u,c;for(s=0,o=n.length,u=0;s<o;++s){a=n[s],l=a.box,l.update(a.width||t.w,a.height||t.h,TO(a.horizontal,t));let{same:d,other:h}=EO(t,e,a,i);u|=d&&r.length,c=c||h,l.fullSize||r.push(a)}return u&&Ra(r,t,e,i)||c}function Uc(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function yw(n,t,e,i){let r=e.padding,{x:s,y:o}=t;for(let a of n){let l=a.box,u=i[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/u.weight||1;if(a.horizontal){let d=t.w*c,h=u.size||l.height;ao(u.start)&&(o=u.start),l.fullSize?Uc(l,r.left,o,e.outerWidth-r.right-r.left,h):Uc(l,t.left+u.placed,o,d,h),u.start=o,u.placed+=d,o=l.bottom}else{let d=t.h*c,h=u.size||l.width;ao(u.start)&&(s=u.start),l.fullSize?Uc(l,s,r.top,h,e.outerHeight-r.bottom-r.top):Uc(l,s,t.top+u.placed,h,d),u.start=s,u.placed+=d,s=l.right}}t.x=s,t.y=o}var mn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){let e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;let r=un(n.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(e-r.height,0),a=CO(n.boxes),l=a.vertical,u=a.horizontal;ae(n.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});let c=l.reduce((g,y)=>y.box.options&&y.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/c,hBoxMaxHeight:o/2}),h=Object.assign({},r);cx(h,un(i));let m=Object.assign({maxPadding:h,w:s,h:o,x:r.left,y:r.top},r),v=_O(l.concat(u),d);Ra(a.fullSize,m,d,v),Ra(l,m,d,v),Ra(u,m,d,v)&&Ra(l,m,d,v),kO(m),yw(a.leftAndTop,m,d,v),m.x+=m.w,m.y+=m.h,yw(a.rightAndBottom,m,d,v),n.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},ae(a.chartArea,g=>{let y=g.box;Object.assign(y,n.chartArea),y.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}},nu=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}},$p=class extends nu{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},Qc="$chartjs",OO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ww=n=>n===null||n==="";function DO(n,t){let e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Qc]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",ww(r)){let s=vp(n,"width");s!==void 0&&(n.width=s)}if(ww(i))if(n.style.height==="")n.height=n.width/(t||2);else{let s=vp(n,"height");s!==void 0&&(n.height=s)}return n}var ux=ew?{passive:!0}:!1;function MO(n,t,e){n&&n.addEventListener(t,e,ux)}function PO(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,ux)}function LO(n,t){let e=OO[n.type]||n.type,{x:i,y:r}=Sr(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function iu(n,t){for(let e of n)if(e===t||e.contains(t))return!0}function RO(n,t,e){let i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||iu(a.addedNodes,i),o=o&&!iu(a.removedNodes,i);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function IO(n,t,e){let i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||iu(a.removedNodes,i),o=o&&!iu(a.addedNodes,i);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}var Na=new Map,xw=0;function dx(){let n=window.devicePixelRatio;n!==xw&&(xw=n,Na.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function FO(n,t){Na.size||window.addEventListener("resize",dx),Na.set(n,t)}function NO(n){Na.delete(n),Na.size||window.removeEventListener("resize",dx)}function BO(n,t,e){let i=n.canvas,r=i&&Wc(i);if(!r)return;let s=rp((a,l)=>{let u=r.clientWidth;e(a,l),u<r.clientWidth&&e()},window),o=new ResizeObserver(a=>{let l=a[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||s(u,c)});return o.observe(r),FO(n,s),o}function kp(n,t,e){e&&e.disconnect(),t==="resize"&&NO(n)}function jO(n,t,e){let i=n.canvas,r=rp(s=>{n.ctx!==null&&e(LO(s,n))},n);return MO(i,t,r),r}var Hp=class extends nu{acquireContext(t,e){let i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(DO(t,e),i):null}releaseContext(t){let e=t.canvas;if(!e[Qc])return!1;let i=e[Qc].initial;["height","width"].forEach(s=>{let o=i[s];Zt(o)?e.removeAttribute(s):e.setAttribute(s,o)});let r=i.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[Qc],!0}addEventListener(t,e,i){this.removeEventListener(t,e);let r=t.$proxies||(t.$proxies={}),o={attach:RO,detach:IO,resize:BO}[e]||jO;r[e]=o(t,e,i)}removeEventListener(t,e){let i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:kp,detach:kp,resize:kp}[e]||PO)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return tw(t,e,i,r)}isAttached(t){let e=t&&Wc(t);return!!(e&&e.isConnected)}};function $O(n){return!Vc()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?$p:Hp}var oi=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Zr(this.x)&&Zr(this.y)}getProps(t,e){let i=this.$animations;if(!e||!i)return this;let r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}};function HO(n,t){let e=n.options.ticks,i=VO(n),r=Math.min(e.maxTicksLimit||i,i),s=e.major.enabled?zO(t):[],o=s.length,a=s[0],l=s[o-1],u=[];if(o>r)return UO(t,u,s,o/r),u;let c=WO(s,t,r);if(o>0){let d,h,m=o>1?Math.round((l-a)/(o-1)):null;for(qc(t,u,c,Zt(m)?0:a-m,a),d=0,h=o-1;d<h;d++)qc(t,u,c,s[d],s[d+1]);return qc(t,u,c,l,Zt(m)?t.length:l+m),u}return qc(t,u,c),u}function VO(n){let t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function WO(n,t,e){let i=qO(n),r=t.length/e;if(!i)return Math.max(r,1);let s=Iy(i);for(let o=0,a=s.length-1;o<a;o++){let l=s[o];if(l>r)return l}return Math.max(r,1)}function zO(n){let t=[],e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function UO(n,t,e,i){let r=0,s=e[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===s&&(t.push(n[o]),r++,s=e[r*i])}function qc(n,t,e,i,r){let s=$t(i,0),o=Math.min($t(r,n.length),n.length),a=0,l,u,c;for(e=Math.ceil(e),r&&(l=r-i,e=l/Math.floor(l/e)),c=s;c<0;)a++,c=Math.round(s+a*e);for(u=Math.max(s,0);u<o;u++)u===c&&(t.push(n[u]),a++,c=Math.round(s+a*e))}function qO(n){let t=n.length,e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}var YO=n=>n==="left"?"right":n==="right"?"left":n,Aw=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Sw=(n,t)=>Math.min(t||n,n);function _w(n,t){let e=[],i=n.length/t,r=n.length,s=0;for(;s<r;s+=i)e.push(n[Math.floor(s)]);return e}function KO(n,t,e){let i=n.ticks.length,r=Math.min(t,i-1),s=n._startPixel,o=n._endPixel,a=1e-6,l=n.getPixelForTick(r),u;if(!(e&&(i===1?u=Math.max(l-s,o-l):t===0?u=(n.getPixelForTick(1)-l)/2:u=(l-n.getPixelForTick(r-1))/2,l+=r<t?u:-u,l<s-a||l>o+a)))return l}function GO(n,t){ae(n,e=>{let i=e.gc,r=i.length/2,s;if(r>t){for(s=0;s<r;++s)delete e.data[i[s]];i.splice(0,r)}})}function Pa(n){return n.drawTicks?n.tickLength:0}function Cw(n,t){if(!n.display)return 0;let e=qe(n.font,t),i=un(n.padding);return(ye(n.text)?n.text.length:1)*e.lineHeight+i.height}function XO(n,t){return $i(n,{scale:t,type:"scale"})}function JO(n,t,e){return $i(n,{tick:e,index:t,type:"tick"})}function QO(n,t,e){let i=Nc(n);return(e&&t!=="right"||!e&&t==="right")&&(i=YO(i)),i}function ZO(n,t,e,i){let{top:r,left:s,bottom:o,right:a,chart:l}=n,{chartArea:u,scales:c}=l,d=0,h,m,v,g=o-r,y=a-s;if(n.isHorizontal()){if(m=cn(i,s,a),Kt(e)){let x=Object.keys(e)[0],A=e[x];v=c[x].getPixelForValue(A)+g-t}else e==="center"?v=(u.bottom+u.top)/2+g-t:v=Aw(n,e,t);h=a-s}else{if(Kt(e)){let x=Object.keys(e)[0],A=e[x];m=c[x].getPixelForValue(A)-y+t}else e==="center"?m=(u.left+u.right)/2-y+t:m=Aw(n,e,t);v=cn(i,o,r),d=e==="left"?-je:je}return{titleX:m,titleY:v,maxWidth:h,rotation:d}}var is=class n extends oi{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Tn(t,Number.POSITIVE_INFINITY),e=Tn(e,Number.NEGATIVE_INFINITY),i=Tn(i,Number.POSITIVE_INFINITY),r=Tn(r,Number.NEGATIVE_INFINITY),{min:Tn(t,i),max:Tn(e,r),minDefined:Pe(t),maxDefined:Pe(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:e,max:i};let a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,t),r||(e=Math.min(e,o.min)),s||(i=Math.max(i,o.max));return e=s&&e>i?i:e,i=r&&e>i?e:i,{min:Tn(e,Tn(i,e)),max:Tn(i,Tn(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ve(this.options.beforeUpdate,[this])}update(t,e,i){let{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Ky(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?_w(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=HO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ve(this.options.afterUpdate,[this])}beforeSetDimensions(){ve(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ve(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ve(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ve(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=ve(e.callback,[s.value,i,t],this)}afterTickToLabelConversion(){ve(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ve(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,i=Sw(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,s=e.maxRotation,o=r,a,l,u;if(!this._isVisible()||!e.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}let c=this._getLabelSizes(),d=c.widest.width,h=c.highest.height,m=Je(this.chart.width-d,0,this.maxWidth);a=t.offset?this.maxWidth/i:m/(i-1),d+6>a&&(a=m/(i-(t.offset?.5:1)),l=this.maxHeight-Pa(t.grid)-e.padding-Cw(t.title,this.chart.options.font),u=Math.sqrt(d*d+h*h),o=Ic(Math.min(Math.asin(Je((c.highest.height+6)/a,-1,1)),Math.asin(Je(l/u,-1,1))-Math.asin(Je(h/u,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){ve(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ve(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){let l=Cw(r,e.options.font);if(a?(t.width=this.maxWidth,t.height=Pa(s)+l):(t.height=this.maxHeight,t.width=Pa(s)+l),i.display&&this.ticks.length){let{first:u,last:c,widest:d,highest:h}=this._getLabelSizes(),m=i.padding*2,v=Yn(this.labelRotation),g=Math.cos(v),y=Math.sin(v);if(a){let x=i.mirror?0:y*d.width+g*h.height;t.height=Math.min(this.maxHeight,t.height+x+m)}else{let x=i.mirror?0:g*d.width+y*h.height;t.width=Math.min(this.maxWidth,t.width+x+m)}this._calculatePadding(u,c,y,g)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){let{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let c=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1),h=0,m=0;l?u?(h=r*t.width,m=i*e.height):(h=i*t.height,m=r*e.width):s==="start"?m=e.width:s==="end"?h=t.width:s!=="inner"&&(h=t.width/2,m=e.width/2),this.paddingLeft=Math.max((h-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((m-d+o)*this.width/(this.width-d),0)}else{let c=e.height/2,d=t.height/2;s==="start"?(c=0,d=t.height):s==="end"&&(c=e.height,d=0),this.paddingTop=c+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ve(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Zt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,i=this.ticks;e<i.length&&(i=_w(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){let{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(e/Sw(e,i)),u=0,c=0,d,h,m,v,g,y,x,A,w,p,_;for(d=0;d<e;d+=l){if(v=t[d].label,g=this._resolveTickFontOptions(d),r.font=y=g.string,x=s[y]=s[y]||{data:{},gc:[]},A=g.lineHeight,w=p=0,!Zt(v)&&!ye(v))w=_a(r,x.data,x.gc,w,v),p=A;else if(ye(v))for(h=0,m=v.length;h<m;++h)_=v[h],!Zt(_)&&!ye(_)&&(w=_a(r,x.data,x.gc,w,_),p+=A);o.push(w),a.push(p),u=Math.max(w,u),c=Math.max(p,c)}GO(s,e);let S=o.indexOf(u),j=a.indexOf(c),H=Y=>({width:o[Y]||0,height:a[Y]||0});return{first:H(0),last:H(e-1),widest:H(S),highest:H(j),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return Ny(this._alignToPixels?wr(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let i=e[t];return i.$context||(i.$context=JO(this.getContext(),t,i))}return this.$context||(this.$context=XO(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=Yn(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,u=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=Pa(s),m=[],v=a.setContext(this.getContext()),g=v.display?v.width:0,y=g/2,x=function(T){return wr(i,T,g)},A,w,p,_,S,j,H,Y,et,ot,rt,dt;if(o==="top")A=x(this.bottom),j=this.bottom-h,Y=A-y,ot=x(t.top)+y,dt=t.bottom;else if(o==="bottom")A=x(this.top),ot=t.top,dt=x(t.bottom)-y,j=A+y,Y=this.top+h;else if(o==="left")A=x(this.right),S=this.right-h,H=A-y,et=x(t.left)+y,rt=t.right;else if(o==="right")A=x(this.left),et=t.left,rt=x(t.right)-y,S=A+y,H=this.left+h;else if(e==="x"){if(o==="center")A=x((t.top+t.bottom)/2+.5);else if(Kt(o)){let T=Object.keys(o)[0],L=o[T];A=x(this.chart.scales[T].getPixelForValue(L))}ot=t.top,dt=t.bottom,j=A+y,Y=j+h}else if(e==="y"){if(o==="center")A=x((t.left+t.right)/2);else if(Kt(o)){let T=Object.keys(o)[0],L=o[T];A=x(this.chart.scales[T].getPixelForValue(L))}S=A-y,H=S-h,et=t.left,rt=t.right}let st=$t(r.ticks.maxTicksLimit,d),B=Math.max(1,Math.ceil(d/st));for(w=0;w<d;w+=B){let T=this.getContext(w),L=s.setContext(T),F=a.setContext(T),q=L.lineWidth,V=L.color,O=F.dash||[],$=F.dashOffset,Z=L.tickWidth,J=L.tickColor,K=L.tickBorderDash||[],pt=L.tickBorderDashOffset;p=KO(this,w,l),p!==void 0&&(_=wr(i,p,q),u?S=H=et=rt=_:j=Y=ot=dt=_,m.push({tx1:S,ty1:j,tx2:H,ty2:Y,x1:et,y1:ot,x2:rt,y2:dt,width:q,color:V,borderDash:O,borderDashOffset:$,tickWidth:Z,tickColor:J,tickBorderDash:K,tickBorderDashOffset:pt}))}return this._ticksLength=d,this._borderValue=A,m}_computeLabelItems(t){let e=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:c,mirror:d}=s,h=Pa(i.grid),m=h+c,v=d?-c:m,g=-Yn(this.labelRotation),y=[],x,A,w,p,_,S,j,H,Y,et,ot,rt,dt="middle";if(r==="top")S=this.bottom-v,j=this._getXAxisLabelAlignment();else if(r==="bottom")S=this.top+v,j=this._getXAxisLabelAlignment();else if(r==="left"){let B=this._getYAxisLabelAlignment(h);j=B.textAlign,_=B.x}else if(r==="right"){let B=this._getYAxisLabelAlignment(h);j=B.textAlign,_=B.x}else if(e==="x"){if(r==="center")S=(t.top+t.bottom)/2+m;else if(Kt(r)){let B=Object.keys(r)[0],T=r[B];S=this.chart.scales[B].getPixelForValue(T)+m}j=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")_=(t.left+t.right)/2-m;else if(Kt(r)){let B=Object.keys(r)[0],T=r[B];_=this.chart.scales[B].getPixelForValue(T)}j=this._getYAxisLabelAlignment(h).textAlign}e==="y"&&(l==="start"?dt="top":l==="end"&&(dt="bottom"));let st=this._getLabelSizes();for(x=0,A=a.length;x<A;++x){w=a[x],p=w.label;let B=s.setContext(this.getContext(x));H=this.getPixelForTick(x)+s.labelOffset,Y=this._resolveTickFontOptions(x),et=Y.lineHeight,ot=ye(p)?p.length:1;let T=ot/2,L=B.color,F=B.textStrokeColor,q=B.textStrokeWidth,V=j;o?(_=H,j==="inner"&&(x===A-1?V=this.options.reverse?"left":"right":x===0?V=this.options.reverse?"right":"left":V="center"),r==="top"?u==="near"||g!==0?rt=-ot*et+et/2:u==="center"?rt=-st.highest.height/2-T*et+et:rt=-st.highest.height+et/2:u==="near"||g!==0?rt=et/2:u==="center"?rt=st.highest.height/2-T*et:rt=st.highest.height-ot*et,d&&(rt*=-1),g!==0&&!B.showLabelBackdrop&&(_+=et/2*Math.sin(g))):(S=H,rt=(1-ot)*et/2);let O;if(B.showLabelBackdrop){let $=un(B.backdropPadding),Z=st.heights[x],J=st.widths[x],K=rt-$.top,pt=0-$.left;switch(dt){case"middle":K-=Z/2;break;case"bottom":K-=Z;break}switch(j){case"center":pt-=J/2;break;case"right":pt-=J;break;case"inner":x===A-1?pt-=J:x>0&&(pt-=J/2);break}O={left:pt,top:K,width:J+$.width,height:Z+$.height,color:B.backdropColor}}y.push({label:p,font:Y,textOffset:rt,options:{rotation:g,color:L,strokeColor:F,strokeWidth:q,textAlign:V,textBaseline:dt,translation:[_,S],backdrop:O}})}return y}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-Yn(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,l=o.widest.width,u,c;return e==="left"?r?(c=this.right+s,i==="near"?u="left":i==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-a,i==="near"?u="right":i==="center"?(u="center",c-=l/2):(u="left",c=this.left)):e==="right"?r?(c=this.left+s,i==="near"?u="right":i==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+a,i==="near"?u="left":i==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:i,top:r,width:s,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,s,o),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let r=this.ticks.findIndex(s=>s.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){let e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),s,o,a=(l,u,c)=>{!c.width||!c.color||(i.save(),i.lineWidth=c.width,i.strokeStyle=c.color,i.setLineDash(c.borderDash||[]),i.lineDashOffset=c.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(e.display)for(s=0,o=r.length;s<o;++s){let l=r[s];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;let a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue,u,c,d,h;this.isHorizontal()?(u=wr(t,this.left,o)-o/2,c=wr(t,this.right,a)+a/2,d=h=l):(d=wr(t,this.top,o)-o/2,h=wr(t,this.bottom,a)+a/2,u=c=l),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(u,d),e.lineTo(c,h),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let i=this.ctx,r=this._computeLabelArea();r&&ka(i,r);let s=this.getLabelItems(t);for(let o of s){let a=o.options,l=o.font,u=o.label,c=o.textOffset;xr(i,u,0,c,l,a)}r&&Ta(i)}drawTitle(){let{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;let s=qe(i.font),o=un(i.padding),a=i.align,l=s.lineHeight/2;e==="bottom"||e==="center"||Kt(e)?(l+=o.bottom,ye(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;let{titleX:u,titleY:c,maxWidth:d,rotation:h}=ZO(this,l,e,a);xr(t,i.text,0,0,s,{color:i.color,maxWidth:d,rotation:h,textAlign:QO(a,e,r),textBaseline:"middle",translation:[u,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,i=$t(t.grid&&t.grid.z,-1),r=$t(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==n.prototype.draw?[{z:e,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[],s,o;for(s=0,o=e.length;s<o;++s){let a=e[s];a[i]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return qe(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},mo=class{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),i;nD(e)&&(i=this.register(e));let r=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,tD(t,o,i),this.override&&Le.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){let e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Le[r]&&(delete Le[r][i],this.override&&delete yr[i])}};function tD(n,t,e){let i=ro(Object.create(null),[e?Le.get(e):{},Le.get(t),n.defaults]);Le.set(t,i),n.defaultRoutes&&eD(t,n.defaultRoutes),n.descriptors&&Le.describe(t,n.descriptors)}function eD(n,t){Object.keys(t).forEach(e=>{let i=e.split("."),r=i.pop(),s=[n].concat(i).join("."),o=t[e].split("."),a=o.pop(),l=o.join(".");Le.route(s,r,l,a)})}function nD(n){return"id"in n&&"defaults"in n}var Vp=class{constructor(){this.controllers=new mo(ki,"datasets",!0),this.elements=new mo(oi,"elements"),this.plugins=new mo(Object,"plugins"),this.scales=new mo(is,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{let s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):ae(r,o=>{let a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,e,i){let r=Rc(t);ve(i["before"+r],[],i),e[t](i),ve(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){let r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}},Ei=new Vp,Wp=class{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let s=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(s,t,e,i);return e==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,i,r){r=r||{};for(let s of t){let o=s.plugin,a=o[i],l=[e,r,s.options];if(ve(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Zt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let i=t&&t.config,r=$t(i.options&&i.options.plugins,{}),s=iD(i);return r===!1&&!e?[]:sD(t,s,r,e)}_notifyStateChanges(t){let e=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}};function iD(n){let t={},e=[],i=Object.keys(Ei.plugins.items);for(let s=0;s<i.length;s++)e.push(Ei.getPlugin(i[s]));let r=n.plugins||[];for(let s=0;s<r.length;s++){let o=r[s];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function rD(n,t){return!t&&n===!1?null:n===!0?{}:n}function sD(n,{plugins:t,localIds:e},i,r){let s=[],o=n.getContext();for(let a of t){let l=a.id,u=rD(i[l],r);u!==null&&s.push({plugin:a,options:oD(n.config,{plugin:a,local:e[l]},u,o)})}return s}function oD(n,{plugin:t,local:e},i,r){let s=n.pluginScopeKeys(t),o=n.getOptionScopes(i,s);return e&&t.defaults&&o.push(t.defaults),n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function zp(n,t){let e=Le.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function aD(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function lD(n,t){return n===t?"_index_":"_value_"}function Ew(n){if(n==="x"||n==="y"||n==="r")return n}function cD(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Up(n,...t){if(Ew(n))return n;for(let e of t){let i=e.axis||cD(e.position)||n.length>1&&Ew(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function kw(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function uD(n,t){if(t.data&&t.data.datasets){let e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return kw(n,"x",e[0])||kw(n,"y",e[0])}return{}}function dD(n,t){let e=yr[n.type]||{scales:{}},i=t.scales||{},r=zp(n.type,t),s=Object.create(null);return Object.keys(i).forEach(o=>{let a=i[o];if(!Kt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let l=Up(o,a,uD(o,n),Le.scales[a.type]),u=lD(l,r),c=e.scales||{};s[o]=oo(Object.create(null),[{axis:l},a,c[l],c[u]])}),n.data.datasets.forEach(o=>{let a=o.type||n.type,l=o.indexAxis||zp(a,t),c=(yr[a]||{}).scales||{};Object.keys(c).forEach(d=>{let h=aD(d,l),m=o[h+"AxisID"]||h;s[m]=s[m]||Object.create(null),oo(s[m],[{axis:h},i[m],c[d]])})}),Object.keys(s).forEach(o=>{let a=s[o];oo(a,[Le.scales[a.type],Le.scale])}),s}function hx(n){let t=n.options||(n.options={});t.plugins=$t(t.plugins,{}),t.scales=dD(n,t)}function fx(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function hD(n){return n=n||{},n.data=fx(n.data),hx(n),n}var Tw=new Map,px=new Set;function Yc(n,t){let e=Tw.get(n);return e||(e=t(),Tw.set(n,e),px.add(e)),e}var La=(n,t,e)=>{let i=ji(t,e);i!==void 0&&n.add(i)},qp=class{constructor(t){this._config=hD(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=fx(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),hx(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Yc(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Yc(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Yc(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,i=this.type;return Yc(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let i=this._scopeCache,r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){let{options:r,type:s}=this,o=this._cachedScopes(t,i),a=o.get(e);if(a)return a;let l=new Set;e.forEach(c=>{t&&(l.add(t),c.forEach(d=>La(l,t,d))),c.forEach(d=>La(l,r,d)),c.forEach(d=>La(l,yr[s]||{},d)),c.forEach(d=>La(l,Le,d)),c.forEach(d=>La(l,Bc,d))});let u=Array.from(l);return u.length===0&&u.push(Object.create(null)),px.has(e)&&o.set(e,u),u}chartOptionScopes(){let{options:t,type:e}=this;return[t,yr[e]||{},Le.datasets[e]||{},{type:e},Le,Bc]}resolveNamedOptions(t,e,i,r=[""]){let s={$shared:!0},{resolver:o,subPrefixes:a}=Ow(this._resolverCache,t,r),l=o;if(pD(o,e)){s.$shared=!1,i=Ni(i)?i():i;let u=this.createResolver(t,i,a);l=Qr(o,i,u)}for(let u of e)s[u]=l[u];return s}createResolver(t,e,i=[""],r){let{resolver:s}=Ow(this._resolverCache,t,i);return Kt(e)?Qr(s,e,void 0,r):s}};function Ow(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));let r=e.join(),s=i.get(r);return s||(s={resolver:Hc(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}var fD=n=>Kt(n)&&Object.getOwnPropertyNames(n).some(t=>Ni(n[t]));function pD(n,t){let{isScriptable:e,isIndexable:i}=hp(n);for(let r of t){let s=e(r),o=i(r),a=(o||s)&&n[r];if(s&&(Ni(a)||fD(a))||o&&ye(a))return!0}return!1}var mD="4.4.3",gD=["top","bottom","left","right","chartArea"];function Dw(n,t){return n==="top"||n==="bottom"||gD.indexOf(n)===-1&&t==="x"}function Mw(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function Pw(n){let t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ve(e&&e.onComplete,[n],t)}function vD(n){let t=n.chart,e=t.options.animation;ve(e&&e.onProgress,[n],t)}function mx(n){return Vc()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var Zc={},Lw=n=>{let t=mx(n);return Object.values(Zc).filter(e=>e.canvas===t).pop()};function bD(n,t,e){let i=Object.keys(n);for(let r of i){let s=+r;if(s>=t){let o=n[r];delete n[r],(e>0||s>t)&&(n[s+e]=o)}}}function yD(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}function Kc(n,t,e){return n.options.clip?n[e]:t[e]}function wD(n,t){let{xScale:e,yScale:i}=n;return e&&i?{left:Kc(e,t,"left"),right:Kc(e,t,"right"),top:Kc(i,t,"top"),bottom:Kc(i,t,"bottom")}:t}var go=class{static defaults=Le;static instances=Zc;static overrides=yr;static registry=Ei;static version=mD;static getChart=Lw;static register(...t){Ei.add(...t),Rw()}static unregister(...t){Ei.remove(...t),Rw()}constructor(t,e){let i=this.config=new qp(e),r=mx(t),s=Lw(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||$O(r)),this.platform.updateConfig(i);let a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,c=l&&l.width;if(this.id=My(),this.ctx=a,this.canvas=l,this.width=c,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Wp,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Vy(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Zc[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Hi.listen(this,"complete",Pw),Hi.listen(this,"progress",vD),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:s}=this;return Zt(t)?e&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ei}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():gp(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return cp(this.canvas,this.ctx),this}stop(){return Hi.stop(this),this}resize(t,e){Hi.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){let i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,e,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,gp(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),ve(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let e=this.options.scales||{};ae(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){let t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{}),s=[];e&&(s=s.concat(Object.keys(e).map(o=>{let a=e[o],l=Up(o,a),u=l==="r",c=l==="x";return{options:a,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),ae(s,o=>{let a=o.options,l=a.id,u=Up(l,a),c=$t(a.type,o.dtype);(a.position===void 0||Dw(a.position,u)!==Dw(o.dposition))&&(a.position=o.dposition),r[l]=!0;let d=null;if(l in i&&i[l].type===c)d=i[l];else{let h=Ei.getScale(c);d=new h({id:l,type:c,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(a,t)}),ae(r,(o,a)=>{o||delete i[a]}),ae(i,o=>{mn.configure(this,o,o.options),mn.addBox(this,o)})}_updateMetasets(){let t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(Mw("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){let t=[],e=this.data.datasets,i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){let s=e[i],o=this.getDatasetMeta(i),a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||zp(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{let l=Ei.getController(a),{datasetElementType:u,dataElementType:c}=Le.datasets[a];Object.assign(l,{dataElementType:Ei.getElement(c),datasetElementType:u&&Ei.getElement(u)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){ae(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let e=this.config;e.update();let i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,c=this.data.datasets.length;u<c;u++){let{controller:d}=this.getDatasetMeta(u),h=!r&&s.indexOf(d)===-1;d.buildOrUpdateElements(h),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||ae(s,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Mw("z","_idx"));let{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ae(this.scales,t=>{mn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Xf(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(let{method:i,start:r,count:s}of e){let o=i==="_removeElements"?-s:s;bD(t,r,o)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let e=this.data.datasets.length,i=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<e;s++)if(!Xf(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;mn.update(this,this.width,this.height,t);let e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],ae(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Ni(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){let i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Hi.has(this)?this.attached&&!Hi.running(this)&&Hi.start(this):(this.draw(),Pw({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let e=this._sortedMetasets,i=[],r,s;for(r=0,s=e.length;r<s;++r){let o=e[r];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let e=this.ctx,i=t._clip,r=!i.disabled,s=wD(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&ka(e,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),t.controller.draw(),r&&Ta(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return Ai(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){let s=xO.modes[e];return typeof s=="function"?s(this,t,i,r):[]}getDatasetMeta(t){let e=this.data.datasets[t],i=this._metasets,r=i.filter(s=>s&&s._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=$i(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let e=this.data.datasets[t];if(!e)return!1;let i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){let i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){let r=i?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,r);ao(e)?(s.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){let e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Hi.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),cp(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Zc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,e=this.platform,i=(s,o)=>{e.addEventListener(this,s,o),t[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};ae(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,e=this.platform,i=(l,u)=>{e.addEventListener(this,l,u),t[l]=u},r=(l,u)=>{t[l]&&(e.removeEventListener(this,l,u),delete t[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)},o,a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){ae(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},ae(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){let r=i?"set":"remove",s,o,a,l;for(e==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];let u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let e=this._active||[],i=t.map(({datasetIndex:s,index:o})=>{let a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Ca(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){let r=this.options.hover,s=(l,u)=>l.filter(c=>!u.some(d=>c.datasetIndex===d.datasetIndex&&c.index===d.index)),o=s(e,t),a=i?t:s(t,e);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(t,e){let i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;let s=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,e,i){let{_active:r=[],options:s}=this,o=e,a=this._getActiveElements(t,r,i,o),l=Ry(t),u=yD(t,this._lastEvent,i,l);i&&(this._lastEvent=null,ve(s.onHover,[t,a,this],this),l&&ve(s.onClick,[t,a,this],this));let c=!Ca(a,r);return(c||e)&&(this._active=a,this._updateHoverStyles(a,r,e)),this._lastEvent=u,c}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;let s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}};function Rw(){return ae(go.instances,n=>n._plugins.invalidate())}function xD(n,t,e){let{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=t,u=r/a;n.beginPath(),n.arc(s,o,a,i-u,e+u),l>r?(u=r/l,n.arc(s,o,l,e+u,i-u,!0)):n.arc(s,o,r,e+je,i-je),n.closePath(),n.clip()}function AD(n){return $c(n,["outerStart","outerEnd","innerStart","innerEnd"])}function SD(n,t,e,i){let r=AD(n.options.borderRadius),s=(e-t)/2,o=Math.min(s,i*t/2),a=l=>{let u=(e-Math.min(s,l))*i/2;return Je(l,0,Math.min(s,u))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Je(r.innerStart,0,o),innerEnd:Je(r.innerEnd,0,o)}}function po(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function ru(n,t,e,i,r,s){let{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:c}=t,d=Math.max(t.outerRadius+i+e-u,0),h=c>0?c+i+e+u:0,m=0,v=r-l;if(i){let B=c>0?c-i:0,T=d>0?d-i:0,L=(B+T)/2,F=L!==0?v*L/(L+i):v;m=(v-F)/2}let g=Math.max(.001,v*d-e/we)/d,y=(v-g)/2,x=l+y+m,A=r-y-m,{outerStart:w,outerEnd:p,innerStart:_,innerEnd:S}=SD(t,h,d,A-x),j=d-w,H=d-p,Y=x+w/j,et=A-p/H,ot=h+_,rt=h+S,dt=x+_/ot,st=A-S/rt;if(n.beginPath(),s){let B=(Y+et)/2;if(n.arc(o,a,d,Y,B),n.arc(o,a,d,B,et),p>0){let q=po(H,et,o,a);n.arc(q.x,q.y,p,et,A+je)}let T=po(rt,A,o,a);if(n.lineTo(T.x,T.y),S>0){let q=po(rt,st,o,a);n.arc(q.x,q.y,S,A+je,st+Math.PI)}let L=(A-S/h+(x+_/h))/2;if(n.arc(o,a,h,A-S/h,L,!0),n.arc(o,a,h,L,x+_/h,!0),_>0){let q=po(ot,dt,o,a);n.arc(q.x,q.y,_,dt+Math.PI,x-je)}let F=po(j,x,o,a);if(n.lineTo(F.x,F.y),w>0){let q=po(j,Y,o,a);n.arc(q.x,q.y,w,x-je,Y)}}else{n.moveTo(o,a);let B=Math.cos(Y)*d+o,T=Math.sin(Y)*d+a;n.lineTo(B,T);let L=Math.cos(et)*d+o,F=Math.sin(et)*d+a;n.lineTo(L,F)}n.closePath()}function _D(n,t,e,i,r){let{fullCircles:s,startAngle:o,circumference:a}=t,l=t.endAngle;if(s){ru(n,t,e,i,l,r);for(let u=0;u<s;++u)n.fill();isNaN(a)||(l=o+(a%xe||xe))}return ru(n,t,e,i,l,r),n.fill(),l}function CD(n,t,e,i,r){let{fullCircles:s,startAngle:o,circumference:a,options:l}=t,{borderWidth:u,borderJoinStyle:c,borderDash:d,borderDashOffset:h}=l,m=l.borderAlign==="inner";if(!u)return;n.setLineDash(d||[]),n.lineDashOffset=h,m?(n.lineWidth=u*2,n.lineJoin=c||"round"):(n.lineWidth=u,n.lineJoin=c||"bevel");let v=t.endAngle;if(s){ru(n,t,e,i,v,r);for(let g=0;g<s;++g)n.stroke();isNaN(a)||(v=o+(a%xe||xe))}m&&xD(n,t,v),s||(ru(n,t,e,i,v,r),n.stroke())}var Yp=class extends oi{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){let r=this.getProps(["x","y"],i),{angle:s,distance:o}=tp(r,{x:t,y:e}),{startAngle:a,endAngle:l,innerRadius:u,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),h=(this.options.spacing+this.options.borderWidth)/2,v=$t(d,l-a)>=xe||co(s,a,l),g=_i(o,u+h,c+h);return v&&g}getCenterPoint(t){let{x:e,y:i,startAngle:r,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:u}=this.options,c=(r+s)/2,d=(o+a+u+l)/2;return{x:e+Math.cos(c)*d,y:i+Math.sin(c)*d}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:i}=this,r=(e.offset||0)/4,s=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>xe?Math.floor(i/xe):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*r,Math.sin(a)*r);let l=1-Math.sin(Math.min(we,i||0)),u=r*l;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,_D(t,this,u,s,o),CD(t,this,u,s,o),t.restore()}};function gx(n,t,e=t){n.lineCap=$t(e.borderCapStyle,t.borderCapStyle),n.setLineDash($t(e.borderDash,t.borderDash)),n.lineDashOffset=$t(e.borderDashOffset,t.borderDashOffset),n.lineJoin=$t(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=$t(e.borderWidth,t.borderWidth),n.strokeStyle=$t(e.borderColor,t.borderColor)}function ED(n,t,e){n.lineTo(e.x,e.y)}function kD(n){return n.stepped?qy:n.tension||n.cubicInterpolationMode==="monotone"?Yy:ED}function vx(n,t,e={}){let i=n.length,{start:r=0,end:s=i-1}=e,{start:o,end:a}=t,l=Math.max(r,o),u=Math.min(s,a),c=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:t.loop,ilen:u<l&&!c?i+u-l:u-l}}function TD(n,t,e,i){let{points:r,options:s}=t,{count:o,start:a,loop:l,ilen:u}=vx(r,e,i),c=kD(s),{move:d=!0,reverse:h}=i||{},m,v,g;for(m=0;m<=u;++m)v=r[(a+(h?u-m:m))%o],!v.skip&&(d?(n.moveTo(v.x,v.y),d=!1):c(n,g,v,h,s.stepped),g=v);return l&&(v=r[(a+(h?u:0))%o],c(n,g,v,h,s.stepped)),!!l}function OD(n,t,e,i){let r=t.points,{count:s,start:o,ilen:a}=vx(r,e,i),{move:l=!0,reverse:u}=i||{},c=0,d=0,h,m,v,g,y,x,A=p=>(o+(u?a-p:p))%s,w=()=>{g!==y&&(n.lineTo(c,y),n.lineTo(c,g),n.lineTo(c,x))};for(l&&(m=r[A(0)],n.moveTo(m.x,m.y)),h=0;h<=a;++h){if(m=r[A(h)],m.skip)continue;let p=m.x,_=m.y,S=p|0;S===v?(_<g?g=_:_>y&&(y=_),c=(d*c+p)/++d):(w(),n.lineTo(p,_),v=S,d=0,g=y=_),x=_}w()}function Kp(n){let t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?OD:TD}function DD(n){return n.stepped?nw:n.tension||n.cubicInterpolationMode==="monotone"?iw:br}function MD(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),gx(n,t.options),n.stroke(r)}function PD(n,t,e,i){let{segments:r,options:s}=t,o=Kp(t);for(let a of r)gx(n,s,a.style),n.beginPath(),o(n,t,a,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}var LD=typeof Path2D=="function";function RD(n,t,e,i){LD&&!t.options.segment?MD(n,t,e,i):PD(n,t,e,i)}var vo=class extends oi{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){let i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){let r=i.spanGaps?this._loop:this._fullLoop;Zy(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=sw(this,this.options.segment))}first(){let t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){let t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){let i=this.options,r=t[e],s=this.points,o=xp(this,{property:e,start:r,end:r});if(!o.length)return;let a=[],l=DD(i),u,c;for(u=0,c=o.length;u<c;++u){let{start:d,end:h}=o[u],m=s[d],v=s[h];if(m===v){a.push(m);continue}let g=Math.abs((r-m[e])/(v[e]-m[e])),y=l(m,v,g,i.stepped);y[e]=t[e],a.push(y)}return a.length===1?a[0]:a}pathSegment(t,e,i){return Kp(this)(t,this,e,i)}path(t,e,i){let r=this.segments,s=Kp(this),o=this._loop;e=e||0,i=i||this.points.length-e;for(let a of r)o&=s(t,this,a,{start:e,end:e+i-1});return!!o}draw(t,e,i,r){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),RD(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}};function Iw(n,t,e,i){let r=n.options,{[e]:s}=n.getProps([e],i);return Math.abs(t-s)<r.radius+r.hitRadius}var Gp=class extends oi{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){let r=this.options,{x:s,y:o}=this.getProps(["x","y"],i);return Math.pow(t-s,2)+Math.pow(e-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return Iw(this,t,"x",e)}inYRange(t,e){return Iw(this,t,"y",e)}getCenterPoint(t){let{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);let i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){let i=this.options;this.skip||i.radius<.1||!Ai(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,jc(t,i,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}};function bx(n,t){let{x:e,y:i,base:r,width:s,height:o}=n.getProps(["x","y","base","width","height"],t),a,l,u,c,d;return n.horizontal?(d=o/2,a=Math.min(e,r),l=Math.max(e,r),u=i-d,c=i+d):(d=s/2,a=e-d,l=e+d,u=Math.min(i,r),c=Math.max(i,r)),{left:a,top:u,right:l,bottom:c}}function _r(n,t,e,i){return n?0:Je(t,e,i)}function ID(n,t,e){let i=n.options.borderWidth,r=n.borderSkipped,s=dp(i);return{t:_r(r.top,s.top,0,e),r:_r(r.right,s.right,0,t),b:_r(r.bottom,s.bottom,0,e),l:_r(r.left,s.left,0,t)}}function FD(n,t,e){let{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=Ar(r),o=Math.min(t,e),a=n.borderSkipped,l=i||Kt(r);return{topLeft:_r(!l||a.top||a.left,s.topLeft,0,o),topRight:_r(!l||a.top||a.right,s.topRight,0,o),bottomLeft:_r(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:_r(!l||a.bottom||a.right,s.bottomRight,0,o)}}function ND(n){let t=bx(n),e=t.right-t.left,i=t.bottom-t.top,r=ID(n,e/2,i/2),s=FD(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function Tp(n,t,e,i){let r=t===null,s=e===null,a=n&&!(r&&s)&&bx(n,i);return a&&(r||_i(t,a.left,a.right))&&(s||_i(e,a.top,a.bottom))}function BD(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function jD(n,t){n.rect(t.x,t.y,t.w,t.h)}function Op(n,t,e={}){let i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,s=(n.x+n.w!==e.x+e.w?t:0)-i,o=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+s,h:n.h+o,radius:n.radius}}var Xp=class extends oi{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=ND(this),a=BD(o.radius)?ho:jD;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,Op(o,e,s)),t.clip(),a(t,Op(s,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,Op(s,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return Tp(this,t,e,i)}inXRange(t,e){return Tp(this,t,null,e)}inYRange(t,e){return Tp(this,null,t,e)}getCenterPoint(t){let{x:e,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+r)/2:e,y:s?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}},$D=Object.freeze({__proto__:null,ArcElement:Yp,BarElement:Xp,LineElement:vo,PointElement:Gp}),Jp=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Fw=Jp.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function yx(n){return Jp[n%Jp.length]}function wx(n){return Fw[n%Fw.length]}function HD(n,t){return n.borderColor=yx(t),n.backgroundColor=wx(t),++t}function VD(n,t){return n.backgroundColor=n.data.map(()=>yx(t++)),t}function WD(n,t){return n.backgroundColor=n.data.map(()=>wx(t++)),t}function zD(n){let t=0;return(e,i)=>{let r=n.getDatasetMeta(i).controller;r instanceof Fa?t=VD(e,t):r instanceof eu?t=WD(e,t):r&&(t=HD(e,t))}}function Nw(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function UD(n){return n&&(n.borderColor||n.backgroundColor)}var qD={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;let{data:{datasets:i},options:r}=n.config,{elements:s}=r;if(!e.forceOverride&&(Nw(i)||UD(r)||s&&Nw(s)))return;let o=zD(n);i.forEach(o)}};function YD(n,t,e,i,r){let s=r.samples||i;if(s>=e)return n.slice(t,t+e);let o=[],a=(e-2)/(s-2),l=0,u=t+e-1,c=t,d,h,m,v,g;for(o[l++]=n[c],d=0;d<s-2;d++){let y=0,x=0,A,w=Math.floor((d+1)*a)+1+t,p=Math.min(Math.floor((d+2)*a)+1,e)+t,_=p-w;for(A=w;A<p;A++)y+=n[A].x,x+=n[A].y;y/=_,x/=_;let S=Math.floor(d*a)+1+t,j=Math.min(Math.floor((d+1)*a)+1,e)+t,{x:H,y:Y}=n[c];for(m=v=-1,A=S;A<j;A++)v=.5*Math.abs((H-y)*(n[A].y-Y)-(H-n[A].x)*(x-Y)),v>m&&(m=v,h=n[A],g=A);o[l++]=h,c=g}return o[l++]=n[u],o}function KD(n,t,e,i){let r=0,s=0,o,a,l,u,c,d,h,m,v,g,y=[],x=t+e-1,A=n[t].x,p=n[x].x-A;for(o=t;o<t+e;++o){a=n[o],l=(a.x-A)/p*i,u=a.y;let _=l|0;if(_===c)u<v?(v=u,d=o):u>g&&(g=u,h=o),r=(s*r+a.x)/++s;else{let S=o-1;if(!Zt(d)&&!Zt(h)){let j=Math.min(d,h),H=Math.max(d,h);j!==m&&j!==S&&y.push({...n[j],x:r}),H!==m&&H!==S&&y.push({...n[H],x:r})}o>0&&S!==m&&y.push(n[S]),y.push(a),c=_,s=0,v=g=u,d=h=m=o}}return y}function xx(n){if(n._decimated){let t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Bw(n){n.data.datasets.forEach(t=>{xx(t)})}function GD(n,t){let e=t.length,i=0,r,{iScale:s}=n,{min:o,max:a,minDefined:l,maxDefined:u}=s.getUserBounds();return l&&(i=Je(xi(t,s.axis,o).lo,0,e-1)),u?r=Je(xi(t,s.axis,a).hi+1,i,e)-i:r=e-i,{start:i,count:r}}var XD={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){Bw(n);return}let i=n.width;n.data.datasets.forEach((r,s)=>{let{_data:o,indexAxis:a}=r,l=n.getDatasetMeta(s),u=o||r.data;if(fo([a,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let c=n.scales[l.xAxisID];if(c.type!=="linear"&&c.type!=="time"||n.options.parsing)return;let{start:d,count:h}=GD(l,u),m=e.threshold||4*i;if(h<=m){xx(r);return}Zt(o)&&(r._data=u,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let v;switch(e.algorithm){case"lttb":v=YD(u,d,h,i,e);break;case"min-max":v=KD(u,d,h,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=v})},destroy(n){Bw(n)}};function JD(n,t,e){let i=n.segments,r=n.points,s=t.points,o=[];for(let a of i){let{start:l,end:u}=a;u=om(l,u,r);let c=Qp(e,r[l],r[u],a.loop);if(!t.segments){o.push({source:a,target:c,start:r[l],end:r[u]});continue}let d=xp(t,c);for(let h of d){let m=Qp(e,s[h.start],s[h.end],h.loop),v=wp(a,r,m);for(let g of v)o.push({source:g,target:h,start:{[e]:jw(c,m,"start",Math.max)},end:{[e]:jw(c,m,"end",Math.min)}})}}return o}function Qp(n,t,e,i){if(i)return;let r=t[n],s=e[n];return n==="angle"&&(r=kn(r),s=kn(s)),{property:n,start:r,end:s}}function QD(n,t){let{x:e=null,y:i=null}=n||{},r=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=om(o,a,r);let l=r[o],u=r[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:u.x,y:i})):e!==null&&(s.push({x:e,y:l.y}),s.push({x:e,y:u.y}))}),s}function om(n,t,e){for(;t>n;t--){let i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function jw(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function Ax(n,t){let e=[],i=!1;return ye(n)?(i=!0,e=n):e=QD(n,t),e.length?new vo({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function $w(n){return n&&n.fill!==!1}function ZD(n,t,e){let r=n[t].fill,s=[t],o;if(!e)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!Pe(r))return r;if(o=n[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function tM(n,t,e){let i=rM(n);if(Kt(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Pe(r)&&Math.floor(r)===r?eM(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function eM(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function nM(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Kt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function iM(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Kt(n)?i=n.value:i=t.getBaseValue(),i}function rM(n){let t=n.options,e=t.fill,i=$t(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function sM(n){let{scale:t,index:e,line:i}=n,r=[],s=i.segments,o=i.points,a=oM(t,e);a.push(Ax({x:null,y:t.bottom},i));for(let l=0;l<s.length;l++){let u=s[l];for(let c=u.start;c<=u.end;c++)aM(r,o[c],a)}return new vo({points:r,options:{}})}function oM(n,t){let e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){let s=i[r];if(s.index===t)break;s.hidden||e.unshift(s.dataset)}return e}function aM(n,t,e){let i=[];for(let r=0;r<e.length;r++){let s=e[r],{first:o,last:a,point:l}=lM(s,t,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(n.push(l),!a)break}}n.push(...i)}function lM(n,t,e){let i=n.interpolate(t,e);if(!i)return{};let r=i[e],s=n.segments,o=n.points,a=!1,l=!1;for(let u=0;u<s.length;u++){let c=s[u],d=o[c.start][e],h=o[c.end][e];if(_i(r,d,h)){a=r===d,l=r===h;break}}return{first:a,last:l,point:i}}var su=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){let{x:r,y:s,radius:o}=this;return e=e||{start:0,end:xe},t.arc(r,s,o,e.end,e.start,!0),!i.bounds}interpolate(t){let{x:e,y:i,radius:r}=this,s=t.angle;return{x:e+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}};function cM(n){let{chart:t,fill:e,line:i}=n;if(Pe(e))return uM(t,e);if(e==="stack")return sM(n);if(e==="shape")return!0;let r=dM(n);return r instanceof su?r:Ax(r,i)}function uM(n,t){let e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function dM(n){return(n.scale||{}).getPointPositionForValue?fM(n):hM(n)}function hM(n){let{scale:t={},fill:e}=n,i=nM(e,t);if(Pe(i)){let r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function fM(n){let{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,o=iM(e,t,s),a=[];if(i.grid.circular){let l=t.getPointPositionForValue(0,s);return new su({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(t.getPointPositionForValue(l,o));return a}function Dp(n,t,e){let i=cM(t),{line:r,scale:s,axis:o}=t,a=r.options,l=a.fill,u=a.backgroundColor,{above:c=u,below:d=u}=l||{};i&&r.points.length&&(ka(n,e),pM(n,{line:r,target:i,above:c,below:d,area:e,scale:s,axis:o}),Ta(n))}function pM(n,t){let{line:e,target:i,above:r,below:s,area:o,scale:a}=t,l=e._loop?"angle":t.axis;n.save(),l==="x"&&s!==r&&(Hw(n,i,o.top),Vw(n,{line:e,target:i,color:r,scale:a,property:l}),n.restore(),n.save(),Hw(n,i,o.bottom)),Vw(n,{line:e,target:i,color:s,scale:a,property:l}),n.restore()}function Hw(n,t,e){let{segments:i,points:r}=t,s=!0,o=!1;n.beginPath();for(let a of i){let{start:l,end:u}=a,c=r[l],d=r[om(l,u,r)];s?(n.moveTo(c.x,c.y),s=!1):(n.lineTo(c.x,e),n.lineTo(c.x,c.y)),o=!!t.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(d.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function Vw(n,t){let{line:e,target:i,property:r,color:s,scale:o}=t,a=JD(e,i,r);for(let{source:l,target:u,start:c,end:d}of a){let{style:{backgroundColor:h=s}={}}=l,m=i!==!0;n.save(),n.fillStyle=h,mM(n,o,m&&Qp(r,c,d)),n.beginPath();let v=!!e.pathSegment(n,l),g;if(m){v?n.closePath():Ww(n,i,d,r);let y=!!i.pathSegment(n,u,{move:v,reverse:!0});g=v&&y,g||Ww(n,i,c,r)}n.closePath(),n.fill(g?"evenodd":"nonzero"),n.restore()}}function mM(n,t,e){let{top:i,bottom:r}=t.chart.chartArea,{property:s,start:o,end:a}=e||{};s==="x"&&(n.beginPath(),n.rect(o,i,a-o,r-i),n.clip())}function Ww(n,t,e,i){let r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var gM={id:"filler",afterDatasetsUpdate(n,t,e){let i=(n.data.datasets||[]).length,r=[],s,o,a,l;for(o=0;o<i;++o)s=n.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof vo&&(l={visible:n.isDatasetVisible(o),index:o,fill:tM(a,o,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=ZD(r,o,e.propagate))},beforeDraw(n,t,e){let i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=r.length-1;o>=0;--o){let a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&Dp(n.ctx,a,s))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){let s=i[r].$filler;$w(s)&&Dp(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,t,e){let i=t.meta.$filler;!$w(i)||e.drawTime!=="beforeDatasetDraw"||Dp(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},zw=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},vM=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index,ou=class extends oi{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=ve(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}let i=t.labels,r=qe(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=zw(i,s),u,c;e.font=r.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(o,s,a,l)+10):(c=this.maxHeight,u=this._fitCols(o,r,a,l)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){let{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=r+a,d=t;s.textAlign="left",s.textBaseline="middle";let h=-1,m=-c;return this.legendItems.forEach((v,g)=>{let y=i+e/2+s.measureText(v.text).width;(g===0||u[u.length-1]+y+2*a>o)&&(d+=c,u[u.length-(g>0?0:1)]=0,m+=c,h++),l[g]={left:0,top:m,row:h,width:y,height:r},u[u.length-1]+=y+a}),d}_fitCols(t,e,i,r){let{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-t,d=a,h=0,m=0,v=0,g=0;return this.legendItems.forEach((y,x)=>{let{itemWidth:A,itemHeight:w}=bM(i,e,s,y,r);x>0&&m+w+2*a>c&&(d+=h+a,u.push({width:h,height:m}),v+=h+a,g++,h=m=0),l[x]={left:v,top:m,col:g,width:A,height:w},h=Math.max(h,A),m+=w+a}),d+=h,u.push({width:h,height:m}),d}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:s}}=this,o=ts(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=cn(i,this.left+r,this.right-this.lineWidths[a]);for(let u of e)a!==u.row&&(a=u.row,l=cn(i,this.left+r,this.right-this.lineWidths[a])),u.top+=this.top+t+r,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+r}else{let a=0,l=cn(i,this.top+t+r,this.bottom-this.columnSizes[a].height);for(let u of e)u.col!==a&&(a=u.col,l=cn(i,this.top+t+r,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+r,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;ka(t,this),this._draw(),Ta(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:s,labels:o}=t,a=Le.color,l=ts(t.rtl,this.left,this.width),u=qe(o.font),{padding:c}=o,d=u.size,h=d/2,m;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;let{boxWidth:v,boxHeight:g,itemHeight:y}=zw(o,d),x=function(S,j,H){if(isNaN(v)||v<=0||isNaN(g)||g<0)return;r.save();let Y=$t(H.lineWidth,1);if(r.fillStyle=$t(H.fillStyle,a),r.lineCap=$t(H.lineCap,"butt"),r.lineDashOffset=$t(H.lineDashOffset,0),r.lineJoin=$t(H.lineJoin,"miter"),r.lineWidth=Y,r.strokeStyle=$t(H.strokeStyle,a),r.setLineDash($t(H.lineDash,[])),o.usePointStyle){let et={radius:g*Math.SQRT2/2,pointStyle:H.pointStyle,rotation:H.rotation,borderWidth:Y},ot=l.xPlus(S,v/2),rt=j+h;up(r,et,ot,rt,o.pointStyleWidth&&v)}else{let et=j+Math.max((d-g)/2,0),ot=l.leftForLtr(S,v),rt=Ar(H.borderRadius);r.beginPath(),Object.values(rt).some(dt=>dt!==0)?ho(r,{x:ot,y:et,w:v,h:g,radius:rt}):r.rect(ot,et,v,g),r.fill(),Y!==0&&r.stroke()}r.restore()},A=function(S,j,H){xr(r,H.text,S,j+y/2,u,{strikethrough:H.hidden,textAlign:l.textAlign(H.textAlign)})},w=this.isHorizontal(),p=this._computeTitleHeight();w?m={x:cn(s,this.left+c,this.right-i[0]),y:this.top+c+p,line:0}:m={x:this.left+c,y:cn(s,this.top+p+c,this.bottom-e[0].height),line:0},bp(this.ctx,t.textDirection);let _=y+c;this.legendItems.forEach((S,j)=>{r.strokeStyle=S.fontColor,r.fillStyle=S.fontColor;let H=r.measureText(S.text).width,Y=l.textAlign(S.textAlign||(S.textAlign=o.textAlign)),et=v+h+H,ot=m.x,rt=m.y;l.setWidth(this.width),w?j>0&&ot+et+c>this.right&&(rt=m.y+=_,m.line++,ot=m.x=cn(s,this.left+c,this.right-i[m.line])):j>0&&rt+_>this.bottom&&(ot=m.x=ot+e[m.line].width+c,m.line++,rt=m.y=cn(s,this.top+p+c,this.bottom-e[m.line].height));let dt=l.x(ot);if(x(dt,rt,S),ot=Wy(Y,ot+v+h,w?ot+et:this.right,t.rtl),A(l.x(ot),rt,S),w)m.x+=et+c;else if(typeof S.text!="string"){let st=u.lineHeight;m.y+=Sx(S,st)+c}else m.y+=_}),yp(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,i=qe(e.font),r=un(e.padding);if(!e.display)return;let s=ts(t.rtl,this.left,this.width),o=this.ctx,a=e.position,l=i.size/2,u=r.top+l,c,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+u,d=cn(t.align,d,this.right-h);else{let v=this.columnSizes.reduce((g,y)=>Math.max(g,y.height),0);c=u+cn(t.align,this.top,this.bottom-v-t.labels.padding-this._computeTitleHeight())}let m=cn(a,d,d+h);o.textAlign=s.textAlign(Nc(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,xr(o,e.text,m,c,i)}_computeTitleHeight(){let t=this.options.title,e=qe(t.font),i=un(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,s;if(_i(t,this.left,this.right)&&_i(e,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],_i(t,r.left,r.left+r.width)&&_i(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){let e=this.options;if(!xM(t.type,e))return;let i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let r=this._hoveredItem,s=vM(r,i);r&&!s&&ve(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&ve(e.onHover,[t,i,this],this)}else i&&ve(e.onClick,[t,i,this],this)}};function bM(n,t,e,i,r){let s=yM(i,n,t,e),o=wM(r,i,t.lineHeight);return{itemWidth:s,itemHeight:o}}function yM(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),t+e.size/2+i.measureText(r).width}function wM(n,t,e){let i=n;return typeof t.text!="string"&&(i=Sx(t,e)),i}function Sx(n,t){let e=n.text?n.text.length:0;return t*e}function xM(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var AM={id:"legend",_element:ou,start(n,t,e){let i=n.legend=new ou({ctx:n.ctx,options:e,chart:n});mn.configure(n,i,e),mn.addBox(n,i)},stop(n){mn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){let i=n.legend;mn.configure(n,i,e),i.options=e},afterUpdate(n){let t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){let i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{let u=l.controller.getStyle(e?0:void 0),c=un(u.borderWidth);return{text:t[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},Ba=class extends oi{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let r=ye(i.text)?i.text.length:1;this._padding=un(i.padding);let s=r*qe(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:i,bottom:r,right:s,options:o}=this,a=o.align,l=0,u,c,d;return this.isHorizontal()?(c=cn(a,i,s),d=e+t,u=s-i):(o.position==="left"?(c=i+t,d=cn(a,r,e),l=we*-.5):(c=s-t,d=cn(a,e,r),l=we*.5),u=r-e),{titleX:c,titleY:d,maxWidth:u,rotation:l}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let i=qe(e.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(s);xr(t,e.text,0,0,i,{color:e.color,maxWidth:l,rotation:u,textAlign:Nc(e.align),textBaseline:"middle",translation:[o,a]})}};function SM(n,t){let e=new Ba({ctx:n.ctx,options:t,chart:n});mn.configure(n,e,t),mn.addBox(n,e),n.titleBlock=e}var _M={id:"title",_element:Ba,start(n,t,e){SM(n,e)},stop(n){let t=n.titleBlock;mn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){let i=n.titleBlock;mn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Gc=new WeakMap,CM={id:"subtitle",start(n,t,e){let i=new Ba({ctx:n.ctx,options:e,chart:n});mn.configure(n,i,e),mn.addBox(n,i),Gc.set(n,i)},stop(n){mn.removeBox(n,Gc.get(n)),Gc.delete(n)},beforeUpdate(n,t,e){let i=Gc.get(n);mn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Ia={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,s=0;for(t=0,e=n.length;t<e;++t){let a=n[t].element;if(a&&a.hasValue()){let l=a.tooltipPosition();i.add(l.x),r+=l.y,++s}}return{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/s}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=n.length;s<o;++s){let l=n[s].element;if(l&&l.hasValue()){let u=l.getCenterPoint(),c=Pc(t,u);c<r&&(r=c,a=l)}}if(a){let l=a.tooltipPosition();e=l.x,i=l.y}return{x:e,y:i}}};function Ci(n,t){return t&&(ye(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Vi(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function EM(n,t){let{element:e,datasetIndex:i,index:r}=t,s=n.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:n,label:o,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function Uw(n,t){let e=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:o,boxHeight:a}=t,l=qe(t.bodyFont),u=qe(t.titleFont),c=qe(t.footerFont),d=s.length,h=r.length,m=i.length,v=un(t.padding),g=v.height,y=0,x=i.reduce((p,_)=>p+_.before.length+_.lines.length+_.after.length,0);if(x+=n.beforeBody.length+n.afterBody.length,d&&(g+=d*u.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),x){let p=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=m*p+(x-m)*l.lineHeight+(x-1)*t.bodySpacing}h&&(g+=t.footerMarginTop+h*c.lineHeight+(h-1)*t.footerSpacing);let A=0,w=function(p){y=Math.max(y,e.measureText(p).width+A)};return e.save(),e.font=u.string,ae(n.title,w),e.font=l.string,ae(n.beforeBody.concat(n.afterBody),w),A=t.displayColors?o+2+t.boxPadding:0,ae(i,p=>{ae(p.before,w),ae(p.lines,w),ae(p.after,w)}),A=0,e.font=c.string,ae(n.footer,w),e.restore(),y+=v.width,{width:y,height:g}}function kM(n,t){let{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function TM(n,t,e,i){let{x:r,width:s}=i,o=e.caretSize+e.caretPadding;if(n==="left"&&r+s+o>t.width||n==="right"&&r-s-o<0)return!0}function OM(n,t,e,i){let{x:r,width:s}=e,{width:o,chartArea:{left:a,right:l}}=n,u="center";return i==="center"?u=r<=(a+l)/2?"left":"right":r<=s/2?u="left":r>=o-s/2&&(u="right"),TM(u,n,t,e)&&(u="center"),u}function qw(n,t,e){let i=e.yAlign||t.yAlign||kM(n,e);return{xAlign:e.xAlign||t.xAlign||OM(n,t,e,i),yAlign:i}}function DM(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function MM(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function Yw(n,t,e,i){let{caretSize:r,caretPadding:s,cornerRadius:o}=n,{xAlign:a,yAlign:l}=e,u=r+s,{topLeft:c,topRight:d,bottomLeft:h,bottomRight:m}=Ar(o),v=DM(t,a),g=MM(t,l,u);return l==="center"?a==="left"?v+=u:a==="right"&&(v-=u):a==="left"?v-=Math.max(c,h)+r:a==="right"&&(v+=Math.max(d,m)+r),{x:Je(v,0,i.width-t.width),y:Je(g,0,i.height-t.height)}}function Xc(n,t,e){let i=un(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function Kw(n){return Ci([],Vi(n))}function PM(n,t,e){return $i(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Gw(n,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}var _x={beforeTitle:Si,title(n){if(n.length>0){let t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Si,beforeBody:Si,beforeLabel:Si,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");let e=n.formattedValue;return Zt(e)||(t+=e),t},labelColor(n){let e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Si,afterBody:Si,beforeFooter:Si,footer:Si,afterFooter:Si};function On(n,t,e,i){let r=n[t].call(e,i);return typeof r>"u"?_x[t].call(e,i):r}var au=class extends oi{static positioners=Ia;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,s=new tu(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=PM(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){let{callbacks:i}=e,r=On(i,"beforeTitle",this,t),s=On(i,"title",this,t),o=On(i,"afterTitle",this,t),a=[];return a=Ci(a,Vi(r)),a=Ci(a,Vi(s)),a=Ci(a,Vi(o)),a}getBeforeBody(t,e){return Kw(On(e.callbacks,"beforeBody",this,t))}getBody(t,e){let{callbacks:i}=e,r=[];return ae(t,s=>{let o={before:[],lines:[],after:[]},a=Gw(i,s);Ci(o.before,Vi(On(a,"beforeLabel",this,s))),Ci(o.lines,On(a,"label",this,s)),Ci(o.after,Vi(On(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(t,e){return Kw(On(e.callbacks,"afterBody",this,t))}getFooter(t,e){let{callbacks:i}=e,r=On(i,"beforeFooter",this,t),s=On(i,"footer",this,t),o=On(i,"afterFooter",this,t),a=[];return a=Ci(a,Vi(r)),a=Ci(a,Vi(s)),a=Ci(a,Vi(o)),a}_createItems(t){let e=this._active,i=this.chart.data,r=[],s=[],o=[],a=[],l,u;for(l=0,u=e.length;l<u;++l)a.push(EM(this.chart,e[l]));return t.filter&&(a=a.filter((c,d,h)=>t.filter(c,d,h,i))),t.itemSort&&(a=a.sort((c,d)=>t.itemSort(c,d,i))),ae(a,c=>{let d=Gw(t.callbacks,c);r.push(On(d,"labelColor",this,c)),s.push(On(d,"labelPointStyle",this,c)),o.push(On(d,"labelTextColor",this,c))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,e){let i=this.options.setContext(this.getContext()),r=this._active,s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{let a=Ia[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);let l=this._size=Uw(this,i),u=Object.assign({},a,l),c=qw(this.chart,i,u),d=Yw(i,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){let s=this.getCaretPosition(t,i,r);e.lineTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.lineTo(s.x3,s.y3)}getCaretPosition(t,e,i){let{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:d}=Ar(a),{x:h,y:m}=t,{width:v,height:g}=e,y,x,A,w,p,_;return s==="center"?(p=m+g/2,r==="left"?(y=h,x=y-o,w=p+o,_=p-o):(y=h+v,x=y+o,w=p-o,_=p+o),A=y):(r==="left"?x=h+Math.max(l,c)+o:r==="right"?x=h+v-Math.max(u,d)-o:x=this.caretX,s==="top"?(w=m,p=w-o,y=x-o,A=x+o):(w=m+g,p=w+o,y=x+o,A=x-o),_=w),{x1:y,x2:x,x3:A,y1:w,y2:p,y3:_}}drawTitle(t,e,i){let r=this.title,s=r.length,o,a,l;if(s){let u=ts(i.rtl,this.x,this.width);for(t.x=Xc(this,i.titleAlign,i),e.textAlign=u.textAlign(i.titleAlign),e.textBaseline="middle",o=qe(i.titleFont),a=i.titleSpacing,e.fillStyle=i.titleColor,e.font=o.string,l=0;l<s;++l)e.fillText(r[l],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===s&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,e,i,r,s){let o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:u}=s,c=qe(s.bodyFont),d=Xc(this,"left",s),h=r.x(d),m=l<c.lineHeight?(c.lineHeight-l)/2:0,v=e.y+m;if(s.usePointStyle){let g={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=r.leftForLtr(h,u)+u/2,x=v+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,jc(t,g,y,x),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,jc(t,g,y,x)}else{t.lineWidth=Kt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;let g=r.leftForLtr(h,u),y=r.leftForLtr(r.xPlus(h,1),u-2),x=Ar(o.borderRadius);Object.values(x).some(A=>A!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,ho(t,{x:g,y:v,w:u,h:l,radius:x}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),ho(t,{x:y,y:v+1,w:u-2,h:l-2,radius:x}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(g,v,u,l),t.strokeRect(g,v,u,l),t.fillStyle=o.backgroundColor,t.fillRect(y,v+1,u-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){let{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:c}=i,d=qe(i.bodyFont),h=d.lineHeight,m=0,v=ts(i.rtl,this.x,this.width),g=function(H){e.fillText(H,v.x(t.x+m),t.y+h/2),t.y+=h+s},y=v.textAlign(o),x,A,w,p,_,S,j;for(e.textAlign=o,e.textBaseline="middle",e.font=d.string,t.x=Xc(this,y,i),e.fillStyle=i.bodyColor,ae(this.beforeBody,g),m=a&&y!=="right"?o==="center"?u/2+c:u+2+c:0,p=0,S=r.length;p<S;++p){for(x=r[p],A=this.labelTextColors[p],e.fillStyle=A,ae(x.before,g),w=x.lines,a&&w.length&&(this._drawColorBox(e,t,p,v,i),h=Math.max(d.lineHeight,l)),_=0,j=w.length;_<j;++_)g(w[_]),h=d.lineHeight;ae(x.after,g)}m=0,h=d.lineHeight,ae(this.afterBody,g),t.y-=s}drawFooter(t,e,i){let r=this.footer,s=r.length,o,a;if(s){let l=ts(i.rtl,this.x,this.width);for(t.x=Xc(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=l.textAlign(i.footerAlign),e.textBaseline="middle",o=qe(i.footerFont),e.fillStyle=i.footerColor,e.font=o.string,a=0;a<s;++a)e.fillText(r[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){let{xAlign:s,yAlign:o}=this,{x:a,y:l}=t,{width:u,height:c}=i,{topLeft:d,topRight:h,bottomLeft:m,bottomRight:v}=Ar(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(a+d,l),o==="top"&&this.drawCaret(t,e,i,r),e.lineTo(a+u-h,l),e.quadraticCurveTo(a+u,l,a+u,l+h),o==="center"&&s==="right"&&this.drawCaret(t,e,i,r),e.lineTo(a+u,l+c-v),e.quadraticCurveTo(a+u,l+c,a+u-v,l+c),o==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(a+m,l+c),e.quadraticCurveTo(a,l+c,a,l+c-m),o==="center"&&s==="left"&&this.drawCaret(t,e,i,r),e.lineTo(a,l+d),e.quadraticCurveTo(a,l,a+d,l),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){let e=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){let o=Ia[t.position].call(this,this._active,this._eventPosition);if(!o)return;let a=this._size=Uw(this,t),l=Object.assign({},o,this._size),u=qw(e,t,l),c=Yw(t,l,u,e);(r._to!==c.x||s._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(t){let e=this.options.setContext(this.getContext()),i=this.opacity;if(!i)return;this._updateAnimationTarget(e);let r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;let o=un(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,r,e),bp(t,e.textDirection),s.y+=o.top,this.drawTitle(s,t,e),this.drawBody(s,t,e),this.drawFooter(s,t,e),yp(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){let i=this._active,r=t.map(({datasetIndex:a,index:l})=>{let u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),s=!Ca(i,r),o=this._positionChanged(r,e);(s||o)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let r=this.options,s=this._active||[],o=this._getActiveElements(t,s,e,i),a=this._positionChanged(o,t),l=e||!Ca(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),l}_getActiveElements(t,e,i,r){let s=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);let o=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(t,e){let{caretX:i,caretY:r,options:s}=this,o=Ia[s.position].call(this,t,e);return o!==!1&&(i!==o.x||r!==o.y)}},LM={id:"tooltip",_element:au,positioners:Ia,afterInit(n,t,e){e&&(n.tooltip=new au({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){let t=n.tooltip;if(t&&t._willRender()){let e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){let e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:_x},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},RM=Object.freeze({__proto__:null,Colors:qD,Decimation:XD,Filler:gM,Legend:AM,SubTitle:CM,Title:_M,Tooltip:LM}),IM=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function FM(n,t,e,i){let r=n.indexOf(t);if(r===-1)return IM(n,t,e,i);let s=n.lastIndexOf(t);return r!==s?e:r}var NM=(n,t)=>n===null?null:Je(Math.round(n),0,t);function Xw(n){let t=this.getLabels();return n>=0&&n<t.length?t[n]:n}var Zp=class extends is{static id="category";static defaults={ticks:{callback:Xw}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let e=this._addedLabels;if(e.length){let i=this.getLabels();for(let{index:r,label:s}of e)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Zt(t))return null;let i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:FM(i,t,$t(e,t),this._addedLabels),NM(e,i.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){let t=this.min,e=this.max,i=this.options.offset,r=[],s=this.getLabels();s=t===0&&e===s.length-1?s:s.slice(t,e+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=e;o++)r.push({value:o});return r}getLabelForValue(t){return Xw.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}};function BM(n,t){let e=[],{bounds:r,step:s,min:o,max:a,precision:l,count:u,maxTicks:c,maxDigits:d,includeBounds:h}=n,m=s||1,v=c-1,{min:g,max:y}=t,x=!Zt(o),A=!Zt(a),w=!Zt(u),p=(y-g)/(d+1),_=Jf((y-g)/v/m)*m,S,j,H,Y;if(_<1e-14&&!x&&!A)return[{value:g},{value:y}];Y=Math.ceil(y/_)-Math.floor(g/_),Y>v&&(_=Jf(Y*_/v/m)*m),Zt(l)||(S=Math.pow(10,l),_=Math.ceil(_*S)/S),r==="ticks"?(j=Math.floor(g/_)*_,H=Math.ceil(y/_)*_):(j=g,H=y),x&&A&&s&&Fy((a-o)/s,_/1e3)?(Y=Math.round(Math.min((a-o)/_,c)),_=(a-o)/Y,j=o,H=a):w?(j=x?o:j,H=A?a:H,Y=u-1,_=(H-j)/Y):(Y=(H-j)/_,lo(Y,Math.round(Y),_/1e3)?Y=Math.round(Y):Y=Math.ceil(Y));let et=Math.max(Zf(_),Zf(j));S=Math.pow(10,Zt(l)?et:l),j=Math.round(j*S)/S,H=Math.round(H*S)/S;let ot=0;for(x&&(h&&j!==o?(e.push({value:o}),j<o&&ot++,lo(Math.round((j+ot*_)*S)/S,o,Jw(o,p,n))&&ot++):j<o&&ot++);ot<Y;++ot){let rt=Math.round((j+ot*_)*S)/S;if(A&&rt>a)break;e.push({value:rt})}return A&&h&&H!==a?e.length&&lo(e[e.length-1].value,a,Jw(a,p,n))?e[e.length-1].value=a:e.push({value:a}):(!A||H===a)&&e.push({value:H}),e}function Jw(n,t,{horizontal:e,minRotation:i}){let r=Yn(i),s=(e?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+n).length;return Math.min(t/s,o)}var bo=class extends is{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Zt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:r,max:s}=this,o=l=>r=e?r:l,a=l=>s=i?s:l;if(t){let l=si(r),u=si(s);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),t||o(r-l)}this.min=r,this.max=s}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,i=this.getTickLimit();i=Math.max(2,i);let r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},s=this._range||this,o=BM(r,s);return t.bounds==="ticks"&&Qf(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let t=this.ticks,e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){let r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return uo(t,this.chart.options.locale,this.options.ticks.format)}},tm=class extends bo{static id="linear";static defaults={ticks:{callback:Ea.formatters.numeric}};determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=Pe(t)?t:0,this.max=Pe(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,i=Yn(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},ja=n=>Math.floor(Bi(n)),ns=(n,t)=>Math.pow(10,ja(n)+t);function Qw(n){return n/Math.pow(10,ja(n))===1}function Zw(n,t,e){let i=Math.pow(10,e),r=Math.floor(n/i);return Math.ceil(t/i)-r}function jM(n,t){let e=t-n,i=ja(e);for(;Zw(n,t,i)>10;)i++;for(;Zw(n,t,i)<10;)i--;return Math.min(i,ja(n))}function $M(n,{min:t,max:e}){t=Tn(n.min,t);let i=[],r=ja(t),s=jM(t,e),o=s<0?Math.pow(10,Math.abs(s)):1,a=Math.pow(10,s),l=r>s?Math.pow(10,r):0,u=Math.round((t-l)*o)/o,c=Math.floor((t-l)/a/10)*a*10,d=Math.floor((u-c)/Math.pow(10,s)),h=Tn(n.min,Math.round((l+c+d*Math.pow(10,s))*o)/o);for(;h<e;)i.push({value:h,major:Qw(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,o=s>=0?1:o),h=Math.round((l+c+d*Math.pow(10,s))*o)/o;let m=Tn(n.max,h);return i.push({value:m,major:Qw(m),significand:d}),i}var em=class extends is{static id="logarithmic";static defaults={ticks:{callback:Ea.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let i=bo.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return Pe(i)&&i>0?i:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=Pe(t)?Math.max(0,t):null,this.max=Pe(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Pe(this._userMin)&&(this.min=t===ns(this.min,0)?ns(this.min,-1):ns(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),i=this.min,r=this.max,s=a=>i=t?i:a,o=a=>r=e?r:a;i===r&&(i<=0?(s(1),o(10)):(s(ns(i,-1)),o(ns(r,1)))),i<=0&&s(ns(r,-1)),r<=0&&o(ns(i,1)),this.min=i,this.max=r}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},i=$M(e,this);return t.bounds==="ticks"&&Qf(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":uo(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=Bi(t),this._valueRange=Bi(this.max)-Bi(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Bi(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};function nm(n){let t=n.ticks;if(t.display&&n.display){let e=un(t.backdropPadding);return $t(t.font&&t.font.size,Le.font.size)+e.height}return 0}function HM(n,t,e){return e=ye(e)?e:[e],{w:Uy(n,t.string,e),h:e.length*t.lineHeight}}function tx(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function VM(n){let t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],s=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?we/s:0;for(let l=0;l<s;l++){let u=o.setContext(n.getPointLabelContext(l));r[l]=u.padding;let c=n.getPointPosition(l,n.drawingArea+r[l],a),d=qe(u.font),h=HM(n.ctx,d,n._pointLabels[l]);i[l]=h;let m=kn(n.getIndexAngle(l)+a),v=Math.round(Ic(m)),g=tx(v,c.x,h.w,0,180),y=tx(v,c.y,h.h,90,270);WM(e,t,m,g,y)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=qM(n,i,r)}function WM(n,t,e,i,r){let s=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e)),a=0,l=0;i.start<t.l?(a=(t.l-i.start)/s,n.l=Math.min(n.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/s,n.r=Math.max(n.r,t.r+a)),r.start<t.t?(l=(t.t-r.start)/o,n.t=Math.min(n.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/o,n.b=Math.max(n.b,t.b+l))}function zM(n,t,e){let i=n.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=e,l=n.getPointPosition(t,i+r+o,s),u=Math.round(Ic(kn(l.angle+je))),c=GM(l.y,a.h,u),d=YM(u),h=KM(l.x,a.w,d);return{visible:!0,x:l.x,y:c,textAlign:d,left:h,top:c,right:h+a.w,bottom:c+a.h}}function UM(n,t){if(!t)return!0;let{left:e,top:i,right:r,bottom:s}=n;return!(Ai({x:e,y:i},t)||Ai({x:e,y:s},t)||Ai({x:r,y:i},t)||Ai({x:r,y:s},t))}function qM(n,t,e){let i=[],r=n._pointLabels.length,s=n.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:nm(s)/2,additionalAngle:o?we/r:0},u;for(let c=0;c<r;c++){l.padding=e[c],l.size=t[c];let d=zM(n,c,l);i.push(d),a==="auto"&&(d.visible=UM(d,u),d.visible&&(u=d))}return i}function YM(n){return n===0||n===180?"center":n<180?"left":"right"}function KM(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function GM(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function XM(n,t,e){let{left:i,top:r,right:s,bottom:o}=e,{backdropColor:a}=t;if(!Zt(a)){let l=Ar(t.borderRadius),u=un(t.backdropPadding);n.fillStyle=a;let c=i-u.left,d=r-u.top,h=s-i+u.width,m=o-r+u.height;Object.values(l).some(v=>v!==0)?(n.beginPath(),ho(n,{x:c,y:d,w:h,h:m,radius:l}),n.fill()):n.fillRect(c,d,h,m)}}function JM(n,t){let{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){let s=n._pointLabelItems[r];if(!s.visible)continue;let o=i.setContext(n.getPointLabelContext(r));XM(e,o,s);let a=qe(o.font),{x:l,y:u,textAlign:c}=s;xr(e,n._pointLabels[r],l,u+a.lineHeight/2,a,{color:o.color,textAlign:c,textBaseline:"middle"})}}function Cx(n,t,e,i){let{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,xe);else{let s=n.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=n.getPointPosition(o,t),r.lineTo(s.x,s.y)}}function QM(n,t,e,i,r){let s=n.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!i||!a||!l||e<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),Cx(n,e,o,i),s.closePath(),s.stroke(),s.restore())}function ZM(n,t,e){return $i(n,{label:e,index:t,type:"pointLabel"})}var im=class extends bo{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ea.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=un(nm(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=Pe(t)&&!isNaN(t)?t:0,this.max=Pe(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/nm(this.options))}generateTickLabels(t){bo.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{let r=ve(this.options.pointLabels.callback,[e,i],this);return r||r===0?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){let t=this.options;t.display&&t.pointLabels.display?VM(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){let e=xe/(this._pointLabels.length||1),i=this.options.startAngle||0;return kn(t*e+Yn(i))}getDistanceFromCenterForValue(t){if(Zt(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Zt(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let i=e[t];return ZM(this.getContext(),t,i)}}getPointPosition(t,e,i=0){let r=this.getIndexAngle(t)-je+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:i,right:r,bottom:s}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:s}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let i=this.ctx;i.save(),i.beginPath(),Cx(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:i,grid:r,border:s}=e,o=this._pointLabels.length,a,l,u;if(e.pointLabels.display&&JM(this,o),r.display&&this.ticks.forEach((c,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(c.value);let h=this.getContext(d),m=r.setContext(h),v=s.setContext(h);QM(this,m,l,o,v)}}),i.display){for(t.save(),a=o-1;a>=0;a--){let c=i.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=c;!h||!d||(t.lineWidth=h,t.strokeStyle=d,t.setLineDash(c.borderDash),t.lineDashOffset=c.borderDashOffset,l=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),u=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(u.x,u.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;let r=this.getIndexAngle(0),s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!e.reverse)return;let u=i.setContext(this.getContext(l)),c=qe(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){t.font=c.string,o=t.measureText(a.label).width,t.fillStyle=u.backdropColor;let d=un(u.backdropPadding);t.fillRect(-o/2-d.left,-s-c.size/2-d.top,o+d.width,c.size+d.height)}xr(t,a.label,0,-s,c,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),t.restore()}drawTitle(){}},lu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Dn=Object.keys(lu);function ex(n,t){return n-t}function nx(n,t){if(Zt(t))return null;let e=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts,o=t;return typeof i=="function"&&(o=i(o)),Pe(o)||(o=typeof i=="string"?e.parse(o,i):e.parse(o)),o===null?null:(r&&(o=r==="week"&&(Zr(s)||s===!0)?e.startOf(o,"isoWeek",s):e.startOf(o,r)),+o)}function ix(n,t,e,i){let r=Dn.length;for(let s=Dn.indexOf(n);s<r-1;++s){let o=lu[Dn[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(a*o.size))<=i)return Dn[s]}return Dn[r-1]}function tP(n,t,e,i,r){for(let s=Dn.length-1;s>=Dn.indexOf(e);s--){let o=Dn[s];if(lu[o].common&&n._adapter.diff(r,i,o)>=t-1)return o}return Dn[e?Dn.indexOf(e):0]}function eP(n){for(let t=Dn.indexOf(n)+1,e=Dn.length;t<e;++t)if(lu[Dn[t]].common)return Dn[t]}function rx(n,t,e){if(!e)n[t]=!0;else if(e.length){let{lo:i,hi:r}=Fc(e,t),s=e[i]>=t?e[i]:e[r];n[s]=!0}}function nP(n,t,e,i){let r=n._adapter,s=+r.startOf(t[0].value,i),o=t[t.length-1].value,a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=e[a],l>=0&&(t[l].major=!0);return t}function sx(n,t,e){let i=[],r={},s=t.length,o,a;for(o=0;o<s;++o)a=t[o],r[a]=o,i.push({value:a,major:!1});return s===0||!e?i:nP(n,i,r,e)}var $a=class extends is{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){let i=t.time||(t.time={}),r=this._adapter=new sm._date(t.adapters.date);r.init(e),oo(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:nx(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,e=this._adapter,i=t.time.unit||"day",{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!a&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=Pe(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),s=Pe(s)&&!isNaN(s)?s:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){let t=this.getLabelTimestamps(),e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){let t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);let s=this.min,o=this.max,a=jy(r,s,o);return this._unit=e.unit||(i.autoSkip?ix(e.minUnit,this.min,this.max,this._getLabelCapacity(s)):tP(this,a.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:eP(this._unit),this.initOffsets(r),t.reverse&&a.reverse(),sx(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,s;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?i=s:i=(s-this.getDecimalForValue(t[t.length-2]))/2);let o=t.length<3?.5:.25;e=Je(e,0,o),i=Je(i,0,o),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){let t=this._adapter,e=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||ix(s.minUnit,e,i,this._getLabelCapacity(e)),a=$t(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,u=Zr(l)||l===!0,c={},d=e,h,m;if(u&&(d=+t.startOf(d,"isoWeek",l)),d=+t.startOf(d,u?"day":o),t.diff(i,e,o)>1e5*a)throw new Error(e+" and "+i+" are too far apart with stepSize of "+a+" "+o);let v=r.ticks.source==="data"&&this.getDataTimestamps();for(h=d,m=0;h<i;h=+t.add(h,a,o),m++)rx(c,h,v);return(h===i||r.bounds==="ticks"||m===1)&&rx(c,h,v),Object.keys(c).sort(ex).map(g=>+g)}getLabelForValue(t){let e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){let r=this.options.time.displayFormats,s=this._unit,o=e||r[s];return this._adapter.format(t,o)}_tickFormatFunction(t,e,i,r){let s=this.options,o=s.ticks.callback;if(o)return ve(o,[t,e,i],this);let a=s.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&a[l],d=u&&a[u],h=i[e],m=u&&d&&h&&h.major;return this._adapter.format(t,r||(m?d:c))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){let e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){let e=this.options.ticks,i=this.ctx.measureText(t).width,r=Yn(this.isHorizontal()?e.maxRotation:e.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(t){let e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,s=this._tickFormatFunction(t,0,sx(this,[t],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;let r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],e,i;if(t.length)return t;let r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(nx(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return np(t.sort(ex))}};function Jc(n,t,e){let i=0,r=n.length-1,s,o,a,l;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=xi(n,"pos",t)),{pos:s,time:a}=n[i],{pos:o,time:l}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=xi(n,"time",t)),{time:s,pos:a}=n[i],{time:o,pos:l}=n[r]);let u=o-s;return u?a+(l-a)*(t-s)/u:a}var rm=class extends $a{static id="timeseries";static defaults=$a.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Jc(e,this.min),this._tableRange=Jc(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:i}=this,r=[],s=[],o,a,l,u,c;for(o=0,a=t.length;o<a;++o)u=t[o],u>=e&&u<=i&&r.push(u);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)c=r[o+1],l=r[o-1],u=r[o],Math.round((c+l)/2)!==u&&s.push({time:u,pos:o/(a-1)});return s}_generate(){let t=this.min,e=this.max,i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Jc(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Jc(this._table,i*this._tableRange+this._minPos,!0)}},iP=Object.freeze({__proto__:null,CategoryScale:Zp,LinearScale:tm,LogarithmicScale:em,RadialLinearScale:im,TimeScale:$a,TimeSeriesScale:rm}),Ex=[gO,$D,RM,iP];go.register(...Ex);var kx=go;function gn(n){"@babel/helpers - typeof";return gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gn(n)}function Bt(n){if(n===null||n===!0||n===!1)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function it(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}function ft(n){it(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||gn(n)==="object"&&t==="[object Date]"?new Date(n.getTime()):typeof n=="number"||t==="[object Number]"?new Date(n):((typeof n=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function yo(n,t){it(2,arguments);var e=ft(n),i=Bt(t);return isNaN(i)?new Date(NaN):(i&&e.setDate(e.getDate()+i),e)}function Cr(n,t){it(2,arguments);var e=ft(n),i=Bt(t);if(isNaN(i))return new Date(NaN);if(!i)return e;var r=e.getDate(),s=new Date(e.getTime());s.setMonth(e.getMonth()+i+1,0);var o=s.getDate();return r>=o?s:(e.setFullYear(s.getFullYear(),s.getMonth(),r),e)}function Kn(n,t){it(2,arguments);var e=ft(n).getTime(),i=Bt(t);return new Date(e+i)}var rP=36e5;function cu(n,t){it(2,arguments);var e=Bt(t);return Kn(n,e*rP)}var sP={};function vn(){return sP}function Va(n,t){var e,i,r,s,o,a,l,u;it(1,arguments);var c=vn(),d=Bt((e=(i=(r=(s=t?.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&r!==void 0?r:c.weekStartsOn)!==null&&i!==void 0?i:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&e!==void 0?e:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ft(n),m=h.getDay(),v=(m<d?7:0)+m-d;return h.setDate(h.getDate()-v),h.setHours(0,0,0,0),h}function Er(n){var t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),n.getTime()-t.getTime()}function rs(n){it(1,arguments);var t=ft(n);return t.setHours(0,0,0,0),t}var oP=864e5;function am(n,t){it(2,arguments);var e=rs(n),i=rs(t),r=e.getTime()-Er(e),s=i.getTime()-Er(i);return Math.round((r-s)/oP)}var aP=6e4;function uu(n,t){it(2,arguments);var e=Bt(t);return Kn(n,e*aP)}function du(n,t){it(2,arguments);var e=Bt(t),i=e*3;return Cr(n,i)}function hu(n,t){it(2,arguments);var e=Bt(t);return Kn(n,e*1e3)}function fu(n,t){it(2,arguments);var e=Bt(t),i=e*7;return yo(n,i)}function pu(n,t){it(2,arguments);var e=Bt(t);return Cr(n,e*12)}function kr(n,t){it(2,arguments);var e=ft(n),i=ft(t),r=e.getTime()-i.getTime();return r<0?-1:r>0?1:r}var lP=365.2425,cP=Math.pow(10,8)*24*60*60*1e3,ss=6e4,os=36e5,Tx=1e3,$5=-cP;var uP=3600;var Ox=uP*24,H5=Ox*7,dP=Ox*lP,hP=dP/12,V5=hP*3;function lm(n){return it(1,arguments),n instanceof Date||gn(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function wo(n){if(it(1,arguments),!lm(n)&&typeof n!="number")return!1;var t=ft(n);return!isNaN(Number(t))}function cm(n,t){it(2,arguments);var e=ft(n),i=ft(t),r=e.getFullYear()-i.getFullYear(),s=e.getMonth()-i.getMonth();return r*12+s}function um(n,t){it(2,arguments);var e=ft(n),i=ft(t);return e.getFullYear()-i.getFullYear()}function Dx(n,t){var e=n.getFullYear()-t.getFullYear()||n.getMonth()-t.getMonth()||n.getDate()-t.getDate()||n.getHours()-t.getHours()||n.getMinutes()-t.getMinutes()||n.getSeconds()-t.getSeconds()||n.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function xo(n,t){it(2,arguments);var e=ft(n),i=ft(t),r=Dx(e,i),s=Math.abs(am(e,i));e.setDate(e.getDate()-r*s);var o=+(Dx(e,i)===-r),a=r*(s-o);return a===0?0:a}function Ti(n,t){return it(2,arguments),ft(n).getTime()-ft(t).getTime()}var Mx={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},fP="trunc";function Oi(n){return n?Mx[n]:Mx[fP]}function mu(n,t,e){it(2,arguments);var i=Ti(n,t)/os;return Oi(e?.roundingMethod)(i)}function gu(n,t,e){it(2,arguments);var i=Ti(n,t)/ss;return Oi(e?.roundingMethod)(i)}function Ao(n){it(1,arguments);var t=ft(n);return t.setHours(23,59,59,999),t}function So(n){it(1,arguments);var t=ft(n),e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(23,59,59,999),t}function dm(n){it(1,arguments);var t=ft(n);return Ao(t).getTime()===So(t).getTime()}function _o(n,t){it(2,arguments);var e=ft(n),i=ft(t),r=kr(e,i),s=Math.abs(cm(e,i)),o;if(s<1)o=0;else{e.getMonth()===1&&e.getDate()>27&&e.setDate(30),e.setMonth(e.getMonth()-r*s);var a=kr(e,i)===-r;dm(ft(n))&&s===1&&kr(n,i)===1&&(a=!1),o=r*(s-Number(a))}return o===0?0:o}function vu(n,t,e){it(2,arguments);var i=_o(n,t)/3;return Oi(e?.roundingMethod)(i)}function bu(n,t,e){it(2,arguments);var i=Ti(n,t)/1e3;return Oi(e?.roundingMethod)(i)}function yu(n,t,e){it(2,arguments);var i=xo(n,t)/7;return Oi(e?.roundingMethod)(i)}function wu(n,t){it(2,arguments);var e=ft(n),i=ft(t),r=kr(e,i),s=Math.abs(um(e,i));e.setFullYear(1584),i.setFullYear(1584);var o=kr(e,i)===-r,a=r*(s-Number(o));return a===0?0:a}function xu(n){it(1,arguments);var t=ft(n);return t.setSeconds(0,0),t}function Au(n){it(1,arguments);var t=ft(n),e=t.getMonth(),i=e-e%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function Su(n){it(1,arguments);var t=ft(n);return t.setDate(1),t.setHours(0,0,0,0),t}function _u(n){it(1,arguments);var t=ft(n),e=t.getFullYear();return t.setFullYear(e+1,0,0),t.setHours(23,59,59,999),t}function Cu(n){it(1,arguments);var t=ft(n),e=new Date(0);return e.setFullYear(t.getFullYear(),0,1),e.setHours(0,0,0,0),e}function Eu(n){it(1,arguments);var t=ft(n);return t.setMinutes(59,59,999),t}function ku(n,t){var e,i,r,s,o,a,l,u;it(1,arguments);var c=vn(),d=Bt((e=(i=(r=(s=t?.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&r!==void 0?r:c.weekStartsOn)!==null&&i!==void 0?i:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&e!==void 0?e:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ft(n),m=h.getDay(),v=(m<d?-7:0)+6-(m-d);return h.setDate(h.getDate()+v),h.setHours(23,59,59,999),h}function Tu(n){it(1,arguments);var t=ft(n);return t.setSeconds(59,999),t}function Ou(n){it(1,arguments);var t=ft(n),e=t.getMonth(),i=e-e%3+3;return t.setMonth(i,0),t.setHours(23,59,59,999),t}function Du(n){it(1,arguments);var t=ft(n);return t.setMilliseconds(999),t}function Wa(n,t){it(2,arguments);var e=Bt(t);return Kn(n,-e)}var pP=864e5;function hm(n){it(1,arguments);var t=ft(n),e=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var i=t.getTime(),r=e-i;return Math.floor(r/pP)+1}function Gn(n){it(1,arguments);var t=1,e=ft(n),i=e.getUTCDay(),r=(i<t?7:0)+i-t;return e.setUTCDate(e.getUTCDate()-r),e.setUTCHours(0,0,0,0),e}function za(n){it(1,arguments);var t=ft(n),e=t.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(e+1,0,4),i.setUTCHours(0,0,0,0);var r=Gn(i),s=new Date(0);s.setUTCFullYear(e,0,4),s.setUTCHours(0,0,0,0);var o=Gn(s);return t.getTime()>=r.getTime()?e+1:t.getTime()>=o.getTime()?e:e-1}function fm(n){it(1,arguments);var t=za(n),e=new Date(0);e.setUTCFullYear(t,0,4),e.setUTCHours(0,0,0,0);var i=Gn(e);return i}var mP=6048e5;function Ua(n){it(1,arguments);var t=ft(n),e=Gn(t).getTime()-fm(t).getTime();return Math.round(e/mP)+1}function jn(n,t){var e,i,r,s,o,a,l,u;it(1,arguments);var c=vn(),d=Bt((e=(i=(r=(s=t?.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&r!==void 0?r:c.weekStartsOn)!==null&&i!==void 0?i:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&e!==void 0?e:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ft(n),m=h.getUTCDay(),v=(m<d?7:0)+m-d;return h.setUTCDate(h.getUTCDate()-v),h.setUTCHours(0,0,0,0),h}function as(n,t){var e,i,r,s,o,a,l,u;it(1,arguments);var c=ft(n),d=c.getUTCFullYear(),h=vn(),m=Bt((e=(i=(r=(s=t?.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&r!==void 0?r:h.firstWeekContainsDate)!==null&&i!==void 0?i:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&e!==void 0?e:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(d+1,0,m),v.setUTCHours(0,0,0,0);var g=jn(v,t),y=new Date(0);y.setUTCFullYear(d,0,m),y.setUTCHours(0,0,0,0);var x=jn(y,t);return c.getTime()>=g.getTime()?d+1:c.getTime()>=x.getTime()?d:d-1}function pm(n,t){var e,i,r,s,o,a,l,u;it(1,arguments);var c=vn(),d=Bt((e=(i=(r=(s=t?.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&r!==void 0?r:c.firstWeekContainsDate)!==null&&i!==void 0?i:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&e!==void 0?e:1),h=as(n,t),m=new Date(0);m.setUTCFullYear(h,0,d),m.setUTCHours(0,0,0,0);var v=jn(m,t);return v}var gP=6048e5;function qa(n,t){it(1,arguments);var e=ft(n),i=jn(e,t).getTime()-pm(e,t).getTime();return Math.round(i/gP)+1}function re(n,t){for(var e=n<0?"-":"",i=Math.abs(n).toString();i.length<t;)i="0"+i;return e+i}var vP={y:function(t,e){var i=t.getUTCFullYear(),r=i>0?i:1-i;return re(e==="yy"?r%100:r,e.length)},M:function(t,e){var i=t.getUTCMonth();return e==="M"?String(i+1):re(i+1,2)},d:function(t,e){return re(t.getUTCDate(),e.length)},a:function(t,e){var i=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];case"aaaa":default:return i==="am"?"a.m.":"p.m."}},h:function(t,e){return re(t.getUTCHours()%12||12,e.length)},H:function(t,e){return re(t.getUTCHours(),e.length)},m:function(t,e){return re(t.getUTCMinutes(),e.length)},s:function(t,e){return re(t.getUTCSeconds(),e.length)},S:function(t,e){var i=e.length,r=t.getUTCMilliseconds(),s=Math.floor(r*Math.pow(10,i-3));return re(s,e.length)}},Wi=vP;var Co={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bP={G:function(t,e,i){var r=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return i.era(r,{width:"abbreviated"});case"GGGGG":return i.era(r,{width:"narrow"});case"GGGG":default:return i.era(r,{width:"wide"})}},y:function(t,e,i){if(e==="yo"){var r=t.getUTCFullYear(),s=r>0?r:1-r;return i.ordinalNumber(s,{unit:"year"})}return Wi.y(t,e)},Y:function(t,e,i,r){var s=as(t,r),o=s>0?s:1-s;if(e==="YY"){var a=o%100;return re(a,2)}return e==="Yo"?i.ordinalNumber(o,{unit:"year"}):re(o,e.length)},R:function(t,e){var i=za(t);return re(i,e.length)},u:function(t,e){var i=t.getUTCFullYear();return re(i,e.length)},Q:function(t,e,i){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return re(r,2);case"Qo":return i.ordinalNumber(r,{unit:"quarter"});case"QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,i){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return re(r,2);case"qo":return i.ordinalNumber(r,{unit:"quarter"});case"qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,i){var r=t.getUTCMonth();switch(e){case"M":case"MM":return Wi.M(t,e);case"Mo":return i.ordinalNumber(r+1,{unit:"month"});case"MMM":return i.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,i){var r=t.getUTCMonth();switch(e){case"L":return String(r+1);case"LL":return re(r+1,2);case"Lo":return i.ordinalNumber(r+1,{unit:"month"});case"LLL":return i.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,i,r){var s=qa(t,r);return e==="wo"?i.ordinalNumber(s,{unit:"week"}):re(s,e.length)},I:function(t,e,i){var r=Ua(t);return e==="Io"?i.ordinalNumber(r,{unit:"week"}):re(r,e.length)},d:function(t,e,i){return e==="do"?i.ordinalNumber(t.getUTCDate(),{unit:"date"}):Wi.d(t,e)},D:function(t,e,i){var r=hm(t);return e==="Do"?i.ordinalNumber(r,{unit:"dayOfYear"}):re(r,e.length)},E:function(t,e,i){var r=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return i.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(r,{width:"short",context:"formatting"});case"EEEE":default:return i.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,i,r){var s=t.getUTCDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return re(o,2);case"eo":return i.ordinalNumber(o,{unit:"day"});case"eee":return i.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(s,{width:"short",context:"formatting"});case"eeee":default:return i.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,i,r){var s=t.getUTCDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return re(o,e.length);case"co":return i.ordinalNumber(o,{unit:"day"});case"ccc":return i.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(s,{width:"narrow",context:"standalone"});case"cccccc":return i.day(s,{width:"short",context:"standalone"});case"cccc":default:return i.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,i){var r=t.getUTCDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return re(s,e.length);case"io":return i.ordinalNumber(s,{unit:"day"});case"iii":return i.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(r,{width:"short",context:"formatting"});case"iiii":default:return i.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,i){var r=t.getUTCHours(),s=r/12>=1?"pm":"am";switch(e){case"a":case"aa":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,i){var r=t.getUTCHours(),s;switch(r===12?s=Co.noon:r===0?s=Co.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,i){var r=t.getUTCHours(),s;switch(r>=17?s=Co.evening:r>=12?s=Co.afternoon:r>=4?s=Co.morning:s=Co.night,e){case"B":case"BB":case"BBB":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,i){if(e==="ho"){var r=t.getUTCHours()%12;return r===0&&(r=12),i.ordinalNumber(r,{unit:"hour"})}return Wi.h(t,e)},H:function(t,e,i){return e==="Ho"?i.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Wi.H(t,e)},K:function(t,e,i){var r=t.getUTCHours()%12;return e==="Ko"?i.ordinalNumber(r,{unit:"hour"}):re(r,e.length)},k:function(t,e,i){var r=t.getUTCHours();return r===0&&(r=24),e==="ko"?i.ordinalNumber(r,{unit:"hour"}):re(r,e.length)},m:function(t,e,i){return e==="mo"?i.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Wi.m(t,e)},s:function(t,e,i){return e==="so"?i.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Wi.s(t,e)},S:function(t,e){return Wi.S(t,e)},X:function(t,e,i,r){var s=r._originalDate||t,o=s.getTimezoneOffset();if(o===0)return"Z";switch(e){case"X":return Lx(o);case"XXXX":case"XX":return ls(o);case"XXXXX":case"XXX":default:return ls(o,":")}},x:function(t,e,i,r){var s=r._originalDate||t,o=s.getTimezoneOffset();switch(e){case"x":return Lx(o);case"xxxx":case"xx":return ls(o);case"xxxxx":case"xxx":default:return ls(o,":")}},O:function(t,e,i,r){var s=r._originalDate||t,o=s.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Px(o,":");case"OOOO":default:return"GMT"+ls(o,":")}},z:function(t,e,i,r){var s=r._originalDate||t,o=s.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Px(o,":");case"zzzz":default:return"GMT"+ls(o,":")}},t:function(t,e,i,r){var s=r._originalDate||t,o=Math.floor(s.getTime()/1e3);return re(o,e.length)},T:function(t,e,i,r){var s=r._originalDate||t,o=s.getTime();return re(o,e.length)}};function Px(n,t){var e=n>0?"-":"+",i=Math.abs(n),r=Math.floor(i/60),s=i%60;if(s===0)return e+String(r);var o=t||"";return e+String(r)+o+re(s,2)}function Lx(n,t){if(n%60===0){var e=n>0?"-":"+";return e+re(Math.abs(n)/60,2)}return ls(n,t)}function ls(n,t){var e=t||"",i=n>0?"-":"+",r=Math.abs(n),s=re(Math.floor(r/60),2),o=re(r%60,2);return i+s+e+o}var Rx=bP;var Ix=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Fx=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},yP=function(t,e){var i=t.match(/(P+)(p+)?/)||[],r=i[1],s=i[2];if(!s)return Ix(t,e);var o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Ix(r,e)).replace("{{time}}",Fx(s,e))},wP={p:Fx,P:yP},Ya=wP;var xP=["D","DD"],AP=["YY","YYYY"];function Mu(n){return xP.indexOf(n)!==-1}function Pu(n){return AP.indexOf(n)!==-1}function Eo(n,t,e){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var SP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_P=function(t,e,i){var r,s=SP[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+r:r+" ago":r},Nx=_P;function Ka(n){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.width?String(t.width):n.defaultWidth,i=n.formats[e]||n.formats[n.defaultWidth];return i}}var CP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},EP={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TP={date:Ka({formats:CP,defaultWidth:"full"}),time:Ka({formats:EP,defaultWidth:"full"}),dateTime:Ka({formats:kP,defaultWidth:"full"})},Bx=TP;var OP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},DP=function(t,e,i,r){return OP[t]},jx=DP;function cs(n){return function(t,e){var i=e!=null&&e.context?String(e.context):"standalone",r;if(i==="formatting"&&n.formattingValues){var s=n.defaultFormattingWidth||n.defaultWidth,o=e!=null&&e.width?String(e.width):s;r=n.formattingValues[o]||n.formattingValues[s]}else{var a=n.defaultWidth,l=e!=null&&e.width?String(e.width):n.defaultWidth;r=n.values[l]||n.values[a]}var u=n.argumentCallback?n.argumentCallback(t):t;return r[u]}}var MP={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},PP={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},LP={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},RP={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},IP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},FP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},NP=function(t,e){var i=Number(t),r=i%100;if(r>20||r<10)switch(r%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},BP={ordinalNumber:NP,era:cs({values:MP,defaultWidth:"wide"}),quarter:cs({values:PP,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:cs({values:LP,defaultWidth:"wide"}),day:cs({values:RP,defaultWidth:"wide"}),dayPeriod:cs({values:IP,defaultWidth:"wide",formattingValues:FP,defaultFormattingWidth:"wide"})},$x=BP;function us(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=e.width,r=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],s=t.match(r);if(!s)return null;var o=s[0],a=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(a)?$P(a,function(d){return d.test(o)}):jP(a,function(d){return d.test(o)}),u;u=n.valueCallback?n.valueCallback(l):l,u=e.valueCallback?e.valueCallback(u):u;var c=t.slice(o.length);return{value:u,rest:c}}}function jP(n,t){for(var e in n)if(n.hasOwnProperty(e)&&t(n[e]))return e}function $P(n,t){for(var e=0;e<n.length;e++)if(t(n[e]))return e}function mm(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.match(n.matchPattern);if(!i)return null;var r=i[0],s=t.match(n.parsePattern);if(!s)return null;var o=n.valueCallback?n.valueCallback(s[0]):s[0];o=e.valueCallback?e.valueCallback(o):o;var a=t.slice(r.length);return{value:o,rest:a}}}var HP=/^(\d+)(th|st|nd|rd)?/i,VP=/\d+/i,WP={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},zP={any:[/^b/i,/^(a|c)/i]},UP={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qP={any:[/1/i,/2/i,/3/i,/4/i]},YP={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},KP={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},GP={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},XP={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},JP={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},QP={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ZP={ordinalNumber:mm({matchPattern:HP,parsePattern:VP,valueCallback:function(t){return parseInt(t,10)}}),era:us({matchPatterns:WP,defaultMatchWidth:"wide",parsePatterns:zP,defaultParseWidth:"any"}),quarter:us({matchPatterns:UP,defaultMatchWidth:"wide",parsePatterns:qP,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:us({matchPatterns:YP,defaultMatchWidth:"wide",parsePatterns:KP,defaultParseWidth:"any"}),day:us({matchPatterns:GP,defaultMatchWidth:"wide",parsePatterns:XP,defaultParseWidth:"any"}),dayPeriod:us({matchPatterns:JP,defaultMatchWidth:"any",parsePatterns:QP,defaultParseWidth:"any"})},Hx=ZP;var tL={code:"en-US",formatDistance:Nx,formatLong:Bx,formatRelative:jx,localize:$x,match:Hx,options:{weekStartsOn:0,firstWeekContainsDate:1}},Vx=tL;var Lu=Vx;var eL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,iL=/^'([^]*?)'?$/,rL=/''/g,sL=/[a-zA-Z]/;function Ru(n,t,e){var i,r,s,o,a,l,u,c,d,h,m,v,g,y,x,A,w,p;it(2,arguments);var _=String(t),S=vn(),j=(i=(r=e?.locale)!==null&&r!==void 0?r:S.locale)!==null&&i!==void 0?i:Lu,H=Bt((s=(o=(a=(l=e?.firstWeekContainsDate)!==null&&l!==void 0?l:e==null||(u=e.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:S.firstWeekContainsDate)!==null&&o!==void 0?o:(d=S.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(H>=1&&H<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Y=Bt((m=(v=(g=(y=e?.weekStartsOn)!==null&&y!==void 0?y:e==null||(x=e.locale)===null||x===void 0||(A=x.options)===null||A===void 0?void 0:A.weekStartsOn)!==null&&g!==void 0?g:S.weekStartsOn)!==null&&v!==void 0?v:(w=S.locale)===null||w===void 0||(p=w.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&m!==void 0?m:0);if(!(Y>=0&&Y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!j.localize)throw new RangeError("locale must contain localize property");if(!j.formatLong)throw new RangeError("locale must contain formatLong property");var et=ft(n);if(!wo(et))throw new RangeError("Invalid time value");var ot=Er(et),rt=Wa(et,ot),dt={firstWeekContainsDate:H,weekStartsOn:Y,locale:j,_originalDate:et},st=_.match(nL).map(function(B){var T=B[0];if(T==="p"||T==="P"){var L=Ya[T];return L(B,j.formatLong)}return B}).join("").match(eL).map(function(B){if(B==="''")return"'";var T=B[0];if(T==="'")return oL(B);var L=Rx[T];if(L)return!(e!=null&&e.useAdditionalWeekYearTokens)&&Pu(B)&&Eo(B,t,String(n)),!(e!=null&&e.useAdditionalDayOfYearTokens)&&Mu(B)&&Eo(B,t,String(n)),L(rt,B,j.localize,dt);if(T.match(sL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return B}).join("");return st}function oL(n){var t=n.match(iL);return t?t[1].replace(rL,"'"):n}function gm(n,t){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n}function Iu(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function vm(n,t){if(n){if(typeof n=="string")return Iu(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Iu(n,t)}}function Fu(n,t){var e=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=vm(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(u){throw u},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){e=e.call(n)},n:function(){var u=e.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&e.return!=null&&e.return()}finally{if(o)throw a}}}}function ut(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ga(n,t){return Ga=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Ga(n,t)}function Et(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&Ga(n,t)}function ko(n){return ko=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ko(n)}function bm(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ym(n,t){if(t&&(gn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ut(n)}function kt(n){var t=bm();return function(){var i=ko(n),r;if(t){var s=ko(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return ym(this,r)}}function St(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function wm(n,t){if(gn(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t||"default");if(gn(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Xa(n){var t=wm(n,"string");return gn(t)=="symbol"?t:String(t)}function Wx(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Xa(i.key),i)}}function _t(n,t,e){return t&&Wx(n.prototype,t),e&&Wx(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function ct(n,t,e){return t=Xa(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var aL=10,zx=function(){function n(){St(this,n),ct(this,"priority",void 0),ct(this,"subPriority",0)}return _t(n,[{key:"validate",value:function(e,i){return!0}}]),n}(),Ux=function(n){Et(e,n);var t=kt(e);function e(i,r,s,o,a){var l;return St(this,e),l=t.call(this),l.value=i,l.validateValue=r,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return _t(e,[{key:"validate",value:function(r,s){return this.validateValue(r,this.value,s)}},{key:"set",value:function(r,s,o){return this.setValue(r,s,this.value,o)}}]),e}(zx),qx=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",aL),ct(ut(i),"subPriority",-1),i}return _t(e,[{key:"set",value:function(r,s){if(s.timestampIsSet)return r;var o=new Date(0);return o.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),o.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),o}}]),e}(zx);var Mt=function(){function n(){St(this,n),ct(this,"incompatibleTokens",void 0),ct(this,"priority",void 0),ct(this,"subPriority",void 0)}return _t(n,[{key:"run",value:function(e,i,r,s){var o=this.parse(e,i,r,s);return o?{setter:new Ux(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(e,i,r){return!0}}]),n}();var Yx=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",140),ct(ut(i),"incompatibleTokens",["R","u","t","T"]),i}return _t(e,[{key:"parse",value:function(r,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"});case"GGGGG":return o.era(r,{width:"narrow"});case"GGGG":default:return o.era(r,{width:"wide"})||o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"})}}},{key:"set",value:function(r,s,o){return s.era=o,r.setUTCFullYear(o,0,1),r.setUTCHours(0,0,0,0),r}}]),e}(Mt);var te={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Xn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function fe(n,t){return n&&{value:t(n.value),rest:n.rest}}function Jt(n,t){var e=t.match(n);return e?{value:parseInt(e[0],10),rest:t.slice(e[0].length)}:null}function Jn(n,t){var e=t.match(n);if(!e)return null;if(e[0]==="Z")return{value:0,rest:t.slice(1)};var i=e[1]==="+"?1:-1,r=e[2]?parseInt(e[2],10):0,s=e[3]?parseInt(e[3],10):0,o=e[5]?parseInt(e[5],10):0;return{value:i*(r*os+s*ss+o*Tx),rest:t.slice(e[0].length)}}function Nu(n){return Jt(te.anyDigitsSigned,n)}function Ht(n,t){switch(n){case 1:return Jt(te.singleDigit,t);case 2:return Jt(te.twoDigits,t);case 3:return Jt(te.threeDigits,t);case 4:return Jt(te.fourDigits,t);default:return Jt(new RegExp("^\\d{1,"+n+"}"),t)}}function To(n,t){switch(n){case 1:return Jt(te.singleDigitSigned,t);case 2:return Jt(te.twoDigitsSigned,t);case 3:return Jt(te.threeDigitsSigned,t);case 4:return Jt(te.fourDigitsSigned,t);default:return Jt(new RegExp("^-?\\d{1,"+n+"}"),t)}}function Oo(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Bu(n,t){var e=t>0,i=e?t:1-t,r;if(i<=50)r=n||100;else{var s=i+50,o=Math.floor(s/100)*100,a=n>=s%100;r=n+o-(a?100:0)}return e?r:1-r}function ju(n){return n%400===0||n%4===0&&n%100!==0}var Kx=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",130),ct(ut(i),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),i}return _t(e,[{key:"parse",value:function(r,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="yy"}};switch(s){case"y":return fe(Ht(4,r),a);case"yo":return fe(o.ordinalNumber(r,{unit:"year"}),a);default:return fe(Ht(s.length,r),a)}}},{key:"validate",value:function(r,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(r,s,o){var a=r.getUTCFullYear();if(o.isTwoDigitYear){var l=Bu(o.year,a);return r.setUTCFullYear(l,0,1),r.setUTCHours(0,0,0,0),r}var u=!("era"in s)||s.era===1?o.year:1-o.year;return r.setUTCFullYear(u,0,1),r.setUTCHours(0,0,0,0),r}}]),e}(Mt);var Gx=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",130),ct(ut(i),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),i}return _t(e,[{key:"parse",value:function(r,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return fe(Ht(4,r),a);case"Yo":return fe(o.ordinalNumber(r,{unit:"year"}),a);default:return fe(Ht(s.length,r),a)}}},{key:"validate",value:function(r,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(r,s,o,a){var l=as(r,a);if(o.isTwoDigitYear){var u=Bu(o.year,l);return r.setUTCFullYear(u,0,a.firstWeekContainsDate),r.setUTCHours(0,0,0,0),jn(r,a)}var c=!("era"in s)||s.era===1?o.year:1-o.year;return r.setUTCFullYear(c,0,a.firstWeekContainsDate),r.setUTCHours(0,0,0,0),jn(r,a)}}]),e}(Mt);var Xx=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",130),ct(ut(i),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),i}return _t(e,[{key:"parse",value:function(r,s){return s==="R"?To(4,r):To(s.length,r)}},{key:"set",value:function(r,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),Gn(a)}}]),e}(Mt);var Jx=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",130),ct(ut(i),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),i}return _t(e,[{key:"parse",value:function(r,s){return s==="u"?To(4,r):To(s.length,r)}},{key:"set",value:function(r,s,o){return r.setUTCFullYear(o,0,1),r.setUTCHours(0,0,0,0),r}}]),e}(Mt);var Qx=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",120),ct(ut(i),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),i}return _t(e,[{key:"parse",value:function(r,s,o){switch(s){case"Q":case"QQ":return Ht(s.length,r);case"Qo":return o.ordinalNumber(r,{unit:"quarter"});case"QQQ":return o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(r,{width:"wide",context:"formatting"})||o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,s){return s>=1&&s<=4}},{key:"set",value:function(r,s,o){return r.setUTCMonth((o-1)*3,1),r.setUTCHours(0,0,0,0),r}}]),e}(Mt);var Zx=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",120),ct(ut(i),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),i}return _t(e,[{key:"parse",value:function(r,s,o){switch(s){case"q":case"qq":return Ht(s.length,r);case"qo":return o.ordinalNumber(r,{unit:"quarter"});case"qqq":return o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(r,{width:"wide",context:"standalone"})||o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,s){return s>=1&&s<=4}},{key:"set",value:function(r,s,o){return r.setUTCMonth((o-1)*3,1),r.setUTCHours(0,0,0,0),r}}]),e}(Mt);var t1=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),ct(ut(i),"priority",110),i}return _t(e,[{key:"parse",value:function(r,s,o){var a=function(u){return u-1};switch(s){case"M":return fe(Jt(te.month,r),a);case"MM":return fe(Ht(2,r),a);case"Mo":return fe(o.ordinalNumber(r,{unit:"month"}),a);case"MMM":return o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(r,{width:"wide",context:"formatting"})||o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=11}},{key:"set",value:function(r,s,o){return r.setUTCMonth(o,1),r.setUTCHours(0,0,0,0),r}}]),e}(Mt);var e1=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",110),ct(ut(i),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),i}return _t(e,[{key:"parse",value:function(r,s,o){var a=function(u){return u-1};switch(s){case"L":return fe(Jt(te.month,r),a);case"LL":return fe(Ht(2,r),a);case"Lo":return fe(o.ordinalNumber(r,{unit:"month"}),a);case"LLL":return o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(r,{width:"wide",context:"standalone"})||o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=11}},{key:"set",value:function(r,s,o){return r.setUTCMonth(o,1),r.setUTCHours(0,0,0,0),r}}]),e}(Mt);function xm(n,t,e){it(2,arguments);var i=ft(n),r=Bt(t),s=qa(i,e)-r;return i.setUTCDate(i.getUTCDate()-s*7),i}var n1=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",100),ct(ut(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),i}return _t(e,[{key:"parse",value:function(r,s,o){switch(s){case"w":return Jt(te.week,r);case"wo":return o.ordinalNumber(r,{unit:"week"});default:return Ht(s.length,r)}}},{key:"validate",value:function(r,s){return s>=1&&s<=53}},{key:"set",value:function(r,s,o,a){return jn(xm(r,o,a),a)}}]),e}(Mt);function Am(n,t){it(2,arguments);var e=ft(n),i=Bt(t),r=Ua(e)-i;return e.setUTCDate(e.getUTCDate()-r*7),e}var i1=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",100),ct(ut(i),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),i}return _t(e,[{key:"parse",value:function(r,s,o){switch(s){case"I":return Jt(te.week,r);case"Io":return o.ordinalNumber(r,{unit:"week"});default:return Ht(s.length,r)}}},{key:"validate",value:function(r,s){return s>=1&&s<=53}},{key:"set",value:function(r,s,o){return Gn(Am(r,o))}}]),e}(Mt);var lL=[31,28,31,30,31,30,31,31,30,31,30,31],cL=[31,29,31,30,31,30,31,31,30,31,30,31],r1=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",90),ct(ut(i),"subPriority",1),ct(ut(i),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),i}return _t(e,[{key:"parse",value:function(r,s,o){switch(s){case"d":return Jt(te.date,r);case"do":return o.ordinalNumber(r,{unit:"date"});default:return Ht(s.length,r)}}},{key:"validate",value:function(r,s){var o=r.getUTCFullYear(),a=ju(o),l=r.getUTCMonth();return a?s>=1&&s<=cL[l]:s>=1&&s<=lL[l]}},{key:"set",value:function(r,s,o){return r.setUTCDate(o),r.setUTCHours(0,0,0,0),r}}]),e}(Mt);var s1=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",90),ct(ut(i),"subpriority",1),ct(ut(i),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),i}return _t(e,[{key:"parse",value:function(r,s,o){switch(s){case"D":case"DD":return Jt(te.dayOfYear,r);case"Do":return o.ordinalNumber(r,{unit:"date"});default:return Ht(s.length,r)}}},{key:"validate",value:function(r,s){var o=r.getUTCFullYear(),a=ju(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(r,s,o){return r.setUTCMonth(0,o),r.setUTCHours(0,0,0,0),r}}]),e}(Mt);function ds(n,t,e){var i,r,s,o,a,l,u,c;it(2,arguments);var d=vn(),h=Bt((i=(r=(s=(o=e?.weekStartsOn)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&i!==void 0?i:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=ft(n),v=Bt(t),g=m.getUTCDay(),y=v%7,x=(y+7)%7,A=(x<h?7:0)+v-g;return m.setUTCDate(m.getUTCDate()+A),m}var o1=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",90),ct(ut(i),"incompatibleTokens",["D","i","e","c","t","T"]),i}return _t(e,[{key:"parse",value:function(r,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=6}},{key:"set",value:function(r,s,o,a){return r=ds(r,o,a),r.setUTCHours(0,0,0,0),r}}]),e}(Mt);var a1=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",90),ct(ut(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),i}return _t(e,[{key:"parse",value:function(r,s,o,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(s){case"e":case"ee":return fe(Ht(s.length,r),l);case"eo":return fe(o.ordinalNumber(r,{unit:"day"}),l);case"eee":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeeee":return o.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=6}},{key:"set",value:function(r,s,o,a){return r=ds(r,o,a),r.setUTCHours(0,0,0,0),r}}]),e}(Mt);var l1=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",90),ct(ut(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),i}return _t(e,[{key:"parse",value:function(r,s,o,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(s){case"c":case"cc":return fe(Ht(s.length,r),l);case"co":return fe(o.ordinalNumber(r,{unit:"day"}),l);case"ccc":return o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"ccccc":return o.day(r,{width:"narrow",context:"standalone"});case"cccccc":return o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(r,{width:"wide",context:"standalone"})||o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=6}},{key:"set",value:function(r,s,o,a){return r=ds(r,o,a),r.setUTCHours(0,0,0,0),r}}]),e}(Mt);function Sm(n,t){it(2,arguments);var e=Bt(t);e%7===0&&(e=e-7);var i=1,r=ft(n),s=r.getUTCDay(),o=e%7,a=(o+7)%7,l=(a<i?7:0)+e-s;return r.setUTCDate(r.getUTCDate()+l),r}var c1=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",90),ct(ut(i),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),i}return _t(e,[{key:"parse",value:function(r,s,o){var a=function(u){return u===0?7:u};switch(s){case"i":case"ii":return Ht(s.length,r);case"io":return o.ordinalNumber(r,{unit:"day"});case"iii":return fe(o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),a);case"iiiii":return fe(o.day(r,{width:"narrow",context:"formatting"}),a);case"iiiiii":return fe(o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),a);case"iiii":default:return fe(o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(r,s){return s>=1&&s<=7}},{key:"set",value:function(r,s,o){return r=Sm(r,o),r.setUTCHours(0,0,0,0),r}}]),e}(Mt);var u1=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",80),ct(ut(i),"incompatibleTokens",["b","B","H","k","t","T"]),i}return _t(e,[{key:"parse",value:function(r,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,s,o){return r.setUTCHours(Oo(o),0,0,0),r}}]),e}(Mt);var d1=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",80),ct(ut(i),"incompatibleTokens",["a","B","H","k","t","T"]),i}return _t(e,[{key:"parse",value:function(r,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,s,o){return r.setUTCHours(Oo(o),0,0,0),r}}]),e}(Mt);var h1=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",80),ct(ut(i),"incompatibleTokens",["a","b","t","T"]),i}return _t(e,[{key:"parse",value:function(r,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,s,o){return r.setUTCHours(Oo(o),0,0,0),r}}]),e}(Mt);var f1=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",70),ct(ut(i),"incompatibleTokens",["H","K","k","t","T"]),i}return _t(e,[{key:"parse",value:function(r,s,o){switch(s){case"h":return Jt(te.hour12h,r);case"ho":return o.ordinalNumber(r,{unit:"hour"});default:return Ht(s.length,r)}}},{key:"validate",value:function(r,s){return s>=1&&s<=12}},{key:"set",value:function(r,s,o){var a=r.getUTCHours()>=12;return a&&o<12?r.setUTCHours(o+12,0,0,0):!a&&o===12?r.setUTCHours(0,0,0,0):r.setUTCHours(o,0,0,0),r}}]),e}(Mt);var p1=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",70),ct(ut(i),"incompatibleTokens",["a","b","h","K","k","t","T"]),i}return _t(e,[{key:"parse",value:function(r,s,o){switch(s){case"H":return Jt(te.hour23h,r);case"Ho":return o.ordinalNumber(r,{unit:"hour"});default:return Ht(s.length,r)}}},{key:"validate",value:function(r,s){return s>=0&&s<=23}},{key:"set",value:function(r,s,o){return r.setUTCHours(o,0,0,0),r}}]),e}(Mt);var m1=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",70),ct(ut(i),"incompatibleTokens",["h","H","k","t","T"]),i}return _t(e,[{key:"parse",value:function(r,s,o){switch(s){case"K":return Jt(te.hour11h,r);case"Ko":return o.ordinalNumber(r,{unit:"hour"});default:return Ht(s.length,r)}}},{key:"validate",value:function(r,s){return s>=0&&s<=11}},{key:"set",value:function(r,s,o){var a=r.getUTCHours()>=12;return a&&o<12?r.setUTCHours(o+12,0,0,0):r.setUTCHours(o,0,0,0),r}}]),e}(Mt);var g1=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",70),ct(ut(i),"incompatibleTokens",["a","b","h","H","K","t","T"]),i}return _t(e,[{key:"parse",value:function(r,s,o){switch(s){case"k":return Jt(te.hour24h,r);case"ko":return o.ordinalNumber(r,{unit:"hour"});default:return Ht(s.length,r)}}},{key:"validate",value:function(r,s){return s>=1&&s<=24}},{key:"set",value:function(r,s,o){var a=o<=24?o%24:o;return r.setUTCHours(a,0,0,0),r}}]),e}(Mt);var v1=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",60),ct(ut(i),"incompatibleTokens",["t","T"]),i}return _t(e,[{key:"parse",value:function(r,s,o){switch(s){case"m":return Jt(te.minute,r);case"mo":return o.ordinalNumber(r,{unit:"minute"});default:return Ht(s.length,r)}}},{key:"validate",value:function(r,s){return s>=0&&s<=59}},{key:"set",value:function(r,s,o){return r.setUTCMinutes(o,0,0),r}}]),e}(Mt);var b1=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",50),ct(ut(i),"incompatibleTokens",["t","T"]),i}return _t(e,[{key:"parse",value:function(r,s,o){switch(s){case"s":return Jt(te.second,r);case"so":return o.ordinalNumber(r,{unit:"second"});default:return Ht(s.length,r)}}},{key:"validate",value:function(r,s){return s>=0&&s<=59}},{key:"set",value:function(r,s,o){return r.setUTCSeconds(o,0),r}}]),e}(Mt);var y1=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",30),ct(ut(i),"incompatibleTokens",["t","T"]),i}return _t(e,[{key:"parse",value:function(r,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return fe(Ht(s.length,r),o)}},{key:"set",value:function(r,s,o){return r.setUTCMilliseconds(o),r}}]),e}(Mt);var w1=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",10),ct(ut(i),"incompatibleTokens",["t","T","x"]),i}return _t(e,[{key:"parse",value:function(r,s){switch(s){case"X":return Jn(Xn.basicOptionalMinutes,r);case"XX":return Jn(Xn.basic,r);case"XXXX":return Jn(Xn.basicOptionalSeconds,r);case"XXXXX":return Jn(Xn.extendedOptionalSeconds,r);case"XXX":default:return Jn(Xn.extended,r)}}},{key:"set",value:function(r,s,o){return s.timestampIsSet?r:new Date(r.getTime()-o)}}]),e}(Mt);var x1=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",10),ct(ut(i),"incompatibleTokens",["t","T","X"]),i}return _t(e,[{key:"parse",value:function(r,s){switch(s){case"x":return Jn(Xn.basicOptionalMinutes,r);case"xx":return Jn(Xn.basic,r);case"xxxx":return Jn(Xn.basicOptionalSeconds,r);case"xxxxx":return Jn(Xn.extendedOptionalSeconds,r);case"xxx":default:return Jn(Xn.extended,r)}}},{key:"set",value:function(r,s,o){return s.timestampIsSet?r:new Date(r.getTime()-o)}}]),e}(Mt);var A1=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",40),ct(ut(i),"incompatibleTokens","*"),i}return _t(e,[{key:"parse",value:function(r){return Nu(r)}},{key:"set",value:function(r,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),e}(Mt);var S1=function(n){Et(e,n);var t=kt(e);function e(){var i;St(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ct(ut(i),"priority",20),ct(ut(i),"incompatibleTokens","*"),i}return _t(e,[{key:"parse",value:function(r){return Nu(r)}},{key:"set",value:function(r,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),e}(Mt);var _1={G:new Yx,y:new Kx,Y:new Gx,R:new Xx,u:new Jx,Q:new Qx,q:new Zx,M:new t1,L:new e1,w:new n1,I:new i1,d:new r1,D:new s1,E:new o1,e:new a1,c:new l1,i:new c1,a:new u1,b:new d1,B:new h1,h:new f1,H:new p1,K:new m1,k:new g1,m:new v1,s:new b1,S:new y1,X:new w1,x:new x1,t:new A1,T:new S1};var uL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hL=/^'([^]*?)'?$/,fL=/''/g,pL=/\S/,mL=/[a-zA-Z]/;function $u(n,t,e,i){var r,s,o,a,l,u,c,d,h,m,v,g,y,x,A,w,p,_;it(3,arguments);var S=String(n),j=String(t),H=vn(),Y=(r=(s=i?.locale)!==null&&s!==void 0?s:H.locale)!==null&&r!==void 0?r:Lu;if(!Y.match)throw new RangeError("locale must contain match property");var et=Bt((o=(a=(l=(u=i?.firstWeekContainsDate)!==null&&u!==void 0?u:i==null||(c=i.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:H.firstWeekContainsDate)!==null&&a!==void 0?a:(h=H.locale)===null||h===void 0||(m=h.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(et>=1&&et<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ot=Bt((v=(g=(y=(x=i?.weekStartsOn)!==null&&x!==void 0?x:i==null||(A=i.locale)===null||A===void 0||(w=A.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&y!==void 0?y:H.weekStartsOn)!==null&&g!==void 0?g:(p=H.locale)===null||p===void 0||(_=p.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&v!==void 0?v:0);if(!(ot>=0&&ot<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(j==="")return S===""?ft(e):new Date(NaN);var rt={firstWeekContainsDate:et,weekStartsOn:ot,locale:Y},dt=[new qx],st=j.match(dL).map(function(At){var yt=At[0];if(yt in Ya){var vt=Ya[yt];return vt(At,Y.formatLong)}return At}).join("").match(uL),B=[],T=Fu(st),L;try{var F=function(){var yt=L.value;!(i!=null&&i.useAdditionalWeekYearTokens)&&Pu(yt)&&Eo(yt,j,n),!(i!=null&&i.useAdditionalDayOfYearTokens)&&Mu(yt)&&Eo(yt,j,n);var vt=yt[0],G=_1[vt];if(G){var X=G.incompatibleTokens;if(Array.isArray(X)){var I=B.find(function(U){return X.includes(U.token)||U.token===vt});if(I)throw new RangeError("The format string mustn't contain `".concat(I.fullToken,"` and `").concat(yt,"` at the same time"))}else if(G.incompatibleTokens==="*"&&B.length>0)throw new RangeError("The format string mustn't contain `".concat(yt,"` and any other token at the same time"));B.push({token:vt,fullToken:yt});var R=G.run(S,yt,Y.match,rt);if(!R)return{v:new Date(NaN)};dt.push(R.setter),S=R.rest}else{if(vt.match(mL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+vt+"`");if(yt==="''"?yt="'":vt==="'"&&(yt=gL(yt)),S.indexOf(yt)===0)S=S.slice(yt.length);else return{v:new Date(NaN)}}};for(T.s();!(L=T.n()).done;){var q=F();if(gn(q)==="object")return q.v}}catch(At){T.e(At)}finally{T.f()}if(S.length>0&&pL.test(S))return new Date(NaN);var V=dt.map(function(At){return At.priority}).sort(function(At,yt){return yt-At}).filter(function(At,yt,vt){return vt.indexOf(At)===yt}).map(function(At){return dt.filter(function(yt){return yt.priority===At}).sort(function(yt,vt){return vt.subPriority-yt.subPriority})}).map(function(At){return At[0]}),O=ft(e);if(isNaN(O.getTime()))return new Date(NaN);var $=Wa(O,Er(O)),Z={},J=Fu(V),K;try{for(J.s();!(K=J.n()).done;){var pt=K.value;if(!pt.validate($,rt))return new Date(NaN);var Ct=pt.set($,Z,rt);Array.isArray(Ct)?($=Ct[0],gm(Z,Ct[1])):$=Ct}}catch(At){J.e(At)}finally{J.f()}return $}function gL(n){return n.match(hL)[1].replace(fL,"'")}function Hu(n){it(1,arguments);var t=ft(n);return t.setMinutes(0,0,0),t}function Vu(n){it(1,arguments);var t=ft(n);return t.setMilliseconds(0),t}function zu(n,t){var e;it(1,arguments);var i=Bt((e=t?.additionalDigits)!==null&&e!==void 0?e:2);if(i!==2&&i!==1&&i!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof n=="string"||Object.prototype.toString.call(n)==="[object String]"))return new Date(NaN);var r=wL(n),s;if(r.date){var o=xL(r.date,i);s=AL(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,u;if(r.time&&(l=SL(r.time),isNaN(l)))return new Date(NaN);if(r.timezone){if(u=_L(r.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(a+l),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(a+l+u)}var Wu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},vL=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,bL=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,yL=/^([+-])(\d{2})(?::?(\d{2}))?$/;function wL(n){var t={},e=n.split(Wu.dateTimeDelimiter),i;if(e.length>2)return t;if(/:/.test(e[0])?i=e[0]:(t.date=e[0],i=e[1],Wu.timeZoneDelimiter.test(t.date)&&(t.date=n.split(Wu.timeZoneDelimiter)[0],i=n.substr(t.date.length,n.length))),i){var r=Wu.timezone.exec(i);r?(t.time=i.replace(r[1],""),t.timezone=r[1]):t.time=i}return t}function xL(n,t){var e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),i=n.match(e);if(!i)return{year:NaN,restDateString:""};var r=i[1]?parseInt(i[1]):null,s=i[2]?parseInt(i[2]):null;return{year:s===null?r:s*100,restDateString:n.slice((i[1]||i[2]).length)}}function AL(n,t){if(t===null)return new Date(NaN);var e=n.match(vL);if(!e)return new Date(NaN);var i=!!e[4],r=Ja(e[1]),s=Ja(e[2])-1,o=Ja(e[3]),a=Ja(e[4]),l=Ja(e[5])-1;if(i)return OL(t,a,l)?CL(t,a,l):new Date(NaN);var u=new Date(0);return!kL(t,s,o)||!TL(t,r)?new Date(NaN):(u.setUTCFullYear(t,s,Math.max(r,o)),u)}function Ja(n){return n?parseInt(n):1}function SL(n){var t=n.match(bL);if(!t)return NaN;var e=_m(t[1]),i=_m(t[2]),r=_m(t[3]);return DL(e,i,r)?e*os+i*ss+r*1e3:NaN}function _m(n){return n&&parseFloat(n.replace(",","."))||0}function _L(n){if(n==="Z")return 0;var t=n.match(yL);if(!t)return 0;var e=t[1]==="+"?-1:1,i=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;return ML(i,r)?e*(i*os+r*ss):NaN}function CL(n,t,e){var i=new Date(0);i.setUTCFullYear(n,0,4);var r=i.getUTCDay()||7,s=(t-1)*7+e+1-r;return i.setUTCDate(i.getUTCDate()+s),i}var EL=[31,null,31,30,31,30,31,31,30,31,30,31];function C1(n){return n%400===0||n%4===0&&n%100!==0}function kL(n,t,e){return t>=0&&t<=11&&e>=1&&e<=(EL[t]||(C1(n)?29:28))}function TL(n,t){return t>=1&&t<=(C1(n)?366:365)}function OL(n,t,e){return t>=1&&t<=53&&e>=0&&e<=6}function DL(n,t,e){return n===24?t===0&&e===0:e>=0&&e<60&&t>=0&&t<60&&n>=0&&n<25}function ML(n,t){return t>=0&&t<=59}var PL={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};sm._date.override({_id:"date-fns",formats:function(){return PL},parse:function(n,t){if(n===null||typeof n>"u")return null;let e=typeof n;return e==="number"||n instanceof Date?n=ft(n):e==="string"&&(typeof t=="string"?n=$u(n,t,new Date,this.options):n=zu(n,this.options)),wo(n)?n.getTime():null},format:function(n,t){return Ru(n,t,this.options)},add:function(n,t,e){switch(e){case"millisecond":return Kn(n,t);case"second":return hu(n,t);case"minute":return uu(n,t);case"hour":return cu(n,t);case"day":return yo(n,t);case"week":return fu(n,t);case"month":return Cr(n,t);case"quarter":return du(n,t);case"year":return pu(n,t);default:return n}},diff:function(n,t,e){switch(e){case"millisecond":return Ti(n,t);case"second":return bu(n,t);case"minute":return gu(n,t);case"hour":return mu(n,t);case"day":return xo(n,t);case"week":return yu(n,t);case"month":return _o(n,t);case"quarter":return vu(n,t);case"year":return wu(n,t);default:return 0}},startOf:function(n,t,e){switch(t){case"second":return Vu(n);case"minute":return xu(n);case"hour":return Hu(n);case"day":return rs(n);case"week":return Va(n);case"isoWeek":return Va(n,{weekStartsOn:+e});case"month":return Su(n);case"quarter":return Au(n);case"year":return Cu(n);default:return n}},endOf:function(n,t){switch(t){case"second":return Du(n);case"minute":return Tu(n);case"hour":return Eu(n);case"day":return Ao(n);case"week":return ku(n);case"month":return So(n);case"quarter":return Ou(n);case"year":return _u(n);default:return n}}});ie.use(kx);var Cm=class{constructor(t,e,i){this.eventTarget=t,this.eventName=e,this.eventOptions=i,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(t){this.unorderedBindings.add(t)}bindingDisconnected(t){this.unorderedBindings.delete(t)}handleEvent(t){let e=LL(t);for(let i of this.bindings){if(e.immediatePropagationStopped)break;i.handleEvent(e)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((t,e)=>{let i=t.index,r=e.index;return i<r?-1:i>r?1:0})}};function LL(n){if("immediatePropagationStopped"in n)return n;{let{stopImmediatePropagation:t}=n;return Object.assign(n,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,t.call(this)}})}}var Em=class{constructor(t){this.application=t,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(t=>t.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(t=>t.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((t,e)=>t.concat(Array.from(e.values())),[])}bindingConnected(t){this.fetchEventListenerForBinding(t).bindingConnected(t)}bindingDisconnected(t,e=!1){this.fetchEventListenerForBinding(t).bindingDisconnected(t),e&&this.clearEventListenersForBinding(t)}handleError(t,e,i={}){this.application.handleError(t,`Error ${e}`,i)}clearEventListenersForBinding(t){let e=this.fetchEventListenerForBinding(t);e.hasBindings()||(e.disconnect(),this.removeMappedEventListenerFor(t))}removeMappedEventListenerFor(t){let{eventTarget:e,eventName:i,eventOptions:r}=t,s=this.fetchEventListenerMapForEventTarget(e),o=this.cacheKey(i,r);s.delete(o),s.size==0&&this.eventListenerMaps.delete(e)}fetchEventListenerForBinding(t){let{eventTarget:e,eventName:i,eventOptions:r}=t;return this.fetchEventListener(e,i,r)}fetchEventListener(t,e,i){let r=this.fetchEventListenerMapForEventTarget(t),s=this.cacheKey(e,i),o=r.get(s);return o||(o=this.createEventListener(t,e,i),r.set(s,o)),o}createEventListener(t,e,i){let r=new Cm(t,e,i);return this.started&&r.connect(),r}fetchEventListenerMapForEventTarget(t){let e=this.eventListenerMaps.get(t);return e||(e=new Map,this.eventListenerMaps.set(t,e)),e}cacheKey(t,e){let i=[t];return Object.keys(e).sort().forEach(r=>{i.push(`${e[r]?"":"!"}${r}`)}),i.join(":")}},RL={stop({event:n,value:t}){return t&&n.stopPropagation(),!0},prevent({event:n,value:t}){return t&&n.preventDefault(),!0},self({event:n,value:t,element:e}){return t?e===n.target:!0}},IL=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function FL(n){let e=n.trim().match(IL)||[],i=e[2],r=e[3];return r&&!["keydown","keyup","keypress"].includes(i)&&(i+=`.${r}`,r=""),{eventTarget:NL(e[4]),eventName:i,eventOptions:e[7]?BL(e[7]):{},identifier:e[5],methodName:e[6],keyFilter:e[1]||r}}function NL(n){if(n=="window")return window;if(n=="document")return document}function BL(n){return n.split(":").reduce((t,e)=>Object.assign(t,{[e.replace(/^!/,"")]:!/^!/.test(e)}),{})}function jL(n){if(n==window)return"window";if(n==document)return"document"}function Km(n){return n.replace(/(?:[_-])([a-z0-9])/g,(t,e)=>e.toUpperCase())}function km(n){return Km(n.replace(/--/g,"-").replace(/__/g,"_"))}function Za(n){return n.charAt(0).toUpperCase()+n.slice(1)}function I1(n){return n.replace(/([A-Z])/g,(t,e)=>`-${e.toLowerCase()}`)}function $L(n){return n.match(/[^\s]+/g)||[]}function E1(n){return n!=null}function Tm(n,t){return Object.prototype.hasOwnProperty.call(n,t)}var k1=["meta","ctrl","alt","shift"],Om=class{constructor(t,e,i,r){this.element=t,this.index=e,this.eventTarget=i.eventTarget||t,this.eventName=i.eventName||HL(t)||Uu("missing event name"),this.eventOptions=i.eventOptions||{},this.identifier=i.identifier||Uu("missing identifier"),this.methodName=i.methodName||Uu("missing method name"),this.keyFilter=i.keyFilter||"",this.schema=r}static forToken(t,e){return new this(t.element,t.index,FL(t.content),e)}toString(){let t=this.keyFilter?`.${this.keyFilter}`:"",e=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${t}${e}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(t){if(!this.keyFilter)return!1;let e=this.keyFilter.split("+");if(this.keyFilterDissatisfied(t,e))return!0;let i=e.filter(r=>!k1.includes(r))[0];return i?(Tm(this.keyMappings,i)||Uu(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[i].toLowerCase()!==t.key.toLowerCase()):!1}shouldIgnoreMouseEvent(t){if(!this.keyFilter)return!1;let e=[this.keyFilter];return!!this.keyFilterDissatisfied(t,e)}get params(){let t={},e=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(let{name:i,value:r}of Array.from(this.element.attributes)){let s=i.match(e),o=s&&s[1];o&&(t[Km(o)]=VL(r))}return t}get eventTargetName(){return jL(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(t,e){let[i,r,s,o]=k1.map(a=>e.includes(a));return t.metaKey!==i||t.ctrlKey!==r||t.altKey!==s||t.shiftKey!==o}},T1={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:n=>n.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function HL(n){let t=n.tagName.toLowerCase();if(t in T1)return T1[t](n)}function Uu(n){throw new Error(n)}function VL(n){try{return JSON.parse(n)}catch{return n}}var Dm=class{constructor(t,e){this.context=t,this.action=e}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(t){let e=this.prepareActionEvent(t);this.willBeInvokedByEvent(t)&&this.applyEventModifiers(e)&&this.invokeWithEvent(e)}get eventName(){return this.action.eventName}get method(){let t=this.controller[this.methodName];if(typeof t=="function")return t;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(t){let{element:e}=this.action,{actionDescriptorFilters:i}=this.context.application,{controller:r}=this.context,s=!0;for(let[o,a]of Object.entries(this.eventOptions))if(o in i){let l=i[o];s=s&&l({name:o,value:a,event:t,element:e,controller:r})}else continue;return s}prepareActionEvent(t){return Object.assign(t,{params:this.action.params})}invokeWithEvent(t){let{target:e,currentTarget:i}=t;try{this.method.call(this.controller,t),this.context.logDebugActivity(this.methodName,{event:t,target:e,currentTarget:i,action:this.methodName})}catch(r){let{identifier:s,controller:o,element:a,index:l}=this,u={identifier:s,controller:o,element:a,index:l,event:t};this.context.handleError(r,`invoking action "${this.action}"`,u)}}willBeInvokedByEvent(t){let e=t.target;return t instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(t)||t instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(t)?!1:this.element===e?!0:e instanceof Element&&this.element.contains(e)?this.scope.containsElement(e):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}},qu=class{constructor(t,e){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=t,this.started=!1,this.delegate=e,this.elements=new Set,this.mutationObserver=new MutationObserver(i=>this.processMutations(i))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(t){this.started&&(this.mutationObserver.disconnect(),this.started=!1),t(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){let t=new Set(this.matchElementsInTree());for(let e of Array.from(this.elements))t.has(e)||this.removeElement(e);for(let e of Array.from(t))this.addElement(e)}}processMutations(t){if(this.started)for(let e of t)this.processMutation(e)}processMutation(t){t.type=="attributes"?this.processAttributeChange(t.target,t.attributeName):t.type=="childList"&&(this.processRemovedNodes(t.removedNodes),this.processAddedNodes(t.addedNodes))}processAttributeChange(t,e){this.elements.has(t)?this.delegate.elementAttributeChanged&&this.matchElement(t)?this.delegate.elementAttributeChanged(t,e):this.removeElement(t):this.matchElement(t)&&this.addElement(t)}processRemovedNodes(t){for(let e of Array.from(t)){let i=this.elementFromNode(e);i&&this.processTree(i,this.removeElement)}}processAddedNodes(t){for(let e of Array.from(t)){let i=this.elementFromNode(e);i&&this.elementIsActive(i)&&this.processTree(i,this.addElement)}}matchElement(t){return this.delegate.matchElement(t)}matchElementsInTree(t=this.element){return this.delegate.matchElementsInTree(t)}processTree(t,e){for(let i of this.matchElementsInTree(t))e.call(this,i)}elementFromNode(t){if(t.nodeType==Node.ELEMENT_NODE)return t}elementIsActive(t){return t.isConnected!=this.element.isConnected?!1:this.element.contains(t)}addElement(t){this.elements.has(t)||this.elementIsActive(t)&&(this.elements.add(t),this.delegate.elementMatched&&this.delegate.elementMatched(t))}removeElement(t){this.elements.has(t)&&(this.elements.delete(t),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(t))}},Yu=class{constructor(t,e,i){this.attributeName=e,this.delegate=i,this.elementObserver=new qu(t,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(t){this.elementObserver.pause(t)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(t){return t.hasAttribute(this.attributeName)}matchElementsInTree(t){let e=this.matchElement(t)?[t]:[],i=Array.from(t.querySelectorAll(this.selector));return e.concat(i)}elementMatched(t){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(t,this.attributeName)}elementUnmatched(t){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(t,this.attributeName)}elementAttributeChanged(t,e){this.delegate.elementAttributeValueChanged&&this.attributeName==e&&this.delegate.elementAttributeValueChanged(t,e)}};function WL(n,t,e){F1(n,t).add(e)}function zL(n,t,e){F1(n,t).delete(e),UL(n,t)}function F1(n,t){let e=n.get(t);return e||(e=new Set,n.set(t,e)),e}function UL(n,t){let e=n.get(t);e!=null&&e.size==0&&n.delete(t)}var zi=class{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((e,i)=>e.concat(Array.from(i)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((e,i)=>e+i.size,0)}add(t,e){WL(this.valuesByKey,t,e)}delete(t,e){zL(this.valuesByKey,t,e)}has(t,e){let i=this.valuesByKey.get(t);return i!=null&&i.has(e)}hasKey(t){return this.valuesByKey.has(t)}hasValue(t){return Array.from(this.valuesByKey.values()).some(i=>i.has(t))}getValuesForKey(t){let e=this.valuesByKey.get(t);return e?Array.from(e):[]}getKeysForValue(t){return Array.from(this.valuesByKey).filter(([e,i])=>i.has(t)).map(([e,i])=>e)}};var Mm=class{constructor(t,e,i,r){this._selector=e,this.details=r,this.elementObserver=new qu(t,this),this.delegate=i,this.matchesByElement=new zi}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(t){this._selector=t,this.refresh()}start(){this.elementObserver.start()}pause(t){this.elementObserver.pause(t)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(t){let{selector:e}=this;if(e){let i=t.matches(e);return this.delegate.selectorMatchElement?i&&this.delegate.selectorMatchElement(t,this.details):i}else return!1}matchElementsInTree(t){let{selector:e}=this;if(e){let i=this.matchElement(t)?[t]:[],r=Array.from(t.querySelectorAll(e)).filter(s=>this.matchElement(s));return i.concat(r)}else return[]}elementMatched(t){let{selector:e}=this;e&&this.selectorMatched(t,e)}elementUnmatched(t){let e=this.matchesByElement.getKeysForValue(t);for(let i of e)this.selectorUnmatched(t,i)}elementAttributeChanged(t,e){let{selector:i}=this;if(i){let r=this.matchElement(t),s=this.matchesByElement.has(i,t);r&&!s?this.selectorMatched(t,i):!r&&s&&this.selectorUnmatched(t,i)}}selectorMatched(t,e){this.delegate.selectorMatched(t,e,this.details),this.matchesByElement.add(e,t)}selectorUnmatched(t,e){this.delegate.selectorUnmatched(t,e,this.details),this.matchesByElement.delete(e,t)}},Pm=class{constructor(t,e){this.element=t,this.delegate=e,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(i=>this.processMutations(i))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(let t of this.knownAttributeNames)this.refreshAttribute(t,null)}processMutations(t){if(this.started)for(let e of t)this.processMutation(e)}processMutation(t){let e=t.attributeName;e&&this.refreshAttribute(e,t.oldValue)}refreshAttribute(t,e){let i=this.delegate.getStringMapKeyForAttribute(t);if(i!=null){this.stringMap.has(t)||this.stringMapKeyAdded(i,t);let r=this.element.getAttribute(t);if(this.stringMap.get(t)!=r&&this.stringMapValueChanged(r,i,e),r==null){let s=this.stringMap.get(t);this.stringMap.delete(t),s&&this.stringMapKeyRemoved(i,t,s)}else this.stringMap.set(t,r)}}stringMapKeyAdded(t,e){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(t,e)}stringMapValueChanged(t,e,i){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(t,e,i)}stringMapKeyRemoved(t,e,i){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(t,e,i)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(t=>t.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}},Ku=class{constructor(t,e,i){this.attributeObserver=new Yu(t,e,this),this.delegate=i,this.tokensByElement=new zi}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(t){this.attributeObserver.pause(t)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(t){this.tokensMatched(this.readTokensForElement(t))}elementAttributeValueChanged(t){let[e,i]=this.refreshTokensForElement(t);this.tokensUnmatched(e),this.tokensMatched(i)}elementUnmatchedAttribute(t){this.tokensUnmatched(this.tokensByElement.getValuesForKey(t))}tokensMatched(t){t.forEach(e=>this.tokenMatched(e))}tokensUnmatched(t){t.forEach(e=>this.tokenUnmatched(e))}tokenMatched(t){this.delegate.tokenMatched(t),this.tokensByElement.add(t.element,t)}tokenUnmatched(t){this.delegate.tokenUnmatched(t),this.tokensByElement.delete(t.element,t)}refreshTokensForElement(t){let e=this.tokensByElement.getValuesForKey(t),i=this.readTokensForElement(t),r=YL(e,i).findIndex(([s,o])=>!KL(s,o));return r==-1?[[],[]]:[e.slice(r),i.slice(r)]}readTokensForElement(t){let e=this.attributeName,i=t.getAttribute(e)||"";return qL(i,t,e)}};function qL(n,t,e){return n.trim().split(/\s+/).filter(i=>i.length).map((i,r)=>({element:t,attributeName:e,content:i,index:r}))}function YL(n,t){let e=Math.max(n.length,t.length);return Array.from({length:e},(i,r)=>[n[r],t[r]])}function KL(n,t){return n&&t&&n.index==t.index&&n.content==t.content}var Gu=class{constructor(t,e,i){this.tokenListObserver=new Ku(t,e,this),this.delegate=i,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(t){let{element:e}=t,{value:i}=this.fetchParseResultForToken(t);i&&(this.fetchValuesByTokenForElement(e).set(t,i),this.delegate.elementMatchedValue(e,i))}tokenUnmatched(t){let{element:e}=t,{value:i}=this.fetchParseResultForToken(t);i&&(this.fetchValuesByTokenForElement(e).delete(t),this.delegate.elementUnmatchedValue(e,i))}fetchParseResultForToken(t){let e=this.parseResultsByToken.get(t);return e||(e=this.parseToken(t),this.parseResultsByToken.set(t,e)),e}fetchValuesByTokenForElement(t){let e=this.valuesByTokenByElement.get(t);return e||(e=new Map,this.valuesByTokenByElement.set(t,e)),e}parseToken(t){try{return{value:this.delegate.parseValueForToken(t)}}catch(e){return{error:e}}}},Lm=class{constructor(t,e){this.context=t,this.delegate=e,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new Gu(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(t){let e=new Dm(this.context,t);this.bindingsByAction.set(t,e),this.delegate.bindingConnected(e)}disconnectAction(t){let e=this.bindingsByAction.get(t);e&&(this.bindingsByAction.delete(t),this.delegate.bindingDisconnected(e))}disconnectAllActions(){this.bindings.forEach(t=>this.delegate.bindingDisconnected(t,!0)),this.bindingsByAction.clear()}parseValueForToken(t){let e=Om.forToken(t,this.schema);if(e.identifier==this.identifier)return e}elementMatchedValue(t,e){this.connectAction(e)}elementUnmatchedValue(t,e){this.disconnectAction(e)}},Rm=class{constructor(t,e){this.context=t,this.receiver=e,this.stringMapObserver=new Pm(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(t){if(t in this.valueDescriptorMap)return this.valueDescriptorMap[t].name}stringMapKeyAdded(t,e){let i=this.valueDescriptorMap[e];this.hasValue(t)||this.invokeChangedCallback(t,i.writer(this.receiver[t]),i.writer(i.defaultValue))}stringMapValueChanged(t,e,i){let r=this.valueDescriptorNameMap[e];t!==null&&(i===null&&(i=r.writer(r.defaultValue)),this.invokeChangedCallback(e,t,i))}stringMapKeyRemoved(t,e,i){let r=this.valueDescriptorNameMap[t];this.hasValue(t)?this.invokeChangedCallback(t,r.writer(this.receiver[t]),i):this.invokeChangedCallback(t,r.writer(r.defaultValue),i)}invokeChangedCallbacksForDefaultValues(){for(let{key:t,name:e,defaultValue:i,writer:r}of this.valueDescriptors)i!=null&&!this.controller.data.has(t)&&this.invokeChangedCallback(e,r(i),void 0)}invokeChangedCallback(t,e,i){let r=`${t}Changed`,s=this.receiver[r];if(typeof s=="function"){let o=this.valueDescriptorNameMap[t];try{let a=o.reader(e),l=i;i&&(l=o.reader(i)),s.call(this.receiver,a,l)}catch(a){throw a instanceof TypeError&&(a.message=`Stimulus Value "${this.context.identifier}.${o.name}" - ${a.message}`),a}}}get valueDescriptors(){let{valueDescriptorMap:t}=this;return Object.keys(t).map(e=>t[e])}get valueDescriptorNameMap(){let t={};return Object.keys(this.valueDescriptorMap).forEach(e=>{let i=this.valueDescriptorMap[e];t[i.name]=i}),t}hasValue(t){let e=this.valueDescriptorNameMap[t],i=`has${Za(e.name)}`;return this.receiver[i]}},Im=class{constructor(t,e){this.context=t,this.delegate=e,this.targetsByName=new zi}start(){this.tokenListObserver||(this.tokenListObserver=new Ku(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:t,content:e}){this.scope.containsElement(t)&&this.connectTarget(t,e)}tokenUnmatched({element:t,content:e}){this.disconnectTarget(t,e)}connectTarget(t,e){var i;this.targetsByName.has(e,t)||(this.targetsByName.add(e,t),(i=this.tokenListObserver)===null||i===void 0||i.pause(()=>this.delegate.targetConnected(t,e)))}disconnectTarget(t,e){var i;this.targetsByName.has(e,t)&&(this.targetsByName.delete(e,t),(i=this.tokenListObserver)===null||i===void 0||i.pause(()=>this.delegate.targetDisconnected(t,e)))}disconnectAllTargets(){for(let t of this.targetsByName.keys)for(let e of this.targetsByName.getValuesForKey(t))this.disconnectTarget(e,t)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}};function tl(n,t){let e=N1(n);return Array.from(e.reduce((i,r)=>(XL(r,t).forEach(s=>i.add(s)),i),new Set))}function GL(n,t){return N1(n).reduce((i,r)=>(i.push(...JL(r,t)),i),[])}function N1(n){let t=[];for(;n;)t.push(n),n=Object.getPrototypeOf(n);return t.reverse()}function XL(n,t){let e=n[t];return Array.isArray(e)?e:[]}function JL(n,t){let e=n[t];return e?Object.keys(e).map(i=>[i,e[i]]):[]}var Fm=class{constructor(t,e){this.started=!1,this.context=t,this.delegate=e,this.outletsByName=new zi,this.outletElementsByName=new zi,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(t=>{this.setupSelectorObserverForOutlet(t),this.setupAttributeObserverForOutlet(t)}),this.started=!0,this.dependentContexts.forEach(t=>t.refresh()))}refresh(){this.selectorObserverMap.forEach(t=>t.refresh()),this.attributeObserverMap.forEach(t=>t.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(t=>t.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(t=>t.stop()),this.attributeObserverMap.clear())}selectorMatched(t,e,{outletName:i}){let r=this.getOutlet(t,i);r&&this.connectOutlet(r,t,i)}selectorUnmatched(t,e,{outletName:i}){let r=this.getOutletFromMap(t,i);r&&this.disconnectOutlet(r,t,i)}selectorMatchElement(t,{outletName:e}){let i=this.selector(e),r=this.hasOutlet(t,e),s=t.matches(`[${this.schema.controllerAttribute}~=${e}]`);return i?r&&s&&t.matches(i):!1}elementMatchedAttribute(t,e){let i=this.getOutletNameFromOutletAttributeName(e);i&&this.updateSelectorObserverForOutlet(i)}elementAttributeValueChanged(t,e){let i=this.getOutletNameFromOutletAttributeName(e);i&&this.updateSelectorObserverForOutlet(i)}elementUnmatchedAttribute(t,e){let i=this.getOutletNameFromOutletAttributeName(e);i&&this.updateSelectorObserverForOutlet(i)}connectOutlet(t,e,i){var r;this.outletElementsByName.has(i,e)||(this.outletsByName.add(i,t),this.outletElementsByName.add(i,e),(r=this.selectorObserverMap.get(i))===null||r===void 0||r.pause(()=>this.delegate.outletConnected(t,e,i)))}disconnectOutlet(t,e,i){var r;this.outletElementsByName.has(i,e)&&(this.outletsByName.delete(i,t),this.outletElementsByName.delete(i,e),(r=this.selectorObserverMap.get(i))===null||r===void 0||r.pause(()=>this.delegate.outletDisconnected(t,e,i)))}disconnectAllOutlets(){for(let t of this.outletElementsByName.keys)for(let e of this.outletElementsByName.getValuesForKey(t))for(let i of this.outletsByName.getValuesForKey(t))this.disconnectOutlet(i,e,t)}updateSelectorObserverForOutlet(t){let e=this.selectorObserverMap.get(t);e&&(e.selector=this.selector(t))}setupSelectorObserverForOutlet(t){let e=this.selector(t),i=new Mm(document.body,e,this,{outletName:t});this.selectorObserverMap.set(t,i),i.start()}setupAttributeObserverForOutlet(t){let e=this.attributeNameForOutletName(t),i=new Yu(this.scope.element,e,this);this.attributeObserverMap.set(t,i),i.start()}selector(t){return this.scope.outlets.getSelectorForOutletName(t)}attributeNameForOutletName(t){return this.scope.schema.outletAttributeForScope(this.identifier,t)}getOutletNameFromOutletAttributeName(t){return this.outletDefinitions.find(e=>this.attributeNameForOutletName(e)===t)}get outletDependencies(){let t=new zi;return this.router.modules.forEach(e=>{let i=e.definition.controllerConstructor;tl(i,"outlets").forEach(s=>t.add(s,e.identifier))}),t}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){let t=this.dependentControllerIdentifiers;return this.router.contexts.filter(e=>t.includes(e.identifier))}hasOutlet(t,e){return!!this.getOutlet(t,e)||!!this.getOutletFromMap(t,e)}getOutlet(t,e){return this.application.getControllerForElementAndIdentifier(t,e)}getOutletFromMap(t,e){return this.outletsByName.getValuesForKey(e).find(i=>i.element===t)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}},Nm=class{constructor(t,e){this.logDebugActivity=(i,r={})=>{let{identifier:s,controller:o,element:a}=this;r=Object.assign({identifier:s,controller:o,element:a},r),this.application.logDebugActivity(this.identifier,i,r)},this.module=t,this.scope=e,this.controller=new t.controllerConstructor(this),this.bindingObserver=new Lm(this,this.dispatcher),this.valueObserver=new Rm(this,this.controller),this.targetObserver=new Im(this,this),this.outletObserver=new Fm(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(i){this.handleError(i,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(t){this.handleError(t,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(t){this.handleError(t,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(t,e,i={}){let{identifier:r,controller:s,element:o}=this;i=Object.assign({identifier:r,controller:s,element:o},i),this.application.handleError(t,`Error ${e}`,i)}targetConnected(t,e){this.invokeControllerMethod(`${e}TargetConnected`,t)}targetDisconnected(t,e){this.invokeControllerMethod(`${e}TargetDisconnected`,t)}outletConnected(t,e,i){this.invokeControllerMethod(`${km(i)}OutletConnected`,t,e)}outletDisconnected(t,e,i){this.invokeControllerMethod(`${km(i)}OutletDisconnected`,t,e)}invokeControllerMethod(t,...e){let i=this.controller;typeof i[t]=="function"&&i[t](...e)}};function QL(n){return ZL(n,t2(n))}function ZL(n,t){let e=r2(n),i=e2(n.prototype,t);return Object.defineProperties(e.prototype,i),e}function t2(n){return tl(n,"blessings").reduce((e,i)=>{let r=i(n);for(let s in r){let o=e[s]||{};e[s]=Object.assign(o,r[s])}return e},{})}function e2(n,t){return i2(t).reduce((e,i)=>{let r=n2(n,t,i);return r&&Object.assign(e,{[i]:r}),e},{})}function n2(n,t,e){let i=Object.getOwnPropertyDescriptor(n,e);if(!(i&&"value"in i)){let s=Object.getOwnPropertyDescriptor(t,e).value;return i&&(s.get=i.get||s.get,s.set=i.set||s.set),s}}var i2=typeof Object.getOwnPropertySymbols=="function"?n=>[...Object.getOwnPropertyNames(n),...Object.getOwnPropertySymbols(n)]:Object.getOwnPropertyNames,r2=(()=>{function n(e){function i(){return Reflect.construct(e,arguments,new.target)}return i.prototype=Object.create(e.prototype,{constructor:{value:i}}),Reflect.setPrototypeOf(i,e),i}function t(){let i=n(function(){this.a.call(this)});return i.prototype.a=function(){},new i}try{return t(),n}catch{return i=>class extends i{}}})();function s2(n){return{identifier:n.identifier,controllerConstructor:QL(n.controllerConstructor)}}var Bm=class{constructor(t,e){this.application=t,this.definition=s2(e),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(t){let e=this.fetchContextForScope(t);this.connectedContexts.add(e),e.connect()}disconnectContextForScope(t){let e=this.contextsByScope.get(t);e&&(this.connectedContexts.delete(e),e.disconnect())}fetchContextForScope(t){let e=this.contextsByScope.get(t);return e||(e=new Nm(this,t),this.contextsByScope.set(t,e)),e}},jm=class{constructor(t){this.scope=t}has(t){return this.data.has(this.getDataKey(t))}get(t){return this.getAll(t)[0]}getAll(t){let e=this.data.get(this.getDataKey(t))||"";return $L(e)}getAttributeName(t){return this.data.getAttributeNameForKey(this.getDataKey(t))}getDataKey(t){return`${t}-class`}get data(){return this.scope.data}},$m=class{constructor(t){this.scope=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(t){let e=this.getAttributeNameForKey(t);return this.element.getAttribute(e)}set(t,e){let i=this.getAttributeNameForKey(t);return this.element.setAttribute(i,e),this.get(t)}has(t){let e=this.getAttributeNameForKey(t);return this.element.hasAttribute(e)}delete(t){if(this.has(t)){let e=this.getAttributeNameForKey(t);return this.element.removeAttribute(e),!0}else return!1}getAttributeNameForKey(t){return`data-${this.identifier}-${I1(t)}`}},Hm=class{constructor(t){this.warnedKeysByObject=new WeakMap,this.logger=t}warn(t,e,i){let r=this.warnedKeysByObject.get(t);r||(r=new Set,this.warnedKeysByObject.set(t,r)),r.has(e)||(r.add(e),this.logger.warn(i,t))}};function Vm(n,t){return`[${n}~="${t}"]`}var Wm=class{constructor(t){this.scope=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(t){return this.find(t)!=null}find(...t){return t.reduce((e,i)=>e||this.findTarget(i)||this.findLegacyTarget(i),void 0)}findAll(...t){return t.reduce((e,i)=>[...e,...this.findAllTargets(i),...this.findAllLegacyTargets(i)],[])}findTarget(t){let e=this.getSelectorForTargetName(t);return this.scope.findElement(e)}findAllTargets(t){let e=this.getSelectorForTargetName(t);return this.scope.findAllElements(e)}getSelectorForTargetName(t){let e=this.schema.targetAttributeForScope(this.identifier);return Vm(e,t)}findLegacyTarget(t){let e=this.getLegacySelectorForTargetName(t);return this.deprecate(this.scope.findElement(e),t)}findAllLegacyTargets(t){let e=this.getLegacySelectorForTargetName(t);return this.scope.findAllElements(e).map(i=>this.deprecate(i,t))}getLegacySelectorForTargetName(t){let e=`${this.identifier}.${t}`;return Vm(this.schema.targetAttribute,e)}deprecate(t,e){if(t){let{identifier:i}=this,r=this.schema.targetAttribute,s=this.schema.targetAttributeForScope(i);this.guide.warn(t,`target:${e}`,`Please replace ${r}="${i}.${e}" with ${s}="${e}". The ${r} attribute is deprecated and will be removed in a future version of Stimulus.`)}return t}get guide(){return this.scope.guide}},zm=class{constructor(t,e){this.scope=t,this.controllerElement=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(t){return this.find(t)!=null}find(...t){return t.reduce((e,i)=>e||this.findOutlet(i),void 0)}findAll(...t){return t.reduce((e,i)=>[...e,...this.findAllOutlets(i)],[])}getSelectorForOutletName(t){let e=this.schema.outletAttributeForScope(this.identifier,t);return this.controllerElement.getAttribute(e)}findOutlet(t){let e=this.getSelectorForOutletName(t);if(e)return this.findElement(e,t)}findAllOutlets(t){let e=this.getSelectorForOutletName(t);return e?this.findAllElements(e,t):[]}findElement(t,e){return this.scope.queryElements(t).filter(r=>this.matchesElement(r,t,e))[0]}findAllElements(t,e){return this.scope.queryElements(t).filter(r=>this.matchesElement(r,t,e))}matchesElement(t,e,i){let r=t.getAttribute(this.scope.schema.controllerAttribute)||"";return t.matches(e)&&r.split(" ").includes(i)}},Um=class n{constructor(t,e,i,r){this.targets=new Wm(this),this.classes=new jm(this),this.data=new $m(this),this.containsElement=s=>s.closest(this.controllerSelector)===this.element,this.schema=t,this.element=e,this.identifier=i,this.guide=new Hm(r),this.outlets=new zm(this.documentScope,e)}findElement(t){return this.element.matches(t)?this.element:this.queryElements(t).find(this.containsElement)}findAllElements(t){return[...this.element.matches(t)?[this.element]:[],...this.queryElements(t).filter(this.containsElement)]}queryElements(t){return Array.from(this.element.querySelectorAll(t))}get controllerSelector(){return Vm(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new n(this.schema,document.documentElement,this.identifier,this.guide.logger)}},qm=class{constructor(t,e,i){this.element=t,this.schema=e,this.delegate=i,this.valueListObserver=new Gu(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(t){let{element:e,content:i}=t;return this.parseValueForElementAndIdentifier(e,i)}parseValueForElementAndIdentifier(t,e){let i=this.fetchScopesByIdentifierForElement(t),r=i.get(e);return r||(r=this.delegate.createScopeForElementAndIdentifier(t,e),i.set(e,r)),r}elementMatchedValue(t,e){let i=(this.scopeReferenceCounts.get(e)||0)+1;this.scopeReferenceCounts.set(e,i),i==1&&this.delegate.scopeConnected(e)}elementUnmatchedValue(t,e){let i=this.scopeReferenceCounts.get(e);i&&(this.scopeReferenceCounts.set(e,i-1),i==1&&this.delegate.scopeDisconnected(e))}fetchScopesByIdentifierForElement(t){let e=this.scopesByIdentifierByElement.get(t);return e||(e=new Map,this.scopesByIdentifierByElement.set(t,e)),e}},Ym=class{constructor(t){this.application=t,this.scopeObserver=new qm(this.element,this.schema,this),this.scopesByIdentifier=new zi,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((t,e)=>t.concat(e.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(t){this.unloadIdentifier(t.identifier);let e=new Bm(this.application,t);this.connectModule(e);let i=t.controllerConstructor.afterLoad;i&&i.call(t.controllerConstructor,t.identifier,this.application)}unloadIdentifier(t){let e=this.modulesByIdentifier.get(t);e&&this.disconnectModule(e)}getContextForElementAndIdentifier(t,e){let i=this.modulesByIdentifier.get(e);if(i)return i.contexts.find(r=>r.element==t)}proposeToConnectScopeForElementAndIdentifier(t,e){let i=this.scopeObserver.parseValueForElementAndIdentifier(t,e);i?this.scopeObserver.elementMatchedValue(i.element,i):console.error(`Couldn't find or create scope for identifier: "${e}" and element:`,t)}handleError(t,e,i){this.application.handleError(t,e,i)}createScopeForElementAndIdentifier(t,e){return new Um(this.schema,t,e,this.logger)}scopeConnected(t){this.scopesByIdentifier.add(t.identifier,t);let e=this.modulesByIdentifier.get(t.identifier);e&&e.connectContextForScope(t)}scopeDisconnected(t){this.scopesByIdentifier.delete(t.identifier,t);let e=this.modulesByIdentifier.get(t.identifier);e&&e.disconnectContextForScope(t)}connectModule(t){this.modulesByIdentifier.set(t.identifier,t),this.scopesByIdentifier.getValuesForKey(t.identifier).forEach(i=>t.connectContextForScope(i))}disconnectModule(t){this.modulesByIdentifier.delete(t.identifier),this.scopesByIdentifier.getValuesForKey(t.identifier).forEach(i=>t.disconnectContextForScope(i))}},o2={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:n=>`data-${n}-target`,outletAttributeForScope:(n,t)=>`data-${n}-${t}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},O1("abcdefghijklmnopqrstuvwxyz".split("").map(n=>[n,n]))),O1("0123456789".split("").map(n=>[n,n])))};function O1(n){return n.reduce((t,[e,i])=>Object.assign(Object.assign({},t),{[e]:i}),{})}var Xu=class{constructor(t=document.documentElement,e=o2){this.logger=console,this.debug=!1,this.logDebugActivity=(i,r,s={})=>{this.debug&&this.logFormattedMessage(i,r,s)},this.element=t,this.schema=e,this.dispatcher=new Em(this),this.router=new Ym(this),this.actionDescriptorFilters=Object.assign({},RL)}static start(t,e){let i=new this(t,e);return i.start(),i}async start(){await a2(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(t,e){this.load({identifier:t,controllerConstructor:e})}registerActionOption(t,e){this.actionDescriptorFilters[t]=e}load(t,...e){(Array.isArray(t)?t:[t,...e]).forEach(r=>{r.controllerConstructor.shouldLoad&&this.router.loadDefinition(r)})}unload(t,...e){(Array.isArray(t)?t:[t,...e]).forEach(r=>this.router.unloadIdentifier(r))}get controllers(){return this.router.contexts.map(t=>t.controller)}getControllerForElementAndIdentifier(t,e){let i=this.router.getContextForElementAndIdentifier(t,e);return i?i.controller:null}handleError(t,e,i){var r;this.logger.error(`%s

%o

%o`,e,t,i),(r=window.onerror)===null||r===void 0||r.call(window,e,"",0,0,t)}logFormattedMessage(t,e,i={}){i=Object.assign({application:this},i),this.logger.groupCollapsed(`${t} #${e}`),this.logger.log("details:",Object.assign({},i)),this.logger.groupEnd()}};function a2(){return new Promise(n=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>n()):n()})}function l2(n){return tl(n,"classes").reduce((e,i)=>Object.assign(e,c2(i)),{})}function c2(n){return{[`${n}Class`]:{get(){let{classes:t}=this;if(t.has(n))return t.get(n);{let e=t.getAttributeName(n);throw new Error(`Missing attribute "${e}"`)}}},[`${n}Classes`]:{get(){return this.classes.getAll(n)}},[`has${Za(n)}Class`]:{get(){return this.classes.has(n)}}}}function u2(n){return tl(n,"outlets").reduce((e,i)=>Object.assign(e,d2(i)),{})}function D1(n,t,e){return n.application.getControllerForElementAndIdentifier(t,e)}function M1(n,t,e){let i=D1(n,t,e);if(i||(n.application.router.proposeToConnectScopeForElementAndIdentifier(t,e),i=D1(n,t,e),i))return i}function d2(n){let t=km(n);return{[`${t}Outlet`]:{get(){let e=this.outlets.find(n),i=this.outlets.getSelectorForOutletName(n);if(e){let r=M1(this,e,n);if(r)return r;throw new Error(`The provided outlet element is missing an outlet controller "${n}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${n}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${i}".`)}},[`${t}Outlets`]:{get(){let e=this.outlets.findAll(n);return e.length>0?e.map(i=>{let r=M1(this,i,n);if(r)return r;console.warn(`The provided outlet element is missing an outlet controller "${n}" instance for host controller "${this.identifier}"`,i)}).filter(i=>i):[]}},[`${t}OutletElement`]:{get(){let e=this.outlets.find(n),i=this.outlets.getSelectorForOutletName(n);if(e)return e;throw new Error(`Missing outlet element "${n}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${i}".`)}},[`${t}OutletElements`]:{get(){return this.outlets.findAll(n)}},[`has${Za(t)}Outlet`]:{get(){return this.outlets.has(n)}}}}function h2(n){return tl(n,"targets").reduce((e,i)=>Object.assign(e,f2(i)),{})}function f2(n){return{[`${n}Target`]:{get(){let t=this.targets.find(n);if(t)return t;throw new Error(`Missing target element "${n}" for "${this.identifier}" controller`)}},[`${n}Targets`]:{get(){return this.targets.findAll(n)}},[`has${Za(n)}Target`]:{get(){return this.targets.has(n)}}}}function p2(n){let t=GL(n,"values"),e={valueDescriptorMap:{get(){return t.reduce((i,r)=>{let s=B1(r,this.identifier),o=this.data.getAttributeNameForKey(s.key);return Object.assign(i,{[o]:s})},{})}}};return t.reduce((i,r)=>Object.assign(i,m2(r)),e)}function m2(n,t){let e=B1(n,t),{key:i,name:r,reader:s,writer:o}=e;return{[r]:{get(){let a=this.data.get(i);return a!==null?s(a):e.defaultValue},set(a){a===void 0?this.data.delete(i):this.data.set(i,o(a))}},[`has${Za(r)}`]:{get(){return this.data.has(i)||e.hasCustomDefaultValue}}}}function B1([n,t],e){return y2({controller:e,token:n,typeDefinition:t})}function Ju(n){switch(n){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function Qa(n){switch(typeof n){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(n))return"array";if(Object.prototype.toString.call(n)==="[object Object]")return"object"}function g2(n){let{controller:t,token:e,typeObject:i}=n,r=E1(i.type),s=E1(i.default),o=r&&s,a=r&&!s,l=!r&&s,u=Ju(i.type),c=Qa(n.typeObject.default);if(a)return u;if(l)return c;if(u!==c){let d=t?`${t}.${e}`:e;throw new Error(`The specified default value for the Stimulus Value "${d}" must match the defined type "${u}". The provided default value of "${i.default}" is of type "${c}".`)}if(o)return u}function v2(n){let{controller:t,token:e,typeDefinition:i}=n,s=g2({controller:t,token:e,typeObject:i}),o=Qa(i),a=Ju(i),l=s||o||a;if(l)return l;let u=t?`${t}.${i}`:e;throw new Error(`Unknown value type "${u}" for "${e}" value`)}function b2(n){let t=Ju(n);if(t)return P1[t];let e=Tm(n,"default"),i=Tm(n,"type"),r=n;if(e)return r.default;if(i){let{type:s}=r,o=Ju(s);if(o)return P1[o]}return n}function y2(n){let{token:t,typeDefinition:e}=n,i=`${I1(t)}-value`,r=v2(n);return{type:r,key:i,name:Km(i),get defaultValue(){return b2(e)},get hasCustomDefaultValue(){return Qa(e)!==void 0},reader:w2[r],writer:L1[r]||L1.default}}var P1={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},w2={array(n){let t=JSON.parse(n);if(!Array.isArray(t))throw new TypeError(`expected value of type "array" but instead got value "${n}" of type "${Qa(t)}"`);return t},boolean(n){return!(n=="0"||String(n).toLowerCase()=="false")},number(n){return Number(n.replace(/_/g,""))},object(n){let t=JSON.parse(n);if(t===null||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected value of type "object" but instead got value "${n}" of type "${Qa(t)}"`);return t},string(n){return n}},L1={default:x2,array:R1,object:R1};function R1(n){return JSON.stringify(n)}function x2(n){return`${n}`}var gt=class{constructor(t){this.context=t}static get shouldLoad(){return!0}static afterLoad(t,e){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(t,{target:e=this.element,detail:i={},prefix:r=this.identifier,bubbles:s=!0,cancelable:o=!0}={}){let a=r?`${r}:${t}`:t,l=new CustomEvent(a,{detail:i,bubbles:s,cancelable:o});return e.dispatchEvent(l),l}};gt.blessings=[l2,h2,p2,u2];gt.targets=[];gt.outlets=[];gt.values={};var Qn=Xu.start();Qn.debug=!1;window.Stimulus=Qn;var eg={};de(eg,{default:()=>tg});var Zu={logger:typeof console<"u"?console:void 0,WebSocket:typeof WebSocket<"u"?WebSocket:void 0},Re={log(...n){this.enabled&&(n.push(Date.now()),Zu.logger.log("[ActionCable]",...n))}},nl=()=>new Date().getTime(),Qu=n=>(nl()-n)/1e3,il=class{constructor(t){this.visibilityDidChange=this.visibilityDidChange.bind(this),this.connection=t,this.reconnectAttempts=0}start(){this.isRunning()||(this.startedAt=nl(),delete this.stoppedAt,this.startPolling(),addEventListener("visibilitychange",this.visibilityDidChange),Re.log(`ConnectionMonitor started. stale threshold = ${this.constructor.staleThreshold} s`))}stop(){this.isRunning()&&(this.stoppedAt=nl(),this.stopPolling(),removeEventListener("visibilitychange",this.visibilityDidChange),Re.log("ConnectionMonitor stopped"))}isRunning(){return this.startedAt&&!this.stoppedAt}recordPing(){this.pingedAt=nl()}recordConnect(){this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,Re.log("ConnectionMonitor recorded connect")}recordDisconnect(){this.disconnectedAt=nl(),Re.log("ConnectionMonitor recorded disconnect")}startPolling(){this.stopPolling(),this.poll()}stopPolling(){clearTimeout(this.pollTimeout)}poll(){this.pollTimeout=setTimeout(()=>{this.reconnectIfStale(),this.poll()},this.getPollInterval())}getPollInterval(){let{staleThreshold:t,reconnectionBackoffRate:e}=this.constructor,i=Math.pow(1+e,Math.min(this.reconnectAttempts,10)),s=(this.reconnectAttempts===0?1:e)*Math.random();return t*1e3*i*(1+s)}reconnectIfStale(){this.connectionIsStale()&&(Re.log(`ConnectionMonitor detected stale connection. reconnectAttempts = ${this.reconnectAttempts}, time stale = ${Qu(this.refreshedAt)} s, stale threshold = ${this.constructor.staleThreshold} s`),this.reconnectAttempts++,this.disconnectedRecently()?Re.log(`ConnectionMonitor skipping reopening recent disconnect. time disconnected = ${Qu(this.disconnectedAt)} s`):(Re.log("ConnectionMonitor reopening"),this.connection.reopen()))}get refreshedAt(){return this.pingedAt?this.pingedAt:this.startedAt}connectionIsStale(){return Qu(this.refreshedAt)>this.constructor.staleThreshold}disconnectedRecently(){return this.disconnectedAt&&Qu(this.disconnectedAt)<this.constructor.staleThreshold}visibilityDidChange(){document.visibilityState==="visible"&&setTimeout(()=>{(this.connectionIsStale()||!this.connection.isOpen())&&(Re.log(`ConnectionMonitor reopening stale connection on visibilitychange. visibilityState = ${document.visibilityState}`),this.connection.reopen())},200)}};il.staleThreshold=6;il.reconnectionBackoffRate=.15;var $1={message_types:{welcome:"welcome",disconnect:"disconnect",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},disconnect_reasons:{unauthorized:"unauthorized",invalid_request:"invalid_request",server_restart:"server_restart",remote:"remote"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},{message_types:el,protocols:Gm}=$1,A2=Gm.slice(0,Gm.length-1),j1=[].indexOf,rl=class{constructor(t){this.open=this.open.bind(this),this.consumer=t,this.subscriptions=this.consumer.subscriptions,this.monitor=new il(this),this.disconnected=!0}send(t){return this.isOpen()?(this.webSocket.send(JSON.stringify(t)),!0):!1}open(){if(this.isActive())return Re.log(`Attempted to open WebSocket, but existing socket is ${this.getState()}`),!1;{let t=[...Gm,...this.consumer.subprotocols||[]];return Re.log(`Opening WebSocket, current state is ${this.getState()}, subprotocols: ${t}`),this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new Zu.WebSocket(this.consumer.url,t),this.installEventHandlers(),this.monitor.start(),!0}}close({allowReconnect:t}={allowReconnect:!0}){if(t||this.monitor.stop(),this.isOpen())return this.webSocket.close()}reopen(){if(Re.log(`Reopening WebSocket, current state is ${this.getState()}`),this.isActive())try{return this.close()}catch(t){Re.log("Failed to reopen WebSocket",t)}finally{Re.log(`Reopening WebSocket in ${this.constructor.reopenDelay}ms`),setTimeout(this.open,this.constructor.reopenDelay)}else return this.open()}getProtocol(){if(this.webSocket)return this.webSocket.protocol}isOpen(){return this.isState("open")}isActive(){return this.isState("open","connecting")}triedToReconnect(){return this.monitor.reconnectAttempts>0}isProtocolSupported(){return j1.call(A2,this.getProtocol())>=0}isState(...t){return j1.call(t,this.getState())>=0}getState(){if(this.webSocket){for(let t in Zu.WebSocket)if(Zu.WebSocket[t]===this.webSocket.readyState)return t.toLowerCase()}return null}installEventHandlers(){for(let t in this.events){let e=this.events[t].bind(this);this.webSocket[`on${t}`]=e}}uninstallEventHandlers(){for(let t in this.events)this.webSocket[`on${t}`]=function(){}}};rl.reopenDelay=500;rl.prototype.events={message(n){if(!this.isProtocolSupported())return;let{identifier:t,message:e,reason:i,reconnect:r,type:s}=JSON.parse(n.data);switch(s){case el.welcome:return this.triedToReconnect()&&(this.reconnectAttempted=!0),this.monitor.recordConnect(),this.subscriptions.reload();case el.disconnect:return Re.log(`Disconnecting. Reason: ${i}`),this.close({allowReconnect:r});case el.ping:return this.monitor.recordPing();case el.confirmation:return this.subscriptions.confirmSubscription(t),this.reconnectAttempted?(this.reconnectAttempted=!1,this.subscriptions.notify(t,"connected",{reconnected:!0})):this.subscriptions.notify(t,"connected",{reconnected:!1});case el.rejection:return this.subscriptions.reject(t);default:return this.subscriptions.notify(t,"received",e)}},open(){if(Re.log(`WebSocket onopen event, using '${this.getProtocol()}' subprotocol`),this.disconnected=!1,!this.isProtocolSupported())return Re.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close(n){if(Re.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error(){Re.log("WebSocket onerror event")}};var S2=function(n,t){if(t!=null)for(let e in t){let i=t[e];n[e]=i}return n},Xm=class{constructor(t,e={},i){this.consumer=t,this.identifier=JSON.stringify(e),S2(this,i)}perform(t,e={}){return e.action=t,this.send(e)}send(t){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(t)})}unsubscribe(){return this.consumer.subscriptions.remove(this)}},Jm=class{constructor(t){this.subscriptions=t,this.pendingSubscriptions=[]}guarantee(t){this.pendingSubscriptions.indexOf(t)==-1?(Re.log(`SubscriptionGuarantor guaranteeing ${t.identifier}`),this.pendingSubscriptions.push(t)):Re.log(`SubscriptionGuarantor already guaranteeing ${t.identifier}`),this.startGuaranteeing()}forget(t){Re.log(`SubscriptionGuarantor forgetting ${t.identifier}`),this.pendingSubscriptions=this.pendingSubscriptions.filter(e=>e!==t)}startGuaranteeing(){this.stopGuaranteeing(),this.retrySubscribing()}stopGuaranteeing(){clearTimeout(this.retryTimeout)}retrySubscribing(){this.retryTimeout=setTimeout(()=>{this.subscriptions&&typeof this.subscriptions.subscribe=="function"&&this.pendingSubscriptions.map(t=>{Re.log(`SubscriptionGuarantor resubscribing ${t.identifier}`),this.subscriptions.subscribe(t)})},500)}},Qm=class{constructor(t){this.consumer=t,this.guarantor=new Jm(this),this.subscriptions=[]}create(t,e){let i=t,r=typeof i=="object"?i:{channel:i},s=new Xm(this.consumer,r,e);return this.add(s)}add(t){return this.subscriptions.push(t),this.consumer.ensureActiveConnection(),this.notify(t,"initialized"),this.subscribe(t),t}remove(t){return this.forget(t),this.findAll(t.identifier).length||this.sendCommand(t,"unsubscribe"),t}reject(t){return this.findAll(t).map(e=>(this.forget(e),this.notify(e,"rejected"),e))}forget(t){return this.guarantor.forget(t),this.subscriptions=this.subscriptions.filter(e=>e!==t),t}findAll(t){return this.subscriptions.filter(e=>e.identifier===t)}reload(){return this.subscriptions.map(t=>this.subscribe(t))}notifyAll(t,...e){return this.subscriptions.map(i=>this.notify(i,t,...e))}notify(t,e,...i){let r;return typeof t=="string"?r=this.findAll(t):r=[t],r.map(s=>typeof s[e]=="function"?s[e](...i):void 0)}subscribe(t){this.sendCommand(t,"subscribe")&&this.guarantor.guarantee(t)}confirmSubscription(t){Re.log(`Subscription confirmed ${t}`),this.findAll(t).map(e=>this.guarantor.forget(e))}sendCommand(t,e){let{identifier:i}=t;return this.consumer.send({command:e,identifier:i})}},Zm=class{constructor(t){this._url=t,this.subscriptions=new Qm(this),this.connection=new rl(this),this.subprotocols=[]}get url(){return _2(this._url)}send(t){return this.connection.send(t)}connect(){return this.connection.open()}disconnect(){return this.connection.close({allowReconnect:!1})}ensureActiveConnection(){if(!this.connection.isActive())return this.connection.open()}addSubProtocol(t){this.subprotocols=[...this.subprotocols,t]}};function _2(n){if(typeof n=="function"&&(n=n()),n&&!/^wss?:/i.test(n)){let t=document.createElement("a");return t.href=n,t.href=t.href,t.protocol=t.protocol.replace("http","ws"),t.href}else return n}function H1(n=C2("url")||$1.default_mount_path){return new Zm(n)}function C2(n){let t=document.head.querySelector(`meta[name='action-cable-${n}']`);if(t)return t.getAttribute("content")}var sl=H1();var tg=class extends gt{reconnect(n){sl.connection.isActive()&&sl.connection.reopen()}};var ig={};de(ig,{default:()=>ng});var ng=class extends gt{connect(){this.autogrow()}autogrow(){this.element.style.height="auto",this.element.style.height=`${this.element.scrollHeight}px`}};var sg={};de(sg,{default:()=>rg});var rg=class extends gt{static targets=["dropin","form"];connect(){braintree.dropin.create({authorization:this.data.get("clientToken"),container:this.dropinTarget,card:{overrides:{styles:this.cardStyles}},paypal:{flow:"vault"}},this.clientCreated.bind(this))}clientCreated(n,t){if(n){console.error("Error setting up Braintree dropin:",n);return}this.instance=t}submit(n){n.preventDefault(),this.instance.requestPaymentMethod(this.paymentMethod.bind(this))}paymentMethod(n,t){if(n){console.error("Error with payment method:",n);return}this.addHiddenField("processor","braintree"),this.addHiddenField("payment_method_token",t.nonce),this.formTarget.submit()}addHiddenField(n,t){let e=document.createElement("input");e.setAttribute("type","hidden"),e.setAttribute("name",n),e.setAttribute("value",t),this.formTarget.appendChild(e)}get cardStyles(){if(document.documentElement.classList.contains("dark"))return{".number":{color:"white"},".expirationDate":{color:"white"}}}};var ag={};de(ag,{default:()=>og});var og=class extends gt{static targets=["button","form"];connect(){braintree.client.create({authorization:this.data.get("clientToken")},this.clientCreated.bind(this))}disconnect(){this.buttonTarget.querySelector(".paypal-button").remove()}clientCreated(n,t){if(n){console.error("Error creating client",n);return}braintree.paypalCheckout.create({client:t},this.paypalCreated.bind(this))}paypalCreated(n,t){if(n){console.error("Error creating PayPal Checkout:",n);return}paypal.Button.render({env:this.data.get("env"),style:{color:"gold",shape:"rect",size:"medium",label:"pay",tagline:!1},payment:()=>t.createPayment({flow:"vault"}),onAuthorize:(e,i)=>t.tokenizePayment(e,this.paymentMethod.bind(this)),onCancel:e=>{console.log("checkout.js payment cancelled",JSON.stringify(e,0,2))},onError:e=>{console.error("checkout.js error",e)}},this.buttonTarget).then(()=>{})}paymentMethod(n,t){if(n){console.error("Error with payment method:",n);return}this.addHiddenField("processor","braintree"),this.addHiddenField("payment_method_token",t.nonce),this.formTarget.submit()}addHiddenField(n,t){let e=document.createElement("input");e.setAttribute("type","hidden"),e.setAttribute("name",n),e.setAttribute("value",t),this.formTarget.appendChild(e)}};var dg={};de(dg,{default:()=>ug});var E2=Object.defineProperty,k2=(n,t,e)=>t in n?E2(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,T2=(n,t,e)=>(k2(n,typeof t!="symbol"?t+"":t,e),e),O2=class{#t;#e;#n;#i;constructor(){this.#t=null,this.#e=0,this.#n=[],this.#i=new Map}start(){this.notifyApplicationAfterStart()}notifyApplicationAfterStart(){document.dispatchEvent(new Event("web-bridge:ready"))}supportsComponent(n){return this.#t?this.#t.supportsComponent(n):!1}send({component:n,event:t,data:e,callback:i}){if(!this.#t)return this.#s({component:n,event:t,data:e,callback:i}),null;if(!this.supportsComponent(n))return null;let r=this.generateMessageId(),s={id:r,component:n,event:t,data:e||{}};return this.#t.receive(s),i&&this.#i.set(r,i),r}receive(n){this.executeCallbackFor(n)}executeCallbackFor(n){let t=this.#i.get(n.id);t&&t(n)}removeCallbackFor(n){this.#i.has(n)&&this.#i.delete(n)}removePendingMessagesFor(n){this.#n=this.#n.filter(t=>t.component!=n)}generateMessageId(){return(++this.#e).toString()}setAdapter(n){this.#t=n,document.documentElement.dataset.bridgePlatform=this.#t.platform,this.adapterDidUpdateSupportedComponents(),this.#r()}adapterDidUpdateSupportedComponents(){this.#t&&(document.documentElement.dataset.bridgeComponents=this.#t.supportedComponents.join(" "))}#s(n){this.#n.push(n)}#r(){this.#n.forEach(n=>this.send(n)),this.#n=[]}},lg=class{constructor(n){this.element=n}get title(){return(this.bridgeAttribute("title")||this.attribute("aria-label")||this.element.textContent||this.element.value).trim()}get enabled(){return!this.disabled}get disabled(){let n=this.bridgeAttribute("disabled");return n==="true"||n===this.platform}enableForComponent(n){n.enabled&&this.removeBridgeAttribute("disabled")}hasClass(n){return this.element.classList.contains(n)}attribute(n){return this.element.getAttribute(n)}bridgeAttribute(n){return this.attribute(`data-bridge-${n}`)}setBridgeAttribute(n,t){this.element.setAttribute(`data-bridge-${n}`,t)}removeBridgeAttribute(n){this.element.removeAttribute(`data-bridge-${n}`)}click(){this.platform=="android"&&this.element.removeAttribute("target"),this.element.click()}get platform(){return document.documentElement.dataset.bridgePlatform}},{userAgent:D2}=window.navigator,M2=/bridge-components: \[.+\]/.test(D2),cg=class extends gt{static get shouldLoad(){return M2}pendingMessageCallbacks=[];initialize(){this.pendingMessageCallbacks=[]}connect(){}disconnect(){this.removePendingCallbacks(),this.removePendingMessages()}get component(){return this.constructor.component}get platformOptingOut(){let{bridgePlatform:n}=document.documentElement.dataset;return this.identifier==this.element.getAttribute(`data-controller-optout-${n}`)}get enabled(){return!this.platformOptingOut&&this.bridge.supportsComponent(this.component)}send(n,t={},e){t.metadata={url:window.location.href};let i={component:this.component,event:n,data:t,callback:e},r=this.bridge.send(i);e&&this.pendingMessageCallbacks.push(r)}removePendingCallbacks(){this.pendingMessageCallbacks.forEach(n=>this.bridge.removeCallbackFor(n))}removePendingMessages(){this.bridge.removePendingMessagesFor(this.component)}get bridgeElement(){return new lg(this.element)}get bridge(){return window.Strada.web}};T2(cg,"component","");if(!window.Strada){let n=new O2;window.Strada={web:n},n.start()}var ug=class extends cg{static component="form";static targets=["submit"];connect(){super.connect(),this.notifyBridgeOfConnect()}notifyBridgeOfConnect(){let t=new lg(this.submitTarget).title;this.send("connect",{submitTitle:t},()=>{this.submitTarget.click()})}submitStart(n){this.submitTarget.disabled=!0,this.send("submitDisabled")}submitEnd(n){this.submitTarget.disabled=!1,this.send("submitEnabled")}};var fg={};de(fg,{default:()=>hg});var hg=class extends gt{static targets=["checkbox","selectAll"];toggleSelectAll(n){this.allCheckboxesSelected?this.unselectAll():this.selectAll()}selectAll(){this.selectAllTarget.checked=!0,this.selectAllTarget.indeterminate=!1,this.unselected.forEach(n=>n.checked=!0)}unselectAll(){this.selectAllTarget.checked=!1,this.selectAllTarget.indeterminate=!1,this.selected.forEach(n=>n.checked=!1)}change(n){this.noCheckboxesSelected?(this.selectAllTarget.checked=!1,this.selectAllTarget.indeterminate=!1):this.allCheckboxesSelected?(this.selectAllTarget.checked=!0,this.selectAllTarget.indeterminate=!1):this.selectAllTarget.indeterminate=!0}get selectedAll(){return this.selectAllTarget.checked}get selected(){return this.checkboxTargets.filter(n=>n.checked)}get unselected(){return this.checkboxTargets.filter(n=>!n.checked)}get selectedIds(){return this.selected.map(n=>n.dataset.id)}get allCheckboxesSelected(){return this.checkboxTargets.every(n=>n.checked)}get noCheckboxesSelected(){return this.checkboxTargets.every(n=>!n.checked)}};var Ng={};de(Ng,{default:()=>Fg});var EA=vi(V1());var $e="top",Qe="bottom",Ye="right",We="left",td="auto",Tr=[$e,Qe,Ye,We],Ui="start",hs="end",W1="clippingParents",ed="viewport",Do="popper",z1="reference",mg=Tr.reduce(function(n,t){return n.concat([t+"-"+Ui,t+"-"+hs])},[]),nd=[].concat(Tr,[td]).reduce(function(n,t){return n.concat([t,t+"-"+Ui,t+"-"+hs])},[]),P2="beforeRead",L2="read",R2="afterRead",I2="beforeMain",F2="main",N2="afterMain",B2="beforeWrite",j2="write",$2="afterWrite",U1=[P2,L2,R2,I2,F2,N2,B2,j2,$2];function sn(n){return n?(n.nodeName||"").toLowerCase():null}function Ee(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function Zn(n){var t=Ee(n).Element;return n instanceof t||n instanceof Element}function Ze(n){var t=Ee(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function Mo(n){if(typeof ShadowRoot>"u")return!1;var t=Ee(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}function H2(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},r=t.attributes[e]||{},s=t.elements[e];!Ze(s)||!sn(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function V2(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],s=t.attributes[i]||{},o=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]),a=o.reduce(function(l,u){return l[u]="",l},{});!Ze(r)||!sn(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}var al={name:"applyStyles",enabled:!0,phase:"write",fn:H2,effect:V2,requires:["computeStyles"]};function on(n){return n.split("-")[0]}var ai=Math.max,fs=Math.min,qi=Math.round;function Po(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function ll(){return!/^((?!chrome|android).)*safari/i.test(Po())}function ti(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var i=n.getBoundingClientRect(),r=1,s=1;t&&Ze(n)&&(r=n.offsetWidth>0&&qi(i.width)/n.offsetWidth||1,s=n.offsetHeight>0&&qi(i.height)/n.offsetHeight||1);var o=Zn(n)?Ee(n):window,a=o.visualViewport,l=!ll()&&e,u=(i.left+(l&&a?a.offsetLeft:0))/r,c=(i.top+(l&&a?a.offsetTop:0))/s,d=i.width/r,h=i.height/s;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function ps(n){var t=ti(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}function cl(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&Mo(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Sn(n){return Ee(n).getComputedStyle(n)}function gg(n){return["table","td","th"].indexOf(sn(n))>=0}function dn(n){return((Zn(n)?n.ownerDocument:n.document)||window.document).documentElement}function Yi(n){return sn(n)==="html"?n:n.assignedSlot||n.parentNode||(Mo(n)?n.host:null)||dn(n)}function q1(n){return!Ze(n)||Sn(n).position==="fixed"?null:n.offsetParent}function W2(n){var t=/firefox/i.test(Po()),e=/Trident/i.test(Po());if(e&&Ze(n)){var i=Sn(n);if(i.position==="fixed")return null}var r=Yi(n);for(Mo(r)&&(r=r.host);Ze(r)&&["html","body"].indexOf(sn(r))<0;){var s=Sn(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function li(n){for(var t=Ee(n),e=q1(n);e&&gg(e)&&Sn(e).position==="static";)e=q1(e);return e&&(sn(e)==="html"||sn(e)==="body"&&Sn(e).position==="static")?t:e||W2(n)||t}function ms(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function gs(n,t,e){return ai(n,fs(t,e))}function Y1(n,t,e){var i=gs(n,t,e);return i>e?e:i}function ul(){return{top:0,right:0,bottom:0,left:0}}function dl(n){return Object.assign({},ul(),n)}function hl(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}var z2=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,dl(typeof t!="number"?t:hl(t,Tr))};function U2(n){var t,e=n.state,i=n.name,r=n.options,s=e.elements.arrow,o=e.modifiersData.popperOffsets,a=on(e.placement),l=ms(a),u=[We,Ye].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var d=z2(r.padding,e),h=ps(s),m=l==="y"?$e:We,v=l==="y"?Qe:Ye,g=e.rects.reference[c]+e.rects.reference[l]-o[l]-e.rects.popper[c],y=o[l]-e.rects.reference[l],x=li(s),A=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,w=g/2-y/2,p=d[m],_=A-h[c]-d[v],S=A/2-h[c]/2+w,j=gs(p,S,_),H=l;e.modifiersData[i]=(t={},t[H]=j,t.centerOffset=j-S,t)}}function q2(n){var t=n.state,e=n.options,i=e.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||cl(t.elements.popper,r)&&(t.elements.arrow=r))}var K1={name:"arrow",enabled:!0,phase:"main",fn:U2,effect:q2,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ei(n){return n.split("-")[1]}var Y2={top:"auto",right:"auto",bottom:"auto",left:"auto"};function K2(n,t){var e=n.x,i=n.y,r=t.devicePixelRatio||1;return{x:qi(e*r)/r||0,y:qi(i*r)/r||0}}function G1(n){var t,e=n.popper,i=n.popperRect,r=n.placement,s=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,u=n.adaptive,c=n.roundOffsets,d=n.isFixed,h=o.x,m=h===void 0?0:h,v=o.y,g=v===void 0?0:v,y=typeof c=="function"?c({x:m,y:g}):{x:m,y:g};m=y.x,g=y.y;var x=o.hasOwnProperty("x"),A=o.hasOwnProperty("y"),w=We,p=$e,_=window;if(u){var S=li(e),j="clientHeight",H="clientWidth";if(S===Ee(e)&&(S=dn(e),Sn(S).position!=="static"&&a==="absolute"&&(j="scrollHeight",H="scrollWidth")),S=S,r===$e||(r===We||r===Ye)&&s===hs){p=Qe;var Y=d&&S===_&&_.visualViewport?_.visualViewport.height:S[j];g-=Y-i.height,g*=l?1:-1}if(r===We||(r===$e||r===Qe)&&s===hs){w=Ye;var et=d&&S===_&&_.visualViewport?_.visualViewport.width:S[H];m-=et-i.width,m*=l?1:-1}}var ot=Object.assign({position:a},u&&Y2),rt=c===!0?K2({x:m,y:g},Ee(e)):{x:m,y:g};if(m=rt.x,g=rt.y,l){var dt;return Object.assign({},ot,(dt={},dt[p]=A?"0":"",dt[w]=x?"0":"",dt.transform=(_.devicePixelRatio||1)<=1?"translate("+m+"px, "+g+"px)":"translate3d("+m+"px, "+g+"px, 0)",dt))}return Object.assign({},ot,(t={},t[p]=A?g+"px":"",t[w]=x?m+"px":"",t.transform="",t))}function G2(n){var t=n.state,e=n.options,i=e.gpuAcceleration,r=i===void 0?!0:i,s=e.adaptive,o=s===void 0?!0:s,a=e.roundOffsets,l=a===void 0?!0:a,u={placement:on(t.placement),variation:ei(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,G1(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,G1(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var X1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:G2,data:{}};var id={passive:!0};function X2(n){var t=n.state,e=n.instance,i=n.options,r=i.scroll,s=r===void 0?!0:r,o=i.resize,a=o===void 0?!0:o,l=Ee(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",e.update,id)}),a&&l.addEventListener("resize",e.update,id),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",e.update,id)}),a&&l.removeEventListener("resize",e.update,id)}}var J1={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:X2,data:{}};var J2={left:"right",right:"left",bottom:"top",top:"bottom"};function Lo(n){return n.replace(/left|right|bottom|top/g,function(t){return J2[t]})}var Q2={start:"end",end:"start"};function rd(n){return n.replace(/start|end/g,function(t){return Q2[t]})}function vs(n){var t=Ee(n),e=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:e,scrollTop:i}}function bs(n){return ti(dn(n)).left+vs(n).scrollLeft}function vg(n,t){var e=Ee(n),i=dn(n),r=e.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;var u=ll();(u||!u&&t==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a+bs(n),y:l}}function bg(n){var t,e=dn(n),i=vs(n),r=(t=n.ownerDocument)==null?void 0:t.body,s=ai(e.scrollWidth,e.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=ai(e.scrollHeight,e.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+bs(n),l=-i.scrollTop;return Sn(r||e).direction==="rtl"&&(a+=ai(e.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function ys(n){var t=Sn(n),e=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+r+i)}function sd(n){return["html","body","#document"].indexOf(sn(n))>=0?n.ownerDocument.body:Ze(n)&&ys(n)?n:sd(Yi(n))}function Or(n,t){var e;t===void 0&&(t=[]);var i=sd(n),r=i===((e=n.ownerDocument)==null?void 0:e.body),s=Ee(i),o=r?[s].concat(s.visualViewport||[],ys(i)?i:[]):i,a=t.concat(o);return r?a:a.concat(Or(Yi(o)))}function Ro(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Z2(n,t){var e=ti(n,!1,t==="fixed");return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function Q1(n,t,e){return t===ed?Ro(vg(n,e)):Zn(t)?Z2(t,e):Ro(bg(dn(n)))}function tR(n){var t=Or(Yi(n)),e=["absolute","fixed"].indexOf(Sn(n).position)>=0,i=e&&Ze(n)?li(n):n;return Zn(i)?t.filter(function(r){return Zn(r)&&cl(r,i)&&sn(r)!=="body"}):[]}function yg(n,t,e,i){var r=t==="clippingParents"?tR(n):[].concat(t),s=[].concat(r,[e]),o=s[0],a=s.reduce(function(l,u){var c=Q1(n,u,i);return l.top=ai(c.top,l.top),l.right=fs(c.right,l.right),l.bottom=fs(c.bottom,l.bottom),l.left=ai(c.left,l.left),l},Q1(n,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function fl(n){var t=n.reference,e=n.element,i=n.placement,r=i?on(i):null,s=i?ei(i):null,o=t.x+t.width/2-e.width/2,a=t.y+t.height/2-e.height/2,l;switch(r){case $e:l={x:o,y:t.y-e.height};break;case Qe:l={x:o,y:t.y+t.height};break;case Ye:l={x:t.x+t.width,y:a};break;case We:l={x:t.x-e.width,y:a};break;default:l={x:t.x,y:t.y}}var u=r?ms(r):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case Ui:l[u]=l[u]-(t[c]/2-e[c]/2);break;case hs:l[u]=l[u]+(t[c]/2-e[c]/2);break;default:}}return l}function ci(n,t){t===void 0&&(t={});var e=t,i=e.placement,r=i===void 0?n.placement:i,s=e.strategy,o=s===void 0?n.strategy:s,a=e.boundary,l=a===void 0?W1:a,u=e.rootBoundary,c=u===void 0?ed:u,d=e.elementContext,h=d===void 0?Do:d,m=e.altBoundary,v=m===void 0?!1:m,g=e.padding,y=g===void 0?0:g,x=dl(typeof y!="number"?y:hl(y,Tr)),A=h===Do?z1:Do,w=n.rects.popper,p=n.elements[v?A:h],_=yg(Zn(p)?p:p.contextElement||dn(n.elements.popper),l,c,o),S=ti(n.elements.reference),j=fl({reference:S,element:w,strategy:"absolute",placement:r}),H=Ro(Object.assign({},w,j)),Y=h===Do?H:S,et={top:_.top-Y.top+x.top,bottom:Y.bottom-_.bottom+x.bottom,left:_.left-Y.left+x.left,right:Y.right-_.right+x.right},ot=n.modifiersData.offset;if(h===Do&&ot){var rt=ot[r];Object.keys(et).forEach(function(dt){var st=[Ye,Qe].indexOf(dt)>=0?1:-1,B=[$e,Qe].indexOf(dt)>=0?"y":"x";et[dt]+=rt[B]*st})}return et}function wg(n,t){t===void 0&&(t={});var e=t,i=e.placement,r=e.boundary,s=e.rootBoundary,o=e.padding,a=e.flipVariations,l=e.allowedAutoPlacements,u=l===void 0?nd:l,c=ei(i),d=c?a?mg:mg.filter(function(v){return ei(v)===c}):Tr,h=d.filter(function(v){return u.indexOf(v)>=0});h.length===0&&(h=d);var m=h.reduce(function(v,g){return v[g]=ci(n,{placement:g,boundary:r,rootBoundary:s,padding:o})[on(g)],v},{});return Object.keys(m).sort(function(v,g){return m[v]-m[g]})}function eR(n){if(on(n)===td)return[];var t=Lo(n);return[rd(n),t,rd(t)]}function nR(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var r=e.mainAxis,s=r===void 0?!0:r,o=e.altAxis,a=o===void 0?!0:o,l=e.fallbackPlacements,u=e.padding,c=e.boundary,d=e.rootBoundary,h=e.altBoundary,m=e.flipVariations,v=m===void 0?!0:m,g=e.allowedAutoPlacements,y=t.options.placement,x=on(y),A=x===y,w=l||(A||!v?[Lo(y)]:eR(y)),p=[y].concat(w).reduce(function(J,K){return J.concat(on(K)===td?wg(t,{placement:K,boundary:c,rootBoundary:d,padding:u,flipVariations:v,allowedAutoPlacements:g}):K)},[]),_=t.rects.reference,S=t.rects.popper,j=new Map,H=!0,Y=p[0],et=0;et<p.length;et++){var ot=p[et],rt=on(ot),dt=ei(ot)===Ui,st=[$e,Qe].indexOf(rt)>=0,B=st?"width":"height",T=ci(t,{placement:ot,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),L=st?dt?Ye:We:dt?Qe:$e;_[B]>S[B]&&(L=Lo(L));var F=Lo(L),q=[];if(s&&q.push(T[rt]<=0),a&&q.push(T[L]<=0,T[F]<=0),q.every(function(J){return J})){Y=ot,H=!1;break}j.set(ot,q)}if(H)for(var V=v?3:1,O=function(K){var pt=p.find(function(Ct){var At=j.get(Ct);if(At)return At.slice(0,K).every(function(yt){return yt})});if(pt)return Y=pt,"break"},$=V;$>0;$--){var Z=O($);if(Z==="break")break}t.placement!==Y&&(t.modifiersData[i]._skip=!0,t.placement=Y,t.reset=!0)}}var Z1={name:"flip",enabled:!0,phase:"main",fn:nR,requiresIfExists:["offset"],data:{_skip:!1}};function tA(n,t,e){return e===void 0&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function eA(n){return[$e,Ye,Qe,We].some(function(t){return n[t]>=0})}function iR(n){var t=n.state,e=n.name,i=t.rects.reference,r=t.rects.popper,s=t.modifiersData.preventOverflow,o=ci(t,{elementContext:"reference"}),a=ci(t,{altBoundary:!0}),l=tA(o,i),u=tA(a,r,s),c=eA(l),d=eA(u);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}var nA={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:iR};function rR(n,t,e){var i=on(n),r=[We,$e].indexOf(i)>=0?-1:1,s=typeof e=="function"?e(Object.assign({},t,{placement:n})):e,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[We,Ye].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function sR(n){var t=n.state,e=n.options,i=n.name,r=e.offset,s=r===void 0?[0,0]:r,o=nd.reduce(function(c,d){return c[d]=rR(d,t.rects,s),c},{}),a=o[t.placement],l=a.x,u=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[i]=o}var iA={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:sR};function oR(n){var t=n.state,e=n.name;t.modifiersData[e]=fl({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var rA={name:"popperOffsets",enabled:!0,phase:"read",fn:oR,data:{}};function xg(n){return n==="x"?"y":"x"}function aR(n){var t=n.state,e=n.options,i=n.name,r=e.mainAxis,s=r===void 0?!0:r,o=e.altAxis,a=o===void 0?!1:o,l=e.boundary,u=e.rootBoundary,c=e.altBoundary,d=e.padding,h=e.tether,m=h===void 0?!0:h,v=e.tetherOffset,g=v===void 0?0:v,y=ci(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),x=on(t.placement),A=ei(t.placement),w=!A,p=ms(x),_=xg(p),S=t.modifiersData.popperOffsets,j=t.rects.reference,H=t.rects.popper,Y=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,et=typeof Y=="number"?{mainAxis:Y,altAxis:Y}:Object.assign({mainAxis:0,altAxis:0},Y),ot=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,rt={x:0,y:0};if(S){if(s){var dt,st=p==="y"?$e:We,B=p==="y"?Qe:Ye,T=p==="y"?"height":"width",L=S[p],F=L+y[st],q=L-y[B],V=m?-H[T]/2:0,O=A===Ui?j[T]:H[T],$=A===Ui?-H[T]:-j[T],Z=t.elements.arrow,J=m&&Z?ps(Z):{width:0,height:0},K=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:ul(),pt=K[st],Ct=K[B],At=gs(0,j[T],J[T]),yt=w?j[T]/2-V-At-pt-et.mainAxis:O-At-pt-et.mainAxis,vt=w?-j[T]/2+V+At+Ct+et.mainAxis:$+At+Ct+et.mainAxis,G=t.elements.arrow&&li(t.elements.arrow),X=G?p==="y"?G.clientTop||0:G.clientLeft||0:0,I=(dt=ot?.[p])!=null?dt:0,R=L+yt-I-X,U=L+vt-I,W=gs(m?fs(F,R):F,L,m?ai(q,U):q);S[p]=W,rt[p]=W-L}if(a){var ne,jt=p==="x"?$e:We,Se=p==="x"?Qe:Ye,Ge=S[_],me=_==="y"?"height":"width",fn=Ge+y[jt],Fn=Ge-y[Se],ni=[$e,We].indexOf(x)!==-1,Nn=(ne=ot?.[_])!=null?ne:0,rr=ni?fn:Ge-j[me]-H[me]-Nn+et.altAxis,pi=ni?Ge+j[me]+H[me]-Nn-et.altAxis:Fn,sr=m&&ni?Y1(rr,Ge,pi):gs(m?rr:fn,Ge,m?pi:Fn);S[_]=sr,rt[_]=sr-Ge}t.modifiersData[i]=rt}}var sA={name:"preventOverflow",enabled:!0,phase:"main",fn:aR,requiresIfExists:["offset"]};function Ag(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function Sg(n){return n===Ee(n)||!Ze(n)?vs(n):Ag(n)}function lR(n){var t=n.getBoundingClientRect(),e=qi(t.width)/n.offsetWidth||1,i=qi(t.height)/n.offsetHeight||1;return e!==1||i!==1}function _g(n,t,e){e===void 0&&(e=!1);var i=Ze(t),r=Ze(t)&&lR(t),s=dn(t),o=ti(n,r,e),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!e)&&((sn(t)!=="body"||ys(s))&&(a=Sg(t)),Ze(t)?(l=ti(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=bs(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function cR(n){var t=new Map,e=new Set,i=[];n.forEach(function(s){t.set(s.name,s)});function r(s){e.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!e.has(a)){var l=t.get(a);l&&r(l)}}),i.push(s)}return n.forEach(function(s){e.has(s.name)||r(s)}),i}function Cg(n){var t=cR(n);return U1.reduce(function(e,i){return e.concat(t.filter(function(r){return r.phase===i}))},[])}function Eg(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}function kg(n){var t=n.reduce(function(e,i){var r=e[i.name];return e[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}var oA={placement:"bottom",modifiers:[],strategy:"absolute"};function aA(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function lA(n){n===void 0&&(n={});var t=n,e=t.defaultModifiers,i=e===void 0?[]:e,r=t.defaultOptions,s=r===void 0?oA:r;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},oA,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,m={state:c,setOptions:function(x){var A=typeof x=="function"?x(c.options):x;g(),c.options=Object.assign({},s,c.options,A),c.scrollParents={reference:Zn(a)?Or(a):a.contextElement?Or(a.contextElement):[],popper:Or(l)};var w=Cg(kg([].concat(i,c.options.modifiers)));return c.orderedModifiers=w.filter(function(p){return p.enabled}),v(),m.update()},forceUpdate:function(){if(!h){var x=c.elements,A=x.reference,w=x.popper;if(aA(A,w)){c.rects={reference:_g(A,li(w),c.options.strategy==="fixed"),popper:ps(w)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(et){return c.modifiersData[et.name]=Object.assign({},et.data)});for(var p=0;p<c.orderedModifiers.length;p++){if(c.reset===!0){c.reset=!1,p=-1;continue}var _=c.orderedModifiers[p],S=_.fn,j=_.options,H=j===void 0?{}:j,Y=_.name;typeof S=="function"&&(c=S({state:c,options:H,name:Y,instance:m})||c)}}}},update:Eg(function(){return new Promise(function(y){m.forceUpdate(),y(c)})}),destroy:function(){g(),h=!0}};if(!aA(a,l))return m;m.setOptions(u).then(function(y){!h&&u.onFirstUpdate&&u.onFirstUpdate(y)});function v(){c.orderedModifiers.forEach(function(y){var x=y.name,A=y.options,w=A===void 0?{}:A,p=y.effect;if(typeof p=="function"){var _=p({state:c,name:x,instance:m,options:w}),S=function(){};d.push(_||S)}})}function g(){d.forEach(function(y){return y()}),d=[]}return m}}var uR=[J1,rA,X1,al,iA,Z1,sA,K1,nA],Tg=lA({defaultModifiers:uR});var dR="tippy-box",bA="tippy-content",hR="tippy-backdrop",yA="tippy-arrow",wA="tippy-svg-arrow",ws={passive:!0,capture:!0},xA=function(){return document.body};function Og(n,t,e){if(Array.isArray(n)){var i=n[t];return i??(Array.isArray(e)?e[t]:e)}return n}function Ig(n,t){var e={}.toString.call(n);return e.indexOf("[object")===0&&e.indexOf(t+"]")>-1}function AA(n,t){return typeof n=="function"?n.apply(void 0,t):n}function cA(n,t){if(t===0)return n;var e;return function(i){clearTimeout(e),e=setTimeout(function(){n(i)},t)}}function fR(n){return n.split(/\s+/).filter(Boolean)}function Io(n){return[].concat(n)}function uA(n,t){n.indexOf(t)===-1&&n.push(t)}function pR(n){return n.filter(function(t,e){return n.indexOf(t)===e})}function mR(n){return n.split("-")[0]}function ad(n){return[].slice.call(n)}function dA(n){return Object.keys(n).reduce(function(t,e){return n[e]!==void 0&&(t[e]=n[e]),t},{})}function pl(){return document.createElement("div")}function ld(n){return["Element","Fragment"].some(function(t){return Ig(n,t)})}function gR(n){return Ig(n,"NodeList")}function vR(n){return Ig(n,"MouseEvent")}function bR(n){return!!(n&&n._tippy&&n._tippy.reference===n)}function yR(n){return ld(n)?[n]:gR(n)?ad(n):Array.isArray(n)?n:ad(document.querySelectorAll(n))}function Dg(n,t){n.forEach(function(e){e&&(e.style.transitionDuration=t+"ms")})}function hA(n,t){n.forEach(function(e){e&&e.setAttribute("data-state",t)})}function wR(n){var t,e=Io(n),i=e[0];return i!=null&&(t=i.ownerDocument)!=null&&t.body?i.ownerDocument:document}function xR(n,t){var e=t.clientX,i=t.clientY;return n.every(function(r){var s=r.popperRect,o=r.popperState,a=r.props,l=a.interactiveBorder,u=mR(o.placement),c=o.modifiersData.offset;if(!c)return!0;var d=u==="bottom"?c.top.y:0,h=u==="top"?c.bottom.y:0,m=u==="right"?c.left.x:0,v=u==="left"?c.right.x:0,g=s.top-i+d>l,y=i-s.bottom-h>l,x=s.left-e+m>l,A=e-s.right-v>l;return g||y||x||A})}function Mg(n,t,e){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){n[i](r,e)})}function fA(n,t){for(var e=t;e;){var i;if(n.contains(e))return!0;e=e.getRootNode==null||(i=e.getRootNode())==null?void 0:i.host}return!1}var Di={isTouch:!1},pA=0;function AR(){Di.isTouch||(Di.isTouch=!0,window.performance&&document.addEventListener("mousemove",SA))}function SA(){var n=performance.now();n-pA<20&&(Di.isTouch=!1,document.removeEventListener("mousemove",SA)),pA=n}function SR(){var n=document.activeElement;if(bR(n)){var t=n._tippy;n.blur&&!t.state.isVisible&&n.blur()}}function _R(){document.addEventListener("touchstart",AR,ws),window.addEventListener("blur",SR)}var CR=typeof window<"u"&&typeof document<"u",ER=CR?!!window.msCrypto:!1;var kR={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},TR={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},ui=Object.assign({appendTo:xA,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},kR,TR),OR=Object.keys(ui),DR=function(t){var e=Object.keys(t);e.forEach(function(i){ui[i]=t[i]})};function _A(n){var t=n.plugins||[],e=t.reduce(function(i,r){var s=r.name,o=r.defaultValue;if(s){var a;i[s]=n[s]!==void 0?n[s]:(a=ui[s])!=null?a:o}return i},{});return Object.assign({},n,e)}function MR(n,t){var e=t?Object.keys(_A(Object.assign({},ui,{plugins:t}))):OR,i=e.reduce(function(r,s){var o=(n.getAttribute("data-tippy-"+s)||"").trim();if(!o)return r;if(s==="content")r[s]=o;else try{r[s]=JSON.parse(o)}catch{r[s]=o}return r},{});return i}function mA(n,t){var e=Object.assign({},t,{content:AA(t.content,[n])},t.ignoreAttributes?{}:MR(n,t.plugins));return e.aria=Object.assign({},ui.aria,e.aria),e.aria={expanded:e.aria.expanded==="auto"?t.interactive:e.aria.expanded,content:e.aria.content==="auto"?t.interactive?null:"describedby":e.aria.content},e}var PR=function(){return"innerHTML"};function Lg(n,t){n[PR()]=t}function gA(n){var t=pl();return n===!0?t.className=yA:(t.className=wA,ld(n)?t.appendChild(n):Lg(t,n)),t}function vA(n,t){ld(t.content)?(Lg(n,""),n.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?Lg(n,t.content):n.textContent=t.content)}function Rg(n){var t=n.firstElementChild,e=ad(t.children);return{box:t,content:e.find(function(i){return i.classList.contains(bA)}),arrow:e.find(function(i){return i.classList.contains(yA)||i.classList.contains(wA)}),backdrop:e.find(function(i){return i.classList.contains(hR)})}}function CA(n){var t=pl(),e=pl();e.className=dR,e.setAttribute("data-state","hidden"),e.setAttribute("tabindex","-1");var i=pl();i.className=bA,i.setAttribute("data-state","hidden"),vA(i,n.props),t.appendChild(e),e.appendChild(i),r(n.props,n.props);function r(s,o){var a=Rg(t),l=a.box,u=a.content,c=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&vA(u,n.props),o.arrow?c?s.arrow!==o.arrow&&(l.removeChild(c),l.appendChild(gA(o.arrow))):l.appendChild(gA(o.arrow)):c&&l.removeChild(c)}return{popper:t,onUpdate:r}}CA.$$tippy=!0;var LR=1,od=[],Pg=[];function RR(n,t){var e=mA(n,Object.assign({},ui,_A(dA(t)))),i,r,s,o=!1,a=!1,l=!1,u=!1,c,d,h,m=[],v=cA(R,e.interactiveDebounce),g,y=LR++,x=null,A=pR(e.plugins),w={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},p={id:y,reference:n,popper:pl(),popperInstance:x,props:e,state:w,plugins:A,clearDelayTimeouts:rr,setProps:pi,setContent:sr,show:Br,hide:ta,hideWithInteractivity:jr,enable:ni,disable:Nn,unmount:ea,destroy:or};if(!e.render)return p;var _=e.render(p),S=_.popper,j=_.onUpdate;S.setAttribute("data-tippy-root",""),S.id="tippy-"+p.id,p.popper=S,n._tippy=p,S._tippy=p;var H=A.map(function(nt){return nt.fn(p)}),Y=n.hasAttribute("aria-expanded");return G(),V(),L(),F("onCreate",[p]),e.showOnCreate&&fn(),S.addEventListener("mouseenter",function(){p.props.interactive&&p.state.isVisible&&p.clearDelayTimeouts()}),S.addEventListener("mouseleave",function(){p.props.interactive&&p.props.trigger.indexOf("mouseenter")>=0&&st().addEventListener("mousemove",v)}),p;function et(){var nt=p.props.touch;return Array.isArray(nt)?nt:[nt,0]}function ot(){return et()[0]==="hold"}function rt(){var nt;return!!((nt=p.props.render)!=null&&nt.$$tippy)}function dt(){return g||n}function st(){var nt=dt().parentNode;return nt?wR(nt):document}function B(){return Rg(S)}function T(nt){return p.state.isMounted&&!p.state.isVisible||Di.isTouch||c&&c.type==="focus"?0:Og(p.props.delay,nt?0:1,ui.delay)}function L(nt){nt===void 0&&(nt=!1),S.style.pointerEvents=p.props.interactive&&!nt?"":"none",S.style.zIndex=""+p.props.zIndex}function F(nt,ht,It){if(It===void 0&&(It=!0),H.forEach(function(Yt){Yt[nt]&&Yt[nt].apply(Yt,ht)}),It){var Ut;(Ut=p.props)[nt].apply(Ut,ht)}}function q(){var nt=p.props.aria;if(nt.content){var ht="aria-"+nt.content,It=S.id,Ut=Io(p.props.triggerTarget||n);Ut.forEach(function(Yt){var Be=Yt.getAttribute(ht);if(p.state.isVisible)Yt.setAttribute(ht,Be?Be+" "+It:It);else{var Xe=Be&&Be.replace(It,"").trim();Xe?Yt.setAttribute(ht,Xe):Yt.removeAttribute(ht)}})}}function V(){if(!(Y||!p.props.aria.expanded)){var nt=Io(p.props.triggerTarget||n);nt.forEach(function(ht){p.props.interactive?ht.setAttribute("aria-expanded",p.state.isVisible&&ht===dt()?"true":"false"):ht.removeAttribute("aria-expanded")})}}function O(){st().removeEventListener("mousemove",v),od=od.filter(function(nt){return nt!==v})}function $(nt){if(!(Di.isTouch&&(l||nt.type==="mousedown"))){var ht=nt.composedPath&&nt.composedPath()[0]||nt.target;if(!(p.props.interactive&&fA(S,ht))){if(Io(p.props.triggerTarget||n).some(function(It){return fA(It,ht)})){if(Di.isTouch||p.state.isVisible&&p.props.trigger.indexOf("click")>=0)return}else F("onClickOutside",[p,nt]);p.props.hideOnClick===!0&&(p.clearDelayTimeouts(),p.hide(),a=!0,setTimeout(function(){a=!1}),p.state.isMounted||pt())}}}function Z(){l=!0}function J(){l=!1}function K(){var nt=st();nt.addEventListener("mousedown",$,!0),nt.addEventListener("touchend",$,ws),nt.addEventListener("touchstart",J,ws),nt.addEventListener("touchmove",Z,ws)}function pt(){var nt=st();nt.removeEventListener("mousedown",$,!0),nt.removeEventListener("touchend",$,ws),nt.removeEventListener("touchstart",J,ws),nt.removeEventListener("touchmove",Z,ws)}function Ct(nt,ht){yt(nt,function(){!p.state.isVisible&&S.parentNode&&S.parentNode.contains(S)&&ht()})}function At(nt,ht){yt(nt,ht)}function yt(nt,ht){var It=B().box;function Ut(Yt){Yt.target===It&&(Mg(It,"remove",Ut),ht())}if(nt===0)return ht();Mg(It,"remove",d),Mg(It,"add",Ut),d=Ut}function vt(nt,ht,It){It===void 0&&(It=!1);var Ut=Io(p.props.triggerTarget||n);Ut.forEach(function(Yt){Yt.addEventListener(nt,ht,It),m.push({node:Yt,eventType:nt,handler:ht,options:It})})}function G(){ot()&&(vt("touchstart",I,{passive:!0}),vt("touchend",U,{passive:!0})),fR(p.props.trigger).forEach(function(nt){if(nt!=="manual")switch(vt(nt,I),nt){case"mouseenter":vt("mouseleave",U);break;case"focus":vt(ER?"focusout":"blur",W);break;case"focusin":vt("focusout",W);break}})}function X(){m.forEach(function(nt){var ht=nt.node,It=nt.eventType,Ut=nt.handler,Yt=nt.options;ht.removeEventListener(It,Ut,Yt)}),m=[]}function I(nt){var ht,It=!1;if(!(!p.state.isEnabled||ne(nt)||a)){var Ut=((ht=c)==null?void 0:ht.type)==="focus";c=nt,g=nt.currentTarget,V(),!p.state.isVisible&&vR(nt)&&od.forEach(function(Yt){return Yt(nt)}),nt.type==="click"&&(p.props.trigger.indexOf("mouseenter")<0||o)&&p.props.hideOnClick!==!1&&p.state.isVisible?It=!0:fn(nt),nt.type==="click"&&(o=!It),It&&!Ut&&Fn(nt)}}function R(nt){var ht=nt.target,It=dt().contains(ht)||S.contains(ht);if(!(nt.type==="mousemove"&&It)){var Ut=me().concat(S).map(function(Yt){var Be,Xe=Yt._tippy,nn=(Be=Xe.popperInstance)==null?void 0:Be.state;return nn?{popperRect:Yt.getBoundingClientRect(),popperState:nn,props:e}:null}).filter(Boolean);xR(Ut,nt)&&(O(),Fn(nt))}}function U(nt){var ht=ne(nt)||p.props.trigger.indexOf("click")>=0&&o;if(!ht){if(p.props.interactive){p.hideWithInteractivity(nt);return}Fn(nt)}}function W(nt){p.props.trigger.indexOf("focusin")<0&&nt.target!==dt()||p.props.interactive&&nt.relatedTarget&&S.contains(nt.relatedTarget)||Fn(nt)}function ne(nt){return Di.isTouch?ot()!==nt.type.indexOf("touch")>=0:!1}function jt(){Se();var nt=p.props,ht=nt.popperOptions,It=nt.placement,Ut=nt.offset,Yt=nt.getReferenceClientRect,Be=nt.moveTransition,Xe=rt()?Rg(S).arrow:null,nn=Yt?{getBoundingClientRect:Yt,contextElement:Yt.contextElement||dt()}:n,Qt={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(M){var z=M.state;if(rt()){var Q=B(),mt=Q.box;["placement","reference-hidden","escaped"].forEach(function(wt){wt==="placement"?mt.setAttribute("data-placement",z.placement):z.attributes.popper["data-popper-"+wt]?mt.setAttribute("data-"+wt,""):mt.removeAttribute("data-"+wt)}),z.attributes.popper={}}}},zt=[{name:"offset",options:{offset:Ut}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Be}},Qt];rt()&&Xe&&zt.push({name:"arrow",options:{element:Xe,padding:3}}),zt.push.apply(zt,ht?.modifiers||[]),p.popperInstance=Tg(nn,S,Object.assign({},ht,{placement:It,onFirstUpdate:h,modifiers:zt}))}function Se(){p.popperInstance&&(p.popperInstance.destroy(),p.popperInstance=null)}function Ge(){var nt=p.props.appendTo,ht,It=dt();p.props.interactive&&nt===xA||nt==="parent"?ht=It.parentNode:ht=AA(nt,[It]),ht.contains(S)||ht.appendChild(S),p.state.isMounted=!0,jt()}function me(){return ad(S.querySelectorAll("[data-tippy-root]"))}function fn(nt){p.clearDelayTimeouts(),nt&&F("onTrigger",[p,nt]),K();var ht=T(!0),It=et(),Ut=It[0],Yt=It[1];Di.isTouch&&Ut==="hold"&&Yt&&(ht=Yt),ht?i=setTimeout(function(){p.show()},ht):p.show()}function Fn(nt){if(p.clearDelayTimeouts(),F("onUntrigger",[p,nt]),!p.state.isVisible){pt();return}if(!(p.props.trigger.indexOf("mouseenter")>=0&&p.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(nt.type)>=0&&o)){var ht=T(!1);ht?r=setTimeout(function(){p.state.isVisible&&p.hide()},ht):s=requestAnimationFrame(function(){p.hide()})}}function ni(){p.state.isEnabled=!0}function Nn(){p.hide(),p.state.isEnabled=!1}function rr(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(s)}function pi(nt){if(!p.state.isDestroyed){F("onBeforeUpdate",[p,nt]),X();var ht=p.props,It=mA(n,Object.assign({},ht,dA(nt),{ignoreAttributes:!0}));p.props=It,G(),ht.interactiveDebounce!==It.interactiveDebounce&&(O(),v=cA(R,It.interactiveDebounce)),ht.triggerTarget&&!It.triggerTarget?Io(ht.triggerTarget).forEach(function(Ut){Ut.removeAttribute("aria-expanded")}):It.triggerTarget&&n.removeAttribute("aria-expanded"),V(),L(),j&&j(ht,It),p.popperInstance&&(jt(),me().forEach(function(Ut){requestAnimationFrame(Ut._tippy.popperInstance.forceUpdate)})),F("onAfterUpdate",[p,nt])}}function sr(nt){p.setProps({content:nt})}function Br(){var nt=p.state.isVisible,ht=p.state.isDestroyed,It=!p.state.isEnabled,Ut=Di.isTouch&&!p.props.touch,Yt=Og(p.props.duration,0,ui.duration);if(!(nt||ht||It||Ut)&&!dt().hasAttribute("disabled")&&(F("onShow",[p],!1),p.props.onShow(p)!==!1)){if(p.state.isVisible=!0,rt()&&(S.style.visibility="visible"),L(),K(),p.state.isMounted||(S.style.transition="none"),rt()){var Be=B(),Xe=Be.box,nn=Be.content;Dg([Xe,nn],0)}h=function(){var zt;if(!(!p.state.isVisible||u)){if(u=!0,S.offsetHeight,S.style.transition=p.props.moveTransition,rt()&&p.props.animation){var k=B(),M=k.box,z=k.content;Dg([M,z],Yt),hA([M,z],"visible")}q(),V(),uA(Pg,p),(zt=p.popperInstance)==null||zt.forceUpdate(),F("onMount",[p]),p.props.animation&&rt()&&At(Yt,function(){p.state.isShown=!0,F("onShown",[p])})}},Ge()}}function ta(){var nt=!p.state.isVisible,ht=p.state.isDestroyed,It=!p.state.isEnabled,Ut=Og(p.props.duration,1,ui.duration);if(!(nt||ht||It)&&(F("onHide",[p],!1),p.props.onHide(p)!==!1)){if(p.state.isVisible=!1,p.state.isShown=!1,u=!1,o=!1,rt()&&(S.style.visibility="hidden"),O(),pt(),L(!0),rt()){var Yt=B(),Be=Yt.box,Xe=Yt.content;p.props.animation&&(Dg([Be,Xe],Ut),hA([Be,Xe],"hidden"))}q(),V(),p.props.animation?rt()&&Ct(Ut,p.unmount):p.unmount()}}function jr(nt){st().addEventListener("mousemove",v),uA(od,v),v(nt)}function ea(){p.state.isVisible&&p.hide(),p.state.isMounted&&(Se(),me().forEach(function(nt){nt._tippy.unmount()}),S.parentNode&&S.parentNode.removeChild(S),Pg=Pg.filter(function(nt){return nt!==p}),p.state.isMounted=!1,F("onHidden",[p]))}function or(){p.state.isDestroyed||(p.clearDelayTimeouts(),p.unmount(),X(),delete n._tippy,p.state.isDestroyed=!0,F("onDestroy",[p]))}}function ml(n,t){t===void 0&&(t={});var e=ui.plugins.concat(t.plugins||[]);_R();var i=Object.assign({},t,{plugins:e}),r=yR(n);if(0)var s,o;var a=r.reduce(function(l,u){var c=u&&RR(u,i);return c&&l.push(c),l},[]);return ld(n)?a[0]:a}ml.defaultProps=ui;ml.setDefaultProps=DR;ml.currentInput=Di;var SG=Object.assign({},al,{effect:function(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow)}});ml.setDefaultProps({render:CA});var cd=ml;var Fg=class extends gt{static values={successMessage:{type:String,default:"Copied!"},errorMessage:{type:String,default:"Failed!"}};connect(){this.clipboard=new EA.default(this.element),this.clipboard.on("success",n=>this.tooltip(this.successMessageValue)),this.clipboard.on("error",n=>this.tooltip(this.errorMessageValue))}tooltip(n){cd(this.element,{content:n,showOnCreate:!0,onHidden:t=>{t.destroy()}})}};var rv={};de(rv,{default:()=>iv});var ud=window,dd=ud.ShadowRoot&&(ud.ShadyCSS===void 0||ud.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Bg=Symbol(),kA=new WeakMap,gl=class{constructor(t,e,i){if(this._$cssResult$=!0,i!==Bg)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o,e=this.t;if(dd&&t===void 0){let i=e!==void 0&&e.length===1;i&&(t=kA.get(e)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&kA.set(e,t))}return t}toString(){return this.cssText}},TA=n=>new gl(typeof n=="string"?n:n+"",void 0,Bg),Ki=(n,...t)=>{let e=n.length===1?n[0]:t.reduce((i,r,s)=>i+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(r)+n[s+1],n[0]);return new gl(e,n,Bg)},jg=(n,t)=>{dd?n.adoptedStyleSheets=t.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet):t.forEach(e=>{let i=document.createElement("style"),r=ud.litNonce;r!==void 0&&i.setAttribute("nonce",r),i.textContent=e.cssText,n.appendChild(i)})},hd=dd?n=>n:n=>n instanceof CSSStyleSheet?(t=>{let e="";for(let i of t.cssRules)e+=i.cssText;return TA(e)})(n):n;var $g,fd=window,OA=fd.trustedTypes,IR=OA?OA.emptyScript:"",DA=fd.reactiveElementPolyfillSupport,Vg={toAttribute(n,t){switch(t){case Boolean:n=n?IR:null;break;case Object:case Array:n=n==null?n:JSON.stringify(n)}return n},fromAttribute(n,t){let e=n;switch(t){case Boolean:e=n!==null;break;case Number:e=n===null?null:Number(n);break;case Object:case Array:try{e=JSON.parse(n)}catch{e=null}}return e}},MA=(n,t)=>t!==n&&(t==t||n==n),Hg={attribute:!0,type:String,converter:Vg,reflect:!1,hasChanged:MA},Wg="finalized",Gi=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(t){var e;this.finalize(),((e=this.h)!==null&&e!==void 0?e:this.h=[]).push(t)}static get observedAttributes(){this.finalize();let t=[];return this.elementProperties.forEach((e,i)=>{let r=this._$Ep(i,e);r!==void 0&&(this._$Ev.set(r,i),t.push(r))}),t}static createProperty(t,e=Hg){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){let i=typeof t=="symbol"?Symbol():"__"+t,r=this.getPropertyDescriptor(t,i,e);r!==void 0&&Object.defineProperty(this.prototype,t,r)}}static getPropertyDescriptor(t,e,i){return{get(){return this[e]},set(r){let s=this[t];this[e]=r,this.requestUpdate(t,s,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||Hg}static finalize(){if(this.hasOwnProperty(Wg))return!1;this[Wg]=!0;let t=Object.getPrototypeOf(this);if(t.finalize(),t.h!==void 0&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){let e=this.properties,i=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(let r of i)this.createProperty(r,e[r])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){let e=[];if(Array.isArray(t)){let i=new Set(t.flat(1/0).reverse());for(let r of i)e.unshift(hd(r))}else t!==void 0&&e.push(hd(t));return e}static _$Ep(t,e){let i=e.attribute;return i===!1?void 0:typeof i=="string"?i:typeof t=="string"?t.toLowerCase():void 0}_$Eu(){var t;this._$E_=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(t=this.constructor.h)===null||t===void 0||t.forEach(e=>e(this))}addController(t){var e,i;((e=this._$ES)!==null&&e!==void 0?e:this._$ES=[]).push(t),this.renderRoot!==void 0&&this.isConnected&&((i=t.hostConnected)===null||i===void 0||i.call(t))}removeController(t){var e;(e=this._$ES)===null||e===void 0||e.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((t,e)=>{this.hasOwnProperty(e)&&(this._$Ei.set(e,this[e]),delete this[e])})}createRenderRoot(){var t;let e=(t=this.shadowRoot)!==null&&t!==void 0?t:this.attachShadow(this.constructor.shadowRootOptions);return jg(e,this.constructor.elementStyles),e}connectedCallback(){var t;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$ES)===null||t===void 0||t.forEach(e=>{var i;return(i=e.hostConnected)===null||i===void 0?void 0:i.call(e)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$ES)===null||t===void 0||t.forEach(e=>{var i;return(i=e.hostDisconnected)===null||i===void 0?void 0:i.call(e)})}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$EO(t,e,i=Hg){var r;let s=this.constructor._$Ep(t,i);if(s!==void 0&&i.reflect===!0){let o=(((r=i.converter)===null||r===void 0?void 0:r.toAttribute)!==void 0?i.converter:Vg).toAttribute(e,i.type);this._$El=t,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$El=null}}_$AK(t,e){var i;let r=this.constructor,s=r._$Ev.get(t);if(s!==void 0&&this._$El!==s){let o=r.getPropertyOptions(s),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((i=o.converter)===null||i===void 0?void 0:i.fromAttribute)!==void 0?o.converter:Vg;this._$El=s,this[s]=a.fromAttribute(e,o.type),this._$El=null}}requestUpdate(t,e,i){let r=!0;t!==void 0&&(((i=i||this.constructor.getPropertyOptions(t)).hasChanged||MA)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),i.reflect===!0&&this._$El!==t&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(t,i))):r=!1),!this.isUpdatePending&&r&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(e){Promise.reject(e)}let t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((r,s)=>this[s]=r),this._$Ei=void 0);let e=!1,i=this._$AL;try{e=this.shouldUpdate(i),e?(this.willUpdate(i),(t=this._$ES)===null||t===void 0||t.forEach(r=>{var s;return(s=r.hostUpdate)===null||s===void 0?void 0:s.call(r)}),this.update(i)):this._$Ek()}catch(r){throw e=!1,this._$Ek(),r}e&&this._$AE(i)}willUpdate(t){}_$AE(t){var e;(e=this._$ES)===null||e===void 0||e.forEach(i=>{var r;return(r=i.hostUpdated)===null||r===void 0?void 0:r.call(i)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){this._$EC!==void 0&&(this._$EC.forEach((e,i)=>this._$EO(i,this[i],e)),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}};Gi[Wg]=!0,Gi.elementProperties=new Map,Gi.elementStyles=[],Gi.shadowRootOptions={mode:"open"},DA?.({ReactiveElement:Gi}),(($g=fd.reactiveElementVersions)!==null&&$g!==void 0?$g:fd.reactiveElementVersions=[]).push("1.6.3");var zg,pd=window,Fo=pd.trustedTypes,PA=Fo?Fo.createPolicy("lit-html",{createHTML:n=>n}):void 0,md="$lit$",Xi=`lit$${(Math.random()+"").slice(9)}$`,qg="?"+Xi,FR=`<${qg}>`,Ss=document,bl=()=>Ss.createComment(""),yl=n=>n===null||typeof n!="object"&&typeof n!="function",jA=Array.isArray,$A=n=>jA(n)||typeof n?.[Symbol.iterator]=="function",Ug=`[ 	
\f\r]`,vl=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,LA=/-->/g,RA=/>/g,xs=RegExp(`>|${Ug}(?:([^\\s"'>=/]+)(${Ug}*=${Ug}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),IA=/'/g,FA=/"/g,HA=/^(?:script|style|textarea|title)$/i,VA=n=>(t,...e)=>({_$litType$:n,strings:t,values:e}),tn=VA(1),PG=VA(2),an=Symbol.for("lit-noChange"),Ae=Symbol.for("lit-nothing"),NA=new WeakMap,As=Ss.createTreeWalker(Ss,129,null,!1);function WA(n,t){if(!Array.isArray(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return PA!==void 0?PA.createHTML(t):t}var zA=(n,t)=>{let e=n.length-1,i=[],r,s=t===2?"<svg>":"",o=vl;for(let a=0;a<e;a++){let l=n[a],u,c,d=-1,h=0;for(;h<l.length&&(o.lastIndex=h,c=o.exec(l),c!==null);)h=o.lastIndex,o===vl?c[1]==="!--"?o=LA:c[1]!==void 0?o=RA:c[2]!==void 0?(HA.test(c[2])&&(r=RegExp("</"+c[2],"g")),o=xs):c[3]!==void 0&&(o=xs):o===xs?c[0]===">"?(o=r??vl,d=-1):c[1]===void 0?d=-2:(d=o.lastIndex-c[2].length,u=c[1],o=c[3]===void 0?xs:c[3]==='"'?FA:IA):o===FA||o===IA?o=xs:o===LA||o===RA?o=vl:(o=xs,r=void 0);let m=o===xs&&n[a+1].startsWith("/>")?" ":"";s+=o===vl?l+FR:d>=0?(i.push(u),l.slice(0,d)+md+l.slice(d)+Xi+m):l+Xi+(d===-2?(i.push(void 0),a):m)}return[WA(n,s+(n[e]||"<?>")+(t===2?"</svg>":"")),i]},wl=class n{constructor({strings:t,_$litType$:e},i){let r;this.parts=[];let s=0,o=0,a=t.length-1,l=this.parts,[u,c]=zA(t,e);if(this.el=n.createElement(u,i),As.currentNode=this.el.content,e===2){let d=this.el.content,h=d.firstChild;h.remove(),d.append(...h.childNodes)}for(;(r=As.nextNode())!==null&&l.length<a;){if(r.nodeType===1){if(r.hasAttributes()){let d=[];for(let h of r.getAttributeNames())if(h.endsWith(md)||h.startsWith(Xi)){let m=c[o++];if(d.push(h),m!==void 0){let v=r.getAttribute(m.toLowerCase()+md).split(Xi),g=/([.?@])?(.*)/.exec(m);l.push({type:1,index:s,name:g[2],strings:v,ctor:g[1]==="."?vd:g[1]==="?"?bd:g[1]==="@"?yd:Cs})}else l.push({type:6,index:s})}for(let h of d)r.removeAttribute(h)}if(HA.test(r.tagName)){let d=r.textContent.split(Xi),h=d.length-1;if(h>0){r.textContent=Fo?Fo.emptyScript:"";for(let m=0;m<h;m++)r.append(d[m],bl()),As.nextNode(),l.push({type:2,index:++s});r.append(d[h],bl())}}}else if(r.nodeType===8)if(r.data===qg)l.push({type:2,index:s});else{let d=-1;for(;(d=r.data.indexOf(Xi,d+1))!==-1;)l.push({type:7,index:s}),d+=Xi.length-1}s++}}static createElement(t,e){let i=Ss.createElement("template");return i.innerHTML=t,i}};function _s(n,t,e=n,i){var r,s,o,a;if(t===an)return t;let l=i!==void 0?(r=e._$Co)===null||r===void 0?void 0:r[i]:e._$Cl,u=yl(t)?void 0:t._$litDirective$;return l?.constructor!==u&&((s=l?._$AO)===null||s===void 0||s.call(l,!1),u===void 0?l=void 0:(l=new u(n),l._$AT(n,e,i)),i!==void 0?((o=(a=e)._$Co)!==null&&o!==void 0?o:a._$Co=[])[i]=l:e._$Cl=l),l!==void 0&&(t=_s(n,l._$AS(n,t.values),l,i)),t}var gd=class{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var e;let{el:{content:i},parts:r}=this._$AD,s=((e=t?.creationScope)!==null&&e!==void 0?e:Ss).importNode(i,!0);As.currentNode=s;let o=As.nextNode(),a=0,l=0,u=r[0];for(;u!==void 0;){if(a===u.index){let c;u.type===2?c=new No(o,o.nextSibling,this,t):u.type===1?c=new u.ctor(o,u.name,u.strings,this,t):u.type===6&&(c=new wd(o,this,t)),this._$AV.push(c),u=r[++l]}a!==u?.index&&(o=As.nextNode(),a++)}return As.currentNode=Ss,s}v(t){let e=0;for(let i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}},No=class n{constructor(t,e,i,r){var s;this.type=2,this._$AH=Ae,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=r,this._$Cp=(s=r?.isConnected)===null||s===void 0||s}get _$AU(){var t,e;return(e=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&e!==void 0?e:this._$Cp}get parentNode(){let t=this._$AA.parentNode,e=this._$AM;return e!==void 0&&t?.nodeType===11&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=_s(this,t,e),yl(t)?t===Ae||t==null||t===""?(this._$AH!==Ae&&this._$AR(),this._$AH=Ae):t!==this._$AH&&t!==an&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):$A(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==Ae&&yl(this._$AH)?this._$AA.nextSibling.data=t:this.$(Ss.createTextNode(t)),this._$AH=t}g(t){var e;let{values:i,_$litType$:r}=t,s=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=wl.createElement(WA(r.h,r.h[0]),this.options)),r);if(((e=this._$AH)===null||e===void 0?void 0:e._$AD)===s)this._$AH.v(i);else{let o=new gd(s,this),a=o.u(this.options);o.v(i),this.$(a),this._$AH=o}}_$AC(t){let e=NA.get(t.strings);return e===void 0&&NA.set(t.strings,e=new wl(t)),e}T(t){jA(this._$AH)||(this._$AH=[],this._$AR());let e=this._$AH,i,r=0;for(let s of t)r===e.length?e.push(i=new n(this.k(bl()),this.k(bl()),this,this.options)):i=e[r],i._$AI(s),r++;r<e.length&&(this._$AR(i&&i._$AB.nextSibling,r),e.length=r)}_$AR(t=this._$AA.nextSibling,e){var i;for((i=this._$AP)===null||i===void 0||i.call(this,!1,!0,e);t&&t!==this._$AB;){let r=t.nextSibling;t.remove(),t=r}}setConnected(t){var e;this._$AM===void 0&&(this._$Cp=t,(e=this._$AP)===null||e===void 0||e.call(this,t))}},Cs=class{constructor(t,e,i,r,s){this.type=1,this._$AH=Ae,this._$AN=void 0,this.element=t,this.name=e,this._$AM=r,this.options=s,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=Ae}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,i,r){let s=this.strings,o=!1;if(s===void 0)t=_s(this,t,e,0),o=!yl(t)||t!==this._$AH&&t!==an,o&&(this._$AH=t);else{let a=t,l,u;for(t=s[0],l=0;l<s.length-1;l++)u=_s(this,a[i+l],e,l),u===an&&(u=this._$AH[l]),o||(o=!yl(u)||u!==this._$AH[l]),u===Ae?t=Ae:t!==Ae&&(t+=(u??"")+s[l+1]),this._$AH[l]=u}o&&!r&&this.j(t)}j(t){t===Ae?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}},vd=class extends Cs{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===Ae?void 0:t}},NR=Fo?Fo.emptyScript:"",bd=class extends Cs{constructor(){super(...arguments),this.type=4}j(t){t&&t!==Ae?this.element.setAttribute(this.name,NR):this.element.removeAttribute(this.name)}},yd=class extends Cs{constructor(t,e,i,r,s){super(t,e,i,r,s),this.type=5}_$AI(t,e=this){var i;if((t=(i=_s(this,t,e,0))!==null&&i!==void 0?i:Ae)===an)return;let r=this._$AH,s=t===Ae&&r!==Ae||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,o=t!==Ae&&(r===Ae||s);s&&this.element.removeEventListener(this.name,this,r),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,i;typeof this._$AH=="function"?this._$AH.call((i=(e=this.options)===null||e===void 0?void 0:e.host)!==null&&i!==void 0?i:this.element,t):this._$AH.handleEvent(t)}},wd=class{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){_s(this,t)}},UA={O:md,P:Xi,A:qg,C:1,M:zA,L:gd,R:$A,D:_s,I:No,V:Cs,H:bd,N:yd,U:vd,F:wd},BA=pd.litHtmlPolyfillSupport;BA?.(wl,No),((zg=pd.litHtmlVersions)!==null&&zg!==void 0?zg:pd.litHtmlVersions=[]).push("2.8.0");var qA=(n,t,e)=>{var i,r;let s=(i=e?.renderBefore)!==null&&i!==void 0?i:t,o=s._$litPart$;if(o===void 0){let a=(r=e?.renderBefore)!==null&&r!==void 0?r:null;s._$litPart$=o=new No(t.insertBefore(bl(),a),a,void 0,e??{})}return o._$AI(n),o};var Yg,Kg;var Mn=class extends Gi{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,e;let i=super.createRenderRoot();return(t=(e=this.renderOptions).renderBefore)!==null&&t!==void 0||(e.renderBefore=i.firstChild),i}update(t){let e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=qA(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)===null||t===void 0||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)===null||t===void 0||t.setConnected(!1)}render(){return an}};Mn.finalized=!0,Mn._$litElement$=!0,(Yg=globalThis.litElementHydrateSupport)===null||Yg===void 0||Yg.call(globalThis,{LitElement:Mn});var YA=globalThis.litElementPolyfillSupport;YA?.({LitElement:Mn});((Kg=globalThis.litElementVersions)!==null&&Kg!==void 0?Kg:globalThis.litElementVersions=[]).push("3.3.3");var Dr=n=>t=>typeof t=="function"?((e,i)=>(customElements.define(e,i),i))(n,t):((e,i)=>{let{kind:r,elements:s}=i;return{kind:r,elements:s,finisher(o){customElements.define(e,o)}}})(n,t);var BR=(n,t)=>t.kind==="method"&&t.descriptor&&!("value"in t.descriptor)?{...t,finisher(e){e.createProperty(t.key,n)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){typeof t.initializer=="function"&&(this[t.key]=t.initializer.call(this))},finisher(e){e.createProperty(t.key,n)}},jR=(n,t,e)=>{t.constructor.createProperty(e,n)};function ke(n){return(t,e)=>e!==void 0?jR(n,t,e):BR(n,t)}function Ji(n){return ke({...n,state:!0})}var Gg,iX=((Gg=window.HTMLSlotElement)===null||Gg===void 0?void 0:Gg.prototype.assignedElements)!=null?(n,t)=>n.assignedElements(t):(n,t)=>n.assignedNodes(t).filter(e=>e.nodeType===Node.ELEMENT_NODE);var bn={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},di=n=>(...t)=>({_$litDirective$:n,values:t}),$n=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}};var{I:$R}=UA;var xd=n=>n.strings===void 0,KA=()=>document.createComment(""),Bo=(n,t,e)=>{var i;let r=n._$AA.parentNode,s=t===void 0?n._$AB:t._$AA;if(e===void 0){let o=r.insertBefore(KA(),s),a=r.insertBefore(KA(),s);e=new $R(o,a,n,n.options)}else{let o=e._$AB.nextSibling,a=e._$AM,l=a!==n;if(l){let u;(i=e._$AQ)===null||i===void 0||i.call(e,n),e._$AM=n,e._$AP!==void 0&&(u=n._$AU)!==a._$AU&&e._$AP(u)}if(o!==s||l){let u=e._$AA;for(;u!==o;){let c=u.nextSibling;r.insertBefore(u,s),u=c}}}return e},Mr=(n,t,e=n)=>(n._$AI(t,e),n),HR={},Ad=(n,t=HR)=>n._$AH=t,GA=n=>n._$AH,Sd=n=>{var t;(t=n._$AP)===null||t===void 0||t.call(n,!1,!0);let e=n._$AA,i=n._$AB.nextSibling;for(;e!==i;){let r=e.nextSibling;e.remove(),e=r}};var XA=(n,t,e)=>{let i=new Map;for(let r=t;r<=e;r++)i.set(n[r],r);return i},JA=di(class extends $n{constructor(n){if(super(n),n.type!==bn.CHILD)throw Error("repeat() can only be used in text expressions")}ct(n,t,e){let i;e===void 0?e=t:t!==void 0&&(i=t);let r=[],s=[],o=0;for(let a of n)r[o]=i?i(a,o):o,s[o]=e(a,o),o++;return{values:s,keys:r}}render(n,t,e){return this.ct(n,t,e).values}update(n,[t,e,i]){var r;let s=GA(n),{values:o,keys:a}=this.ct(t,e,i);if(!Array.isArray(s))return this.ut=a,o;let l=(r=this.ut)!==null&&r!==void 0?r:this.ut=[],u=[],c,d,h=0,m=s.length-1,v=0,g=o.length-1;for(;h<=m&&v<=g;)if(s[h]===null)h++;else if(s[m]===null)m--;else if(l[h]===a[v])u[v]=Mr(s[h],o[v]),h++,v++;else if(l[m]===a[g])u[g]=Mr(s[m],o[g]),m--,g--;else if(l[h]===a[g])u[g]=Mr(s[h],o[g]),Bo(n,u[g+1],s[h]),h++,g--;else if(l[m]===a[v])u[v]=Mr(s[m],o[v]),Bo(n,s[h],s[m]),m--,v++;else if(c===void 0&&(c=XA(a,v,g),d=XA(l,h,m)),c.has(l[h]))if(c.has(l[m])){let y=d.get(a[v]),x=y!==void 0?s[y]:null;if(x===null){let A=Bo(n,s[h]);Mr(A,o[v]),u[v]=A}else u[v]=Mr(x,o[v]),Bo(n,s[h],x),s[y]=null;v++}else Sd(s[m]),m--;else Sd(s[h]),h++;for(;v<=g;){let y=Bo(n,u[g+1]);Mr(y,o[v]),u[v++]=y}for(;h<=m;){let y=s[h++];y!==null&&Sd(y)}return this.ut=a,Ad(n,u),an}});var QA=di(class extends $n{constructor(n){if(super(n),n.type!==bn.PROPERTY&&n.type!==bn.ATTRIBUTE&&n.type!==bn.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!xd(n))throw Error("`live` bindings can only contain a single expression")}render(n){return n}update(n,[t]){if(t===an||t===Ae)return t;let e=n.element,i=n.name;if(n.type===bn.PROPERTY){if(t===e[i])return an}else if(n.type===bn.BOOLEAN_ATTRIBUTE){if(!!t===e.hasAttribute(i))return an}else if(n.type===bn.ATTRIBUTE&&e.getAttribute(i)===t+"")return an;return Ad(n),t}});var Al=(n,t)=>{var e,i;let r=n._$AN;if(r===void 0)return!1;for(let s of r)(i=(e=s)._$AO)===null||i===void 0||i.call(e,t,!1),Al(s,t);return!0},_d=n=>{let t,e;do{if((t=n._$AM)===void 0)break;e=t._$AN,e.delete(n),n=t}while(e?.size===0)},ZA=n=>{for(let t;t=n._$AM;n=t){let e=t._$AN;if(e===void 0)t._$AN=e=new Set;else if(e.has(n))break;e.add(n),zR(t)}};function VR(n){this._$AN!==void 0?(_d(this),this._$AM=n,ZA(this)):this._$AM=n}function WR(n,t=!1,e=0){let i=this._$AH,r=this._$AN;if(r!==void 0&&r.size!==0)if(t)if(Array.isArray(i))for(let s=e;s<i.length;s++)Al(i[s],!1),_d(i[s]);else i!=null&&(Al(i,!1),_d(i));else Al(this,n)}var zR=n=>{var t,e,i,r;n.type==bn.CHILD&&((t=(i=n)._$AP)!==null&&t!==void 0||(i._$AP=WR),(e=(r=n)._$AQ)!==null&&e!==void 0||(r._$AQ=VR))},Cd=class extends $n{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,e,i){super._$AT(t,e,i),ZA(this),this.isConnected=t._$AU}_$AO(t,e=!0){var i,r;t!==this.isConnected&&(this.isConnected=t,t?(i=this.reconnected)===null||i===void 0||i.call(this):(r=this.disconnected)===null||r===void 0||r.call(this)),e&&(Al(this,t),_d(this))}setValue(t){if(xd(this._$Ct))this._$Ct._$AI(t,this);else{let e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}};var Ed=()=>new Jg,Jg=class{},Xg=new WeakMap,kd=di(class extends Cd{render(n){return Ae}update(n,[t]){var e;let i=t!==this.G;return i&&this.G!==void 0&&this.ot(void 0),(i||this.rt!==this.lt)&&(this.G=t,this.dt=(e=n.options)===null||e===void 0?void 0:e.host,this.ot(this.lt=n.element)),Ae}ot(n){var t;if(typeof this.G=="function"){let e=(t=this.dt)!==null&&t!==void 0?t:globalThis,i=Xg.get(e);i===void 0&&(i=new WeakMap,Xg.set(e,i)),i.get(this.G)!==void 0&&this.G.call(this.dt,void 0),i.set(this.G,n),n!==void 0&&this.G.call(this.dt,n)}else this.G.value=n}get rt(){var n,t,e;return typeof this.G=="function"?(t=Xg.get((n=this.dt)!==null&&n!==void 0?n:globalThis))===null||t===void 0?void 0:t.get(this.G):(e=this.G)===null||e===void 0?void 0:e.value}disconnected(){this.rt===this.lt&&this.ot(void 0)}reconnected(){this.ot(this.lt)}});var Sl=di(class extends $n{constructor(n){var t;if(super(n),n.type!==bn.ATTRIBUTE||n.name!=="class"||((t=n.strings)===null||t===void 0?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(n){return" "+Object.keys(n).filter(t=>n[t]).join(" ")+" "}update(n,[t]){var e,i;if(this.it===void 0){this.it=new Set,n.strings!==void 0&&(this.nt=new Set(n.strings.join(" ").split(/\s/).filter(s=>s!=="")));for(let s in t)t[s]&&!(!((e=this.nt)===null||e===void 0)&&e.has(s))&&this.it.add(s);return this.render(t)}let r=n.element.classList;this.it.forEach(s=>{s in t||(r.remove(s),this.it.delete(s))});for(let s in t){let o=!!t[s];o===this.it.has(s)||!((i=this.nt)===null||i===void 0)&&i.has(s)||(o?(r.add(s),this.it.add(s)):(r.remove(s),this.it.delete(s)))}return an}});var Qg=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function Zg(n,t,e){n.addEventListener?n.addEventListener(t,e,!1):n.attachEvent&&n.attachEvent("on".concat(t),function(){e(window.event)})}function sS(n,t){for(var e=t.slice(0,t.length-1),i=0;i<e.length;i++)e[i]=n[e[i].toLowerCase()];return e}function oS(n){typeof n!="string"&&(n=""),n=n.replace(/\s/g,"");for(var t=n.split(","),e=t.lastIndexOf("");e>=0;)t[e-1]+=",",t.splice(e,1),e=t.lastIndexOf("");return t}function UR(n,t){for(var e=n.length>=t.length?n:t,i=n.length>=t.length?t:n,r=!0,s=0;s<e.length;s++)i.indexOf(e[s])===-1&&(r=!1);return r}var aS={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21EA":20,",":188,".":190,"/":191,"`":192,"-":Qg?173:189,"=":Qg?61:187,";":Qg?59:186,"'":222,"[":219,"]":221,"\\":220},Es={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},tS={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},hn={16:!1,18:!1,17:!1,91:!1},ln={};for(_l=1;_l<20;_l++)aS["f".concat(_l)]=111+_l;var _l,Te=[],eS=!1,lS="all",cS=[],Od=function(t){return aS[t.toLowerCase()]||Es[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function uS(n){lS=n||"all"}function Cl(){return lS||"all"}function qR(){return Te.slice(0)}function YR(n){var t=n.target||n.srcElement,e=t.tagName,i=!0;return(t.isContentEditable||(e==="INPUT"||e==="TEXTAREA"||e==="SELECT")&&!t.readOnly)&&(i=!1),i}function KR(n){return typeof n=="string"&&(n=Od(n)),Te.indexOf(n)!==-1}function GR(n,t){var e,i;n||(n=Cl());for(var r in ln)if(Object.prototype.hasOwnProperty.call(ln,r))for(e=ln[r],i=0;i<e.length;)e[i].scope===n?e.splice(i,1):i++;Cl()===n&&uS(t||"all")}function XR(n){var t=n.keyCode||n.which||n.charCode,e=Te.indexOf(t);if(e>=0&&Te.splice(e,1),n.key&&n.key.toLowerCase()==="meta"&&Te.splice(0,Te.length),(t===93||t===224)&&(t=91),t in hn){hn[t]=!1;for(var i in Es)Es[i]===t&&(He[i]=!1)}}function JR(n){if(!n)Object.keys(ln).forEach(function(o){return delete ln[o]});else if(Array.isArray(n))n.forEach(function(o){o.key&&tv(o)});else if(typeof n=="object")n.key&&tv(n);else if(typeof n=="string"){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];var r=e[0],s=e[1];typeof r=="function"&&(s=r,r=""),tv({key:n,scope:r,method:s,splitKey:"+"})}}var tv=function(t){var e=t.key,i=t.scope,r=t.method,s=t.splitKey,o=s===void 0?"+":s,a=oS(e);a.forEach(function(l){var u=l.split(o),c=u.length,d=u[c-1],h=d==="*"?"*":Od(d);if(ln[h]){i||(i=Cl());var m=c>1?sS(Es,u):[];ln[h]=ln[h].filter(function(v){var g=r?v.method===r:!0;return!(g&&v.scope===i&&UR(v.mods,m))})}})};function nS(n,t,e,i){if(t.element===i){var r;if(t.scope===e||t.scope==="all"){r=t.mods.length>0;for(var s in hn)Object.prototype.hasOwnProperty.call(hn,s)&&(!hn[s]&&t.mods.indexOf(+s)>-1||hn[s]&&t.mods.indexOf(+s)===-1)&&(r=!1);(t.mods.length===0&&!hn[16]&&!hn[18]&&!hn[17]&&!hn[91]||r||t.shortcut==="*")&&t.method(n,t)===!1&&(n.preventDefault?n.preventDefault():n.returnValue=!1,n.stopPropagation&&n.stopPropagation(),n.cancelBubble&&(n.cancelBubble=!0))}}}function iS(n,t){var e=ln["*"],i=n.keyCode||n.which||n.charCode;if(He.filter.call(this,n)){if((i===93||i===224)&&(i=91),Te.indexOf(i)===-1&&i!==229&&Te.push(i),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(v){var g=tS[v];n[v]&&Te.indexOf(g)===-1?Te.push(g):!n[v]&&Te.indexOf(g)>-1?Te.splice(Te.indexOf(g),1):v==="metaKey"&&n[v]&&Te.length===3&&(n.ctrlKey||n.shiftKey||n.altKey||(Te=Te.slice(Te.indexOf(g))))}),i in hn){hn[i]=!0;for(var r in Es)Es[r]===i&&(He[r]=!0);if(!e)return}for(var s in hn)Object.prototype.hasOwnProperty.call(hn,s)&&(hn[s]=n[tS[s]]);n.getModifierState&&!(n.altKey&&!n.ctrlKey)&&n.getModifierState("AltGraph")&&(Te.indexOf(17)===-1&&Te.push(17),Te.indexOf(18)===-1&&Te.push(18),hn[17]=!0,hn[18]=!0);var o=Cl();if(e)for(var a=0;a<e.length;a++)e[a].scope===o&&(n.type==="keydown"&&e[a].keydown||n.type==="keyup"&&e[a].keyup)&&nS(n,e[a],o,t);if(i in ln){for(var l=0;l<ln[i].length;l++)if((n.type==="keydown"&&ln[i][l].keydown||n.type==="keyup"&&ln[i][l].keyup)&&ln[i][l].key){for(var u=ln[i][l],c=u.splitKey,d=u.key.split(c),h=[],m=0;m<d.length;m++)h.push(Od(d[m]));h.sort().join("")===Te.sort().join("")&&nS(n,u,o,t)}}}}function QR(n){return cS.indexOf(n)>-1}function He(n,t,e){Te=[];var i=oS(n),r=[],s="all",o=document,a=0,l=!1,u=!0,c="+";for(e===void 0&&typeof t=="function"&&(e=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(s=t.scope),t.element&&(o=t.element),t.keyup&&(l=t.keyup),t.keydown!==void 0&&(u=t.keydown),typeof t.splitKey=="string"&&(c=t.splitKey)),typeof t=="string"&&(s=t);a<i.length;a++)n=i[a].split(c),r=[],n.length>1&&(r=sS(Es,n)),n=n[n.length-1],n=n==="*"?"*":Od(n),n in ln||(ln[n]=[]),ln[n].push({keyup:l,keydown:u,scope:s,mods:r,shortcut:i[a],method:e,key:i[a],splitKey:c,element:o});typeof o<"u"&&!QR(o)&&window&&(cS.push(o),Zg(o,"keydown",function(d){iS(d,o)}),eS||(eS=!0,Zg(window,"focus",function(){Te=[]})),Zg(o,"keyup",function(d){iS(d,o),XR(d)}))}var ev={setScope:uS,getScope:Cl,deleteScope:GR,getPressedKeyCodes:qR,isPressed:KR,filter:YR,unbind:JR};for(Td in ev)Object.prototype.hasOwnProperty.call(ev,Td)&&(He[Td]=ev[Td]);var Td;typeof window<"u"&&(rS=window.hotkeys,He.noConflict=function(n){return n&&window.hotkeys===He&&(window.hotkeys=rS),He},window.hotkeys=He);var rS;var El=function(n,t,e,i){var r=arguments.length,s=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},ks=class extends Mn{constructor(){super(...arguments),this.placeholder="",this.hideBreadcrumbs=!1,this.breadcrumbHome="Home",this.breadcrumbs=[],this._inputRef=Ed()}render(){let t="";if(!this.hideBreadcrumbs){let e=[];for(let i of this.breadcrumbs)e.push(tn`<button
            tabindex="-1"
            @click=${()=>this.selectParent(i)}
            class="breadcrumb"
          >
            ${i}
          </button>`);t=tn`<div class="breadcrumb-list">
        <button
          tabindex="-1"
          @click=${()=>this.selectParent()}
          class="breadcrumb"
        >
          ${this.breadcrumbHome}
        </button>
        ${e}
      </div>`}return tn`
      ${t}
      <div part="ninja-input-wrapper" class="search-wrapper">
        <input
          part="ninja-input"
          type="text"
          id="search"
          spellcheck="false"
          autocomplete="off"
          @input="${this._handleInput}"
          ${kd(this._inputRef)}
          placeholder="${this.placeholder}"
          class="search"
        />
      </div>
    `}setSearch(t){this._inputRef.value&&(this._inputRef.value.value=t)}focusSearch(){requestAnimationFrame(()=>this._inputRef.value.focus())}_handleInput(t){let e=t.target;this.dispatchEvent(new CustomEvent("change",{detail:{search:e.value},bubbles:!1,composed:!1}))}selectParent(t){this.dispatchEvent(new CustomEvent("setParent",{detail:{parent:t},bubbles:!0,composed:!0}))}firstUpdated(){this.focusSearch()}_close(){this.dispatchEvent(new CustomEvent("close",{bubbles:!0,composed:!0}))}};ks.styles=Ki`
    :host {
      flex: 1;
      position: relative;
    }
    .search {
      padding: 1.25em;
      flex-grow: 1;
      flex-shrink: 0;
      margin: 0px;
      border: none;
      appearance: none;
      font-size: 1.125em;
      background: transparent;
      caret-color: var(--ninja-accent-color);
      color: var(--ninja-text-color);
      outline: none;
      font-family: var(--ninja-font-family);
    }
    .search::placeholder {
      color: var(--ninja-placeholder-color);
    }
    .breadcrumb-list {
      padding: 1em 4em 0 1em;
      display: flex;
      flex-direction: row;
      align-items: stretch;
      justify-content: flex-start;
      flex: initial;
    }

    .breadcrumb {
      background: var(--ninja-secondary-background-color);
      text-align: center;
      line-height: 1.2em;
      border-radius: var(--ninja-key-border-radius);
      border: 0;
      cursor: pointer;
      padding: 0.1em 0.5em;
      color: var(--ninja-secondary-text-color);
      margin-right: 0.5em;
      outline: none;
      font-family: var(--ninja-font-family);
    }

    .search-wrapper {
      display: flex;
      border-bottom: var(--ninja-separate-border);
    }
  `;El([ke()],ks.prototype,"placeholder",void 0);El([ke({type:Boolean})],ks.prototype,"hideBreadcrumbs",void 0);El([ke()],ks.prototype,"breadcrumbHome",void 0);El([ke({type:Array})],ks.prototype,"breadcrumbs",void 0);ks=El([Dr("ninja-header")],ks);var kl=class extends $n{constructor(t){if(super(t),this.et=Ae,t.type!==bn.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(t){if(t===Ae||t==null)return this.ft=void 0,this.et=t;if(t===an)return t;if(typeof t!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(t===this.et)return this.ft;this.et=t;let e=[t];return e.raw=e,this.ft={_$litType$:this.constructor.resultType,strings:e,values:[]}}};kl.directiveName="unsafeHTML",kl.resultType=1;var dS=di(kl);function hS(n,t,e,i){var r=arguments.length,s=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s}var fS=Ki`:host{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}`;var nv=class extends Mn{render(){return tn`<span><slot></slot></span>`}};nv.styles=[fS];nv=hS([Dr("mwc-icon")],nv);var Dd=function(n,t,e,i){var r=arguments.length,s=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},jo=class extends Mn{constructor(){super(),this.selected=!1,this.hotKeysJoinedView=!1,this.addEventListener("click",this.click)}ensureInView(){requestAnimationFrame(()=>this.scrollIntoView({block:"nearest"}))}click(){this.dispatchEvent(new CustomEvent("actionsSelected",{detail:this.action,bubbles:!0,composed:!0}))}updated(t){t.has("selected")&&this.selected&&this.ensureInView()}render(){let t;this.action.mdIcon?t=tn`<mwc-icon part="ninja-icon" class="ninja-icon">${this.action.mdIcon}</mwc-icon>`:this.action.icon&&(t=dS(this.action.icon||""));let e;this.action.hotkey&&(this.hotKeysJoinedView?e=tn`<div class="ninja-hotkey">${this.action.hotkey}</div>`:e=this.action.hotkey.split("+").map(r=>tn`<div class="ninja-hotkey">${r}</div>`));let i={selected:this.selected,"ninja-action":!0};return tn`
      <div class="ninja-action" part="ninja-action ${this.selected?"ninja-selected":""}" class=${Sl(i)}>
        ${t}
        <div class="ninja-title">${this.action.title}</div>
        ${e}
      </div>
    `}};jo.styles=Ki`
    :host {
      display: flex;
      width: 100%;
    }
    .ninja-action {
      padding: 0.75em 1em;
      display: flex;
      border-left: 2px solid transparent;
      align-items: center;
      justify-content: start;
      outline: none;
      transition: color 0s ease 0s;
      width: 100%;
    }
    .ninja-action.selected {
      cursor: pointer;
      color: var(--ninja-selected-text-color);
      background-color: var(--ninja-selected-background);
      border-left: 2px solid var(--ninja-accent-color);
      outline: none;
    }
    .ninja-action.selected .ninja-icon {
      color: var(--ninja-selected-text-color);
    }
    .ninja-icon {
      font-size: var(--ninja-icon-size);
      max-width: var(--ninja-icon-size);
      max-height: var(--ninja-icon-size);
      margin-right: 1em;
      color: var(--ninja-icon-color);
      margin-right: 1em;
      position: relative;
    }

    .ninja-title {
      flex-shrink: 0.01;
      margin-right: 0.5em;
      flex-grow: 1;
      font-size: 0.8125em;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .ninja-hotkeys {
      margin-left: 0.5em;
      flex-shrink: 0;
      width: min-content;
    }

    .ninja-hotkey {
      background: var(--ninja-secondary-background-color);
      padding: 0.06em 0.25em;
      border-radius: var(--ninja-key-border-radius);
      text-transform: capitalize;
      color: var(--ninja-secondary-text-color);
      font-size: 0.75em;
      margin-left: 0.5em;
    }
  `;Dd([ke({type:Object})],jo.prototype,"action",void 0);Dd([ke({type:Boolean})],jo.prototype,"selected",void 0);Dd([ke({type:Boolean})],jo.prototype,"hotKeysJoinedView",void 0);jo=Dd([Dr("ninja-action")],jo);var pS=tn` <div class="modal-footer" slot="footer">
  <span class="help">
    <svg
      version="1.0"
      class="ninja-examplekey"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 1280 1280"
    >
      <path
        d="M1013 376c0 73.4-.4 113.3-1.1 120.2a159.9 159.9 0 0 1-90.2 127.3c-20 9.6-36.7 14-59.2 15.5-7.1.5-121.9.9-255 1h-242l95.5-95.5 95.5-95.5-38.3-38.2-38.2-38.3-160 160c-88 88-160 160.4-160 161 0 .6 72 73 160 161l160 160 38.2-38.3 38.3-38.2-95.5-95.5-95.5-95.5h251.1c252.9 0 259.8-.1 281.4-3.6 72.1-11.8 136.9-54.1 178.5-116.4 8.6-12.9 22.6-40.5 28-55.4 4.4-12 10.7-36.1 13.1-50.6 1.6-9.6 1.8-21 2.1-132.8l.4-122.2H1013v110z"
      />
    </svg>

    to select
  </span>
  <span class="help">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="ninja-examplekey"
      viewBox="0 0 24 24"
    >
      <path d="M0 0h24v24H0V0z" fill="none" />
      <path
        d="M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"
      />
    </svg>
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="ninja-examplekey"
      viewBox="0 0 24 24"
    >
      <path d="M0 0h24v24H0V0z" fill="none" />
      <path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z" />
    </svg>
    to navigate
  </span>
  <span class="help">
    <span class="ninja-examplekey esc">esc</span>
    to close
  </span>
  <span class="help">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="ninja-examplekey backspace"
      viewBox="0 0 20 20"
      fill="currentColor"
    >
      <path
        fill-rule="evenodd"
        d="M6.707 4.879A3 3 0 018.828 4H15a3 3 0 013 3v6a3 3 0 01-3 3H8.828a3 3 0 01-2.12-.879l-4.415-4.414a1 1 0 010-1.414l4.414-4.414zm4 2.414a1 1 0 00-1.414 1.414L10.586 10l-1.293 1.293a1 1 0 101.414 1.414L12 11.414l1.293 1.293a1 1 0 001.414-1.414L13.414 10l1.293-1.293a1 1 0 00-1.414-1.414L12 8.586l-1.293-1.293z"
        clip-rule="evenodd"
      />
    </svg>
    move to parent
  </span>
</div>`;var mS=Ki`
  :host {
    --ninja-width: 640px;
    --ninja-backdrop-filter: none;
    --ninja-overflow-background: rgba(255, 255, 255, 0.5);
    --ninja-text-color: rgb(60, 65, 73);
    --ninja-font-size: 16px;
    --ninja-top: 20%;

    --ninja-key-border-radius: 0.25em;
    --ninja-accent-color: rgb(110, 94, 210);
    --ninja-secondary-background-color: rgb(239, 241, 244);
    --ninja-secondary-text-color: rgb(107, 111, 118);

    --ninja-selected-background: rgb(248, 249, 251);

    --ninja-icon-color: var(--ninja-secondary-text-color);
    --ninja-icon-size: 1.2em;
    --ninja-separate-border: 1px solid var(--ninja-secondary-background-color);

    --ninja-modal-background: #fff;
    --ninja-modal-shadow: rgb(0 0 0 / 50%) 0px 16px 70px;

    --ninja-actions-height: 300px;
    --ninja-group-text-color: rgb(144, 149, 157);

    --ninja-footer-background: rgba(242, 242, 242, 0.4);

    --ninja-placeholder-color: #8e8e8e;

    font-size: var(--ninja-font-size);

    --ninja-z-index: 1;
  }

  :host(.dark) {
    --ninja-backdrop-filter: none;
    --ninja-overflow-background: rgba(0, 0, 0, 0.7);
    --ninja-text-color: #7d7d7d;

    --ninja-modal-background: rgba(17, 17, 17, 0.85);
    --ninja-accent-color: rgb(110, 94, 210);
    --ninja-secondary-background-color: rgba(51, 51, 51, 0.44);
    --ninja-secondary-text-color: #888;

    --ninja-selected-text-color: #eaeaea;
    --ninja-selected-background: rgba(51, 51, 51, 0.44);

    --ninja-icon-color: var(--ninja-secondary-text-color);
    --ninja-separate-border: 1px solid var(--ninja-secondary-background-color);

    --ninja-modal-shadow: 0 16px 70px rgba(0, 0, 0, 0.2);

    --ninja-group-text-color: rgb(144, 149, 157);

    --ninja-footer-background: rgba(30, 30, 30, 85%);
  }

  .modal {
    display: none;
    position: fixed;
    z-index: var(--ninja-z-index);
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background: var(--ninja-overflow-background);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-backdrop-filter: var(--ninja-backdrop-filter);
    backdrop-filter: var(--ninja-backdrop-filter);
    text-align: left;
    color: var(--ninja-text-color);
    font-family: var(--ninja-font-family);
  }
  .modal.visible {
    display: block;
  }

  .modal-content {
    position: relative;
    top: var(--ninja-top);
    margin: auto;
    padding: 0;
    display: flex;
    flex-direction: column;
    flex-shrink: 1;
    -webkit-box-flex: 1;
    flex-grow: 1;
    min-width: 0px;
    will-change: transform;
    background: var(--ninja-modal-background);
    border-radius: 0.5em;
    box-shadow: var(--ninja-modal-shadow);
    max-width: var(--ninja-width);
    overflow: hidden;
  }

  .bump {
    animation: zoom-in-zoom-out 0.2s ease;
  }

  @keyframes zoom-in-zoom-out {
    0% {
      transform: scale(0.99);
    }
    50% {
      transform: scale(1.01, 1.01);
    }
    100% {
      transform: scale(1, 1);
    }
  }

  .ninja-github {
    color: var(--ninja-keys-text-color);
    font-weight: normal;
    text-decoration: none;
  }

  .actions-list {
    max-height: var(--ninja-actions-height);
    overflow: auto;
    scroll-behavior: smooth;
    position: relative;
    margin: 0;
    padding: 0.5em 0;
    list-style: none;
    scroll-behavior: smooth;
  }

  .group-header {
    height: 1.375em;
    line-height: 1.375em;
    padding-left: 1.25em;
    padding-top: 0.5em;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
    font-size: 0.75em;
    line-height: 1em;
    color: var(--ninja-group-text-color);
    margin: 1px 0;
  }

  .modal-footer {
    background: var(--ninja-footer-background);
    padding: 0.5em 1em;
    display: flex;
    /* font-size: 0.75em; */
    border-top: var(--ninja-separate-border);
    color: var(--ninja-secondary-text-color);
  }

  .modal-footer .help {
    display: flex;
    margin-right: 1em;
    align-items: center;
    font-size: 0.75em;
  }

  .ninja-examplekey {
    background: var(--ninja-secondary-background-color);
    padding: 0.06em 0.25em;
    border-radius: var(--ninja-key-border-radius);
    color: var(--ninja-secondary-text-color);
    width: 1em;
    height: 1em;
    margin-right: 0.5em;
    font-size: 1.25em;
    fill: currentColor;
  }
  .ninja-examplekey.esc {
    width: auto;
    height: auto;
    font-size: 1.1em;
  }
  .ninja-examplekey.backspace {
    opacity: 0.7;
  }
`;var ze=function(n,t,e,i){var r=arguments.length,s=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},Ie=class extends Mn{constructor(){super(...arguments),this.placeholder="Type a command or search...",this.disableHotkeys=!1,this.hideBreadcrumbs=!1,this.openHotkey="cmd+k,ctrl+k",this.navigationUpHotkey="up,shift+tab",this.navigationDownHotkey="down,tab",this.closeHotkey="esc",this.goBackHotkey="backspace",this.selectHotkey="enter",this.hotKeysJoinedView=!1,this.noAutoLoadMdIcons=!1,this.data=[],this.visible=!1,this._bump=!0,this._actionMatches=[],this._search="",this._flatData=[],this._headerRef=Ed()}open(t={}){this._bump=!0,this.visible=!0,this._headerRef.value.focusSearch(),this._actionMatches.length>0&&(this._selected=this._actionMatches[0]),this.setParent(t.parent)}close(){this._bump=!1,this.visible=!1}setParent(t){t?this._currentRoot=t:this._currentRoot=void 0,this._selected=void 0,this._search="",this._headerRef.value.setSearch("")}get breadcrumbs(){var t;let e=[],i=(t=this._selected)===null||t===void 0?void 0:t.parent;if(i)for(e.push(i);i;){let r=this._flatData.find(s=>s.id===i);r?.parent&&e.push(r.parent),i=r?r.parent:void 0}return e.reverse()}connectedCallback(){super.connectedCallback(),this.noAutoLoadMdIcons||document.fonts.load("24px Material Icons","apps").then(()=>{}),this._registerInternalHotkeys()}disconnectedCallback(){super.disconnectedCallback(),this._unregisterInternalHotkeys()}_flattern(t,e){let i=[];return t||(t=[]),t.map(r=>{let s=r.children&&r.children.some(a=>typeof a=="string"),o={...r,parent:r.parent||e};return s||(o.children&&o.children.length&&(e=r.id,i=[...i,...o.children]),o.children=o.children?o.children.map(a=>a.id):[]),o}).concat(i.length?this._flattern(i,e):i)}update(t){t.has("data")&&!this.disableHotkeys&&(this._flatData=this._flattern(this.data),this._flatData.filter(e=>!!e.hotkey).forEach(e=>{He(e.hotkey,i=>{i.preventDefault(),e.handler&&e.handler(e)})})),super.update(t)}_registerInternalHotkeys(){this.openHotkey&&He(this.openHotkey,t=>{t.preventDefault(),this.visible?this.close():this.open()}),this.selectHotkey&&He(this.selectHotkey,t=>{this.visible&&(t.preventDefault(),this._actionSelected(this._actionMatches[this._selectedIndex]))}),this.goBackHotkey&&He(this.goBackHotkey,t=>{this.visible&&(this._search||(t.preventDefault(),this._goBack()))}),this.navigationDownHotkey&&He(this.navigationDownHotkey,t=>{this.visible&&(t.preventDefault(),this._selectedIndex>=this._actionMatches.length-1?this._selected=this._actionMatches[0]:this._selected=this._actionMatches[this._selectedIndex+1])}),this.navigationUpHotkey&&He(this.navigationUpHotkey,t=>{this.visible&&(t.preventDefault(),this._selectedIndex===0?this._selected=this._actionMatches[this._actionMatches.length-1]:this._selected=this._actionMatches[this._selectedIndex-1])}),this.closeHotkey&&He(this.closeHotkey,()=>{this.visible&&this.close()})}_unregisterInternalHotkeys(){this.openHotkey&&He.unbind(this.openHotkey),this.selectHotkey&&He.unbind(this.selectHotkey),this.goBackHotkey&&He.unbind(this.goBackHotkey),this.navigationDownHotkey&&He.unbind(this.navigationDownHotkey),this.navigationUpHotkey&&He.unbind(this.navigationUpHotkey),this.closeHotkey&&He.unbind(this.closeHotkey)}_actionFocused(t,e){this._selected=t,e.target.ensureInView()}_onTransitionEnd(){this._bump=!1}_goBack(){let t=this.breadcrumbs.length>1?this.breadcrumbs[this.breadcrumbs.length-2]:void 0;this.setParent(t)}render(){let t={bump:this._bump,"modal-content":!0},e={visible:this.visible,modal:!0},r=this._flatData.filter(a=>{var l;let u=new RegExp(this._search,"gi"),c=a.title.match(u)||((l=a.keywords)===null||l===void 0?void 0:l.match(u));return(!this._currentRoot&&this._search||a.parent===this._currentRoot)&&c}).reduce((a,l)=>a.set(l.section,[...a.get(l.section)||[],l]),new Map);this._actionMatches=[...r.values()].flat(),this._actionMatches.length>0&&this._selectedIndex===-1&&(this._selected=this._actionMatches[0]),this._actionMatches.length===0&&(this._selected=void 0);let s=a=>tn` ${JA(a,l=>l.id,l=>{var u;return tn`<ninja-action
            exportparts="ninja-action,ninja-selected,ninja-icon"
            .selected=${QA(l.id===((u=this._selected)===null||u===void 0?void 0:u.id))}
            .hotKeysJoinedView=${this.hotKeysJoinedView}
            @mouseover=${c=>this._actionFocused(l,c)}
            @actionsSelected=${c=>this._actionSelected(c.detail)}
            .action=${l}
          ></ninja-action>`})}`,o=[];return r.forEach((a,l)=>{let u=l?tn`<div class="group-header">${l}</div>`:void 0;o.push(tn`${u}${s(a)}`)}),tn`
      <div @click=${this._overlayClick} class=${Sl(e)}>
        <div class=${Sl(t)} @animationend=${this._onTransitionEnd}>
          <ninja-header
            exportparts="ninja-input,ninja-input-wrapper"
            ${kd(this._headerRef)}
            .placeholder=${this.placeholder}
            .hideBreadcrumbs=${this.hideBreadcrumbs}
            .breadcrumbs=${this.breadcrumbs}
            @change=${this._handleInput}
            @setParent=${a=>this.setParent(a.detail.parent)}
            @close=${this.close}
          >
          </ninja-header>
          <div class="modal-body">
            <div class="actions-list" part="actions-list">${o}</div>
          </div>
          <slot name="footer"> ${pS} </slot>
        </div>
      </div>
    `}get _selectedIndex(){return this._selected?this._actionMatches.indexOf(this._selected):-1}_actionSelected(t){var e;if(this.dispatchEvent(new CustomEvent("selected",{detail:{search:this._search,action:t},bubbles:!0,composed:!0})),!!t){if(t.children&&((e=t.children)===null||e===void 0?void 0:e.length)>0&&(this._currentRoot=t.id,this._search=""),this._headerRef.value.setSearch(""),this._headerRef.value.focusSearch(),t.handler){let i=t.handler(t);i?.keepOpen||this.close()}this._bump=!0}}async _handleInput(t){this._search=t.detail.search,await this.updateComplete,this.dispatchEvent(new CustomEvent("change",{detail:{search:this._search,actions:this._actionMatches},bubbles:!0,composed:!0}))}_overlayClick(t){var e;!((e=t.target)===null||e===void 0)&&e.classList.contains("modal")&&this.close()}};Ie.styles=[mS];ze([ke({type:String})],Ie.prototype,"placeholder",void 0);ze([ke({type:Boolean})],Ie.prototype,"disableHotkeys",void 0);ze([ke({type:Boolean})],Ie.prototype,"hideBreadcrumbs",void 0);ze([ke()],Ie.prototype,"openHotkey",void 0);ze([ke()],Ie.prototype,"navigationUpHotkey",void 0);ze([ke()],Ie.prototype,"navigationDownHotkey",void 0);ze([ke()],Ie.prototype,"closeHotkey",void 0);ze([ke()],Ie.prototype,"goBackHotkey",void 0);ze([ke()],Ie.prototype,"selectHotkey",void 0);ze([ke({type:Boolean})],Ie.prototype,"hotKeysJoinedView",void 0);ze([ke({type:Boolean})],Ie.prototype,"noAutoLoadMdIcons",void 0);ze([ke({type:Array,hasChanged(){return!0}})],Ie.prototype,"data",void 0);ze([Ji()],Ie.prototype,"visible",void 0);ze([Ji()],Ie.prototype,"_bump",void 0);ze([Ji()],Ie.prototype,"_actionMatches",void 0);ze([Ji()],Ie.prototype,"_search",void 0);ze([Ji()],Ie.prototype,"_currentRoot",void 0);ze([Ji()],Ie.prototype,"_flatData",void 0);ze([Ji()],Ie.prototype,"breadcrumbs",null);ze([Ji()],Ie.prototype,"_selected",void 0);Ie=ze([Dr("ninja-keys")],Ie);var iv=class extends gt{connect(){this.element.data=[{id:"Dashboard",title:"Dashboard",hotkey:"ctrl+D",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="ninja-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" /></svg>',handler:()=>{Turbo.visit("/")}},{id:"Billing",title:"Billing",hotkey:"ctrl+B",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="ninja-icon" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z" /></svg>',handler:()=>{Turbo.visit("/subscriptions")}},{id:"Announcements",title:"Announcements",hotkey:"ctrl+A",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="ninja-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" /></svg>',handler:()=>{Turbo.visit("/announcements")}},{id:"Profile",title:"Profile",hotkey:"ctrl+P",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="ninja-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>',handler:()=>{Turbo.visit("/users/edit")}},{id:"Google",title:"Google",hotkey:"ctrl+G",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="ninja-icon" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" /></svg>',handler:()=>{Turbo.visit("/docs/google")}},{id:"Amazon",title:"Amazon",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="ninja-icon" viewBox="0 0 448 512"><path d="M257.2 162.7c-48.7 1.8-169.5 15.5-169.5 117.5 0 109.5 138.3 114 183.5 43.2 6.5 10.2 35.4 37.5 45.3 46.8l56.8-56S341 288.9 341 261.4V114.3C341 89 316.5 32 228.7 32 140.7 32 94 87 94 136.3l73.5 6.8c16.3-49.5 54.2-49.5 54.2-49.5 40.7-.1 35.5 29.8 35.5 69.1zm0 86.8c0 80-84.2 68-84.2 17.2 0-47.2 50.5-56.7 84.2-57.8v40.6zm136 163.5c-7.7 10-70 67-174.5 67S34.2 408.5 9.7 379c-6.8-7.7 1-11.3 5.5-8.3C88.5 415.2 203 488.5 387.7 401c7.5-3.7 13.3 2 5.5 12zm39.8 2.2c-6.5 15.8-16 26.8-21.2 31-5.5 4.5-9.5 2.7-6.5-3.8s19.3-46.5 12.7-55c-6.5-8.3-37-4.3-48-3.2-10.8 1-13 2-14-.3-2.3-5.7 21.7-15.5 37.5-17.5 15.7-1.8 41-.8 46 5.7 3.7 5.1 0 27.1-6.5 43.1z"/></svg>',handler:()=>{Turbo.visit("/docs/amazon")}},{id:"Google Scholar",title:"Google Scholar",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="ninja-icon" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25" /></svg>',handler:()=>{Turbo.visit("/docs/google-scholar")}},{id:"Google Product",title:"Google Product",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="ninja-icon" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" /></svg>',handler:()=>{Turbo.visit("/docs/google-product")}},{id:"Google Videos",title:"Google Videos",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="ninja-icon" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15.91 11.672a.375.375 0 010 .656l-5.603 3.113a.375.375 0 01-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z" /></svg>',handler:()=>{Turbo.visit("/docs/google-videos")}},{id:"Google Images",title:"Google Images",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="ninja-icon" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" /></svg>',handler:()=>{Turbo.visit("/docs/google-images")}},{id:"Google Lens",title:"Google Lens",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="ninja-icon" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" /></svg>',handler:()=>{Turbo.visit("/docs/google-lens")}},{id:"Google News",title:"Google News",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="ninja-icon" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 01-2.25 2.25M16.5 7.5V18a2.25 2.25 0 002.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 002.25 2.25h13.5M6 7.5h3v3H6v-3z" /></svg>',handler:()=>{Turbo.visit("/docs/google-news")}},{id:"Google Shopping",title:"Google Shopping",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="ninja-icon" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z" /></svg>',handler:()=>{Turbo.visit("/docs/google-shopping")}},{id:"Google Jobs",title:"Google Jobs",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="ninja-icon" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0M12 12.75h.008v.008H12v-.008z" /></svg>',handler:()=>{Turbo.visit("/docs/google-jobs")}},{id:"Google Trends",title:"Google Trends",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="ninja-icon" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941" /></svg>',handler:()=>{Turbo.visit("/docs/google-trends")}}]}};var pv={};de(pv,{default:()=>fv});var Md=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Pr={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var t=new Date(n.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var e=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1};var Pd={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var t=n%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Ld=Pd;var yn=function(n,t){return t===void 0&&(t=2),("000"+n).slice(t*-1)},Pn=function(n){return n===!0?1:0};function sv(n,t){var e;return function(){var i=this,r=arguments;clearTimeout(e),e=setTimeout(function(){return n.apply(i,r)},t)}}var Rd=function(n){return n instanceof Array?n:[n]};function wn(n,t,e){if(e===!0)return n.classList.add(t);n.classList.remove(t)}function se(n,t,e){var i=window.document.createElement(n);return t=t||"",e=e||"",i.className=t,e!==void 0&&(i.textContent=e),i}function Tl(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function ov(n,t){if(t(n))return n;if(n.parentNode)return ov(n.parentNode,t)}function Ol(n,t){var e=se("div","numInputWrapper"),i=se("input","numInput "+n),r=se("span","arrowUp"),s=se("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?i.type="number":(i.type="text",i.pattern="\\d*"),t!==void 0)for(var o in t)i.setAttribute(o,t[o]);return e.appendChild(i),e.appendChild(r),e.appendChild(s),e}function Ln(n){try{if(typeof n.composedPath=="function"){var t=n.composedPath();return t[0]}return n.target}catch{return n.target}}var av=function(){},Dl=function(n,t,e){return e.months[t?"shorthand":"longhand"][n]},gS={D:av,F:function(n,t,e){n.setMonth(e.months.longhand.indexOf(t))},G:function(n,t){n.setHours((n.getHours()>=12?12:0)+parseFloat(t))},H:function(n,t){n.setHours(parseFloat(t))},J:function(n,t){n.setDate(parseFloat(t))},K:function(n,t,e){n.setHours(n.getHours()%12+12*Pn(new RegExp(e.amPM[1],"i").test(t)))},M:function(n,t,e){n.setMonth(e.months.shorthand.indexOf(t))},S:function(n,t){n.setSeconds(parseFloat(t))},U:function(n,t){return new Date(parseFloat(t)*1e3)},W:function(n,t,e){var i=parseInt(t),r=new Date(n.getFullYear(),0,2+(i-1)*7,0,0,0,0);return r.setDate(r.getDate()-r.getDay()+e.firstDayOfWeek),r},Y:function(n,t){n.setFullYear(parseFloat(t))},Z:function(n,t){return new Date(t)},d:function(n,t){n.setDate(parseFloat(t))},h:function(n,t){n.setHours((n.getHours()>=12?12:0)+parseFloat(t))},i:function(n,t){n.setMinutes(parseFloat(t))},j:function(n,t){n.setDate(parseFloat(t))},l:av,m:function(n,t){n.setMonth(parseFloat(t)-1)},n:function(n,t){n.setMonth(parseFloat(t)-1)},s:function(n,t){n.setSeconds(parseFloat(t))},u:function(n,t){return new Date(parseFloat(t))},w:av,y:function(n,t){n.setFullYear(2e3+parseFloat(t))}},Qi={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},$o={Z:function(n){return n.toISOString()},D:function(n,t,e){return t.weekdays.shorthand[$o.w(n,t,e)]},F:function(n,t,e){return Dl($o.n(n,t,e)-1,!1,t)},G:function(n,t,e){return yn($o.h(n,t,e))},H:function(n){return yn(n.getHours())},J:function(n,t){return t.ordinal!==void 0?n.getDate()+t.ordinal(n.getDate()):n.getDate()},K:function(n,t){return t.amPM[Pn(n.getHours()>11)]},M:function(n,t){return Dl(n.getMonth(),!0,t)},S:function(n){return yn(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,t,e){return e.getWeek(n)},Y:function(n){return yn(n.getFullYear(),4)},d:function(n){return yn(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return yn(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,t){return t.weekdays.longhand[n.getDay()]},m:function(n){return yn(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}};var lv=function(n){var t=n.config,e=t===void 0?Pr:t,i=n.l10n,r=i===void 0?Pd:i,s=n.isMobile,o=s===void 0?!1:s;return function(a,l,u){var c=u||r;return e.formatDate!==void 0&&!o?e.formatDate(a,l,c):l.split("").map(function(d,h,m){return $o[d]&&m[h-1]!=="\\"?$o[d](a,c,e):d!=="\\"?d:""}).join("")}},Id=function(n){var t=n.config,e=t===void 0?Pr:t,i=n.l10n,r=i===void 0?Pd:i;return function(s,o,a,l){if(!(s!==0&&!s)){var u=l||r,c,d=s;if(s instanceof Date)c=new Date(s.getTime());else if(typeof s!="string"&&s.toFixed!==void 0)c=new Date(s);else if(typeof s=="string"){var h=o||(e||Pr).dateFormat,m=String(s).trim();if(m==="today")c=new Date,a=!0;else if(e&&e.parseDate)c=e.parseDate(s,h);else if(/Z$/.test(m)||/GMT$/.test(m))c=new Date(s);else{for(var v=void 0,g=[],y=0,x=0,A="";y<h.length;y++){var w=h[y],p=w==="\\",_=h[y-1]==="\\"||p;if(Qi[w]&&!_){A+=Qi[w];var S=new RegExp(A).exec(s);S&&(v=!0)&&g[w!=="Y"?"push":"unshift"]({fn:gS[w],val:S[++x]})}else p||(A+=".")}c=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),g.forEach(function(j){var H=j.fn,Y=j.val;return c=H(c,Y,u)||c}),c=v?c:void 0}}if(!(c instanceof Date&&!isNaN(c.getTime()))){e.errorHandler(new Error("Invalid date provided: "+d));return}return a===!0&&c.setHours(0,0,0,0),c}}};function Rn(n,t,e){return e===void 0&&(e=!0),e!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):n.getTime()-t.getTime()}var vS=function(n,t,e){return n>Math.min(t,e)&&n<Math.max(t,e)},Fd=function(n,t,e){return n*3600+t*60+e},bS=function(n){var t=Math.floor(n/3600),e=(n-t*3600)/60;return[t,e,n-t*3600-e*60]},yS={DAY:864e5};function Nd(n){var t=n.defaultHour,e=n.defaultMinute,i=n.defaultSeconds;if(n.minDate!==void 0){var r=n.minDate.getHours(),s=n.minDate.getMinutes(),o=n.minDate.getSeconds();t<r&&(t=r),t===r&&e<s&&(e=s),t===r&&e===s&&i<o&&(i=n.minDate.getSeconds())}if(n.maxDate!==void 0){var a=n.maxDate.getHours(),l=n.maxDate.getMinutes();t=Math.min(t,a),t===a&&(e=Math.min(l,e)),t===a&&e===l&&(i=n.maxDate.getSeconds())}return{hours:t,minutes:e,seconds:i}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var i=function(a){a&&Object.keys(a).forEach(function(l){return n[l]=a[l]})},r=0,s=t;r<s.length;r++){var o=s[r];i(o)}return n});var xn=function(){return xn=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},xn.apply(this,arguments)},wS=function(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var i=Array(n),r=0,t=0;t<e;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i},ZR=300;function tI(n,t){var e={config:xn(xn({},Pr),Ke.defaultConfig),l10n:Ld};e.parseDate=Id({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=g,e._setHoursFromDate=h,e._positionCalendar=Se,e.changeMonth=O,e.changeYear=Ct,e.clear=$,e.close=Z,e.onMouseOver=X,e._createElement=se,e.createDay=S,e.destroy=J,e.isEnabled=At,e.jumpToDate=A,e.updateValue=nn,e.open=R,e.redraw=fn,e.set=rr,e.setDate=sr,e.toggle=nt;function i(){e.utils={getDaysInMonth:function(k,M){return k===void 0&&(k=e.currentMonth),M===void 0&&(M=e.currentYear),k===1&&(M%4===0&&M%100!==0||M%400===0)?29:e.l10n.daysInMonth[k]}}}function r(){e.element=e.input=n,e.isOpen=!1,W(),jt(),jr(),ta(),i(),e.isMobile||_(),x(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&h(e.config.noCalendar?e.latestSelectedDateObj:void 0),nn(!1)),a();var k=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&k&&Se(),ht("onReady")}function s(){var k;return((k=e.calendarContainer)===null||k===void 0?void 0:k.getRootNode()).activeElement||document.activeElement}function o(k){return k.bind(e)}function a(){var k=e.config;k.weekNumbers===!1&&k.showMonths===1||k.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){var M=(e.days.offsetWidth+1)*k.showMonths;e.daysContainer.style.width=M+"px",e.calendarContainer.style.width=M+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function l(k){if(e.selectedDates.length===0){var M=e.config.minDate===void 0||Rn(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),z=Nd(e.config);M.setHours(z.hours,z.minutes,z.seconds,M.getMilliseconds()),e.selectedDates=[M],e.latestSelectedDateObj=M}k!==void 0&&k.type!=="blur"&&zt(k);var Q=e._input.value;d(),nn(),e._input.value!==Q&&e._debouncedChange()}function u(k,M){return k%12+12*Pn(M===e.l10n.amPM[1])}function c(k){switch(k%24){case 0:case 12:return 12;default:return k%12}}function d(){if(!(e.hourElement===void 0||e.minuteElement===void 0)){var k=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,M=(parseInt(e.minuteElement.value,10)||0)%60,z=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(k=u(k,e.amPM.textContent));var Q=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&Rn(e.latestSelectedDateObj,e.config.minDate,!0)===0,mt=e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&Rn(e.latestSelectedDateObj,e.config.maxDate,!0)===0;if(e.config.maxTime!==void 0&&e.config.minTime!==void 0&&e.config.minTime>e.config.maxTime){var wt=Fd(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),Rt=Fd(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),Dt=Fd(k,M,z);if(Dt>Rt&&Dt<wt){var Wt=bS(wt);k=Wt[0],M=Wt[1],z=Wt[2]}}else{if(mt){var Tt=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;k=Math.min(k,Tt.getHours()),k===Tt.getHours()&&(M=Math.min(M,Tt.getMinutes())),M===Tt.getMinutes()&&(z=Math.min(z,Tt.getSeconds()))}if(Q){var Nt=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;k=Math.max(k,Nt.getHours()),k===Nt.getHours()&&M<Nt.getMinutes()&&(M=Nt.getMinutes()),M===Nt.getMinutes()&&(z=Math.max(z,Nt.getSeconds()))}}m(k,M,z)}}function h(k){var M=k||e.latestSelectedDateObj;M&&M instanceof Date&&m(M.getHours(),M.getMinutes(),M.getSeconds())}function m(k,M,z){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(k%24,M,z||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=yn(e.config.time_24hr?k:(12+k)%12+12*Pn(k%12===0)),e.minuteElement.value=yn(M),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[Pn(k>=12)]),e.secondElement!==void 0&&(e.secondElement.value=yn(z)))}function v(k){var M=Ln(k),z=parseInt(M.value)+(k.delta||0);(z/1e3>1||k.key==="Enter"&&!/[^\d]/.test(z.toString()))&&Ct(z)}function g(k,M,z,Q){if(M instanceof Array)return M.forEach(function(mt){return g(k,mt,z,Q)});if(k instanceof Array)return k.forEach(function(mt){return g(mt,M,z,Q)});k.addEventListener(M,z,Q),e._handlers.push({remove:function(){return k.removeEventListener(M,z,Q)}})}function y(){ht("onChange")}function x(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(z){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+z+"]"),function(Q){return g(Q,"click",e[z])})}),e.isMobile){or();return}var k=sv(I,50);if(e._debouncedChange=sv(y,ZR),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&g(e.daysContainer,"mouseover",function(z){e.config.mode==="range"&&X(Ln(z))}),g(e._input,"keydown",G),e.calendarContainer!==void 0&&g(e.calendarContainer,"keydown",G),!e.config.inline&&!e.config.static&&g(window,"resize",k),window.ontouchstart!==void 0?g(window.document,"touchstart",pt):g(window.document,"mousedown",pt),g(window.document,"focus",pt,{capture:!0}),e.config.clickOpens===!0&&(g(e._input,"focus",e.open),g(e._input,"click",e.open)),e.daysContainer!==void 0&&(g(e.monthNav,"click",Qt),g(e.monthNav,["keyup","increment"],v),g(e.daysContainer,"click",ni)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){var M=function(z){return Ln(z).select()};g(e.timeContainer,["increment"],l),g(e.timeContainer,"blur",l,{capture:!0}),g(e.timeContainer,"click",w),g([e.hourElement,e.minuteElement],["focus","click"],M),e.secondElement!==void 0&&g(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),e.amPM!==void 0&&g(e.amPM,"click",function(z){l(z)})}e.config.allowInput&&g(e._input,"blur",vt)}function A(k,M){var z=k!==void 0?e.parseDate(k):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),Q=e.currentYear,mt=e.currentMonth;try{z!==void 0&&(e.currentYear=z.getFullYear(),e.currentMonth=z.getMonth())}catch(wt){wt.message="Invalid date supplied: "+z,e.config.errorHandler(wt)}M&&e.currentYear!==Q&&(ht("onYearChange"),dt()),M&&(e.currentYear!==Q||e.currentMonth!==mt)&&ht("onMonthChange"),e.redraw()}function w(k){var M=Ln(k);~M.className.indexOf("arrow")&&p(k,M.classList.contains("arrowUp")?1:-1)}function p(k,M,z){var Q=k&&Ln(k),mt=z||Q&&Q.parentNode&&Q.parentNode.firstChild,wt=It("increment");wt.delta=M,mt&&mt.dispatchEvent(wt)}function _(){var k=window.document.createDocumentFragment();if(e.calendarContainer=se("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(k.appendChild(T()),e.innerContainer=se("div","flatpickr-innerContainer"),e.config.weekNumbers){var M=V(),z=M.weekWrapper,Q=M.weekNumbers;e.innerContainer.appendChild(z),e.weekNumbers=Q,e.weekWrapper=z}e.rContainer=se("div","flatpickr-rContainer"),e.rContainer.appendChild(F()),e.daysContainer||(e.daysContainer=se("div","flatpickr-days"),e.daysContainer.tabIndex=-1),rt(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),k.appendChild(e.innerContainer)}e.config.enableTime&&k.appendChild(L()),wn(e.calendarContainer,"rangeMode",e.config.mode==="range"),wn(e.calendarContainer,"animate",e.config.animate===!0),wn(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(k);var mt=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!mt&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var wt=se("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(wt,e.element),wt.appendChild(e.element),e.altInput&&wt.appendChild(e.altInput),wt.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}function S(k,M,z,Q){var mt=At(M,!0),wt=se("span",k,M.getDate().toString());return wt.dateObj=M,wt.$i=Q,wt.setAttribute("aria-label",e.formatDate(M,e.config.ariaDateFormat)),k.indexOf("hidden")===-1&&Rn(M,e.now)===0&&(e.todayDateElem=wt,wt.classList.add("today"),wt.setAttribute("aria-current","date")),mt?(wt.tabIndex=-1,Ut(M)&&(wt.classList.add("selected"),e.selectedDateElem=wt,e.config.mode==="range"&&(wn(wt,"startRange",e.selectedDates[0]&&Rn(M,e.selectedDates[0],!0)===0),wn(wt,"endRange",e.selectedDates[1]&&Rn(M,e.selectedDates[1],!0)===0),k==="nextMonthDay"&&wt.classList.add("inRange")))):wt.classList.add("flatpickr-disabled"),e.config.mode==="range"&&Yt(M)&&!Ut(M)&&wt.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&k!=="prevMonthDay"&&Q%7===6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(M)+"</span>"),ht("onDayCreate",wt),wt}function j(k){k.focus(),e.config.mode==="range"&&X(k)}function H(k){for(var M=k>0?0:e.config.showMonths-1,z=k>0?e.config.showMonths:-1,Q=M;Q!=z;Q+=k)for(var mt=e.daysContainer.children[Q],wt=k>0?0:mt.children.length-1,Rt=k>0?mt.children.length:-1,Dt=wt;Dt!=Rt;Dt+=k){var Wt=mt.children[Dt];if(Wt.className.indexOf("hidden")===-1&&At(Wt.dateObj))return Wt}}function Y(k,M){for(var z=k.className.indexOf("Month")===-1?k.dateObj.getMonth():e.currentMonth,Q=M>0?e.config.showMonths:-1,mt=M>0?1:-1,wt=z-e.currentMonth;wt!=Q;wt+=mt)for(var Rt=e.daysContainer.children[wt],Dt=z-e.currentMonth===wt?k.$i+M:M<0?Rt.children.length-1:0,Wt=Rt.children.length,Tt=Dt;Tt>=0&&Tt<Wt&&Tt!=(M>0?Wt:-1);Tt+=mt){var Nt=Rt.children[Tt];if(Nt.className.indexOf("hidden")===-1&&At(Nt.dateObj)&&Math.abs(k.$i-Tt)>=Math.abs(M))return j(Nt)}e.changeMonth(mt),et(H(mt),0)}function et(k,M){var z=s(),Q=yt(z||document.body),mt=k!==void 0?k:Q?z:e.selectedDateElem!==void 0&&yt(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&yt(e.todayDateElem)?e.todayDateElem:H(M>0?1:-1);mt===void 0?e._input.focus():Q?Y(mt,M):j(mt)}function ot(k,M){for(var z=(new Date(k,M,1).getDay()-e.l10n.firstDayOfWeek+7)%7,Q=e.utils.getDaysInMonth((M-1+12)%12,k),mt=e.utils.getDaysInMonth(M,k),wt=window.document.createDocumentFragment(),Rt=e.config.showMonths>1,Dt=Rt?"prevMonthDay hidden":"prevMonthDay",Wt=Rt?"nextMonthDay hidden":"nextMonthDay",Tt=Q+1-z,Nt=0;Tt<=Q;Tt++,Nt++)wt.appendChild(S("flatpickr-day "+Dt,new Date(k,M-1,Tt),Tt,Nt));for(Tt=1;Tt<=mt;Tt++,Nt++)wt.appendChild(S("flatpickr-day",new Date(k,M,Tt),Tt,Nt));for(var le=mt+1;le<=42-z&&(e.config.showMonths===1||Nt%7!==0);le++,Nt++)wt.appendChild(S("flatpickr-day "+Wt,new Date(k,M+1,le%mt),le,Nt));var Wn=se("div","dayContainer");return Wn.appendChild(wt),Wn}function rt(){if(e.daysContainer!==void 0){Tl(e.daysContainer),e.weekNumbers&&Tl(e.weekNumbers);for(var k=document.createDocumentFragment(),M=0;M<e.config.showMonths;M++){var z=new Date(e.currentYear,e.currentMonth,1);z.setMonth(e.currentMonth+M),k.appendChild(ot(z.getFullYear(),z.getMonth()))}e.daysContainer.appendChild(k),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&X()}}function dt(){if(!(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")){var k=function(Q){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&Q<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&Q>e.config.maxDate.getMonth())};e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var M=0;M<12;M++)if(k(M)){var z=se("option","flatpickr-monthDropdown-month");z.value=new Date(e.currentYear,M).getMonth().toString(),z.textContent=Dl(M,e.config.shorthandCurrentMonth,e.l10n),z.tabIndex=-1,e.currentMonth===M&&(z.selected=!0),e.monthsDropdownContainer.appendChild(z)}}}function st(){var k=se("div","flatpickr-month"),M=window.document.createDocumentFragment(),z;e.config.showMonths>1||e.config.monthSelectorType==="static"?z=se("span","cur-month"):(e.monthsDropdownContainer=se("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),g(e.monthsDropdownContainer,"change",function(Rt){var Dt=Ln(Rt),Wt=parseInt(Dt.value,10);e.changeMonth(Wt-e.currentMonth),ht("onMonthChange")}),dt(),z=e.monthsDropdownContainer);var Q=Ol("cur-year",{tabindex:"-1"}),mt=Q.getElementsByTagName("input")[0];mt.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&mt.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(mt.setAttribute("max",e.config.maxDate.getFullYear().toString()),mt.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var wt=se("div","flatpickr-current-month");return wt.appendChild(z),wt.appendChild(Q),M.appendChild(wt),k.appendChild(M),{container:k,yearElement:mt,monthElement:z}}function B(){Tl(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var k=e.config.showMonths;k--;){var M=st();e.yearElements.push(M.yearElement),e.monthElements.push(M.monthElement),e.monthNav.appendChild(M.container)}e.monthNav.appendChild(e.nextMonthNav)}function T(){return e.monthNav=se("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=se("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=se("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,B(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:function(){return e.__hidePrevMonthArrow},set:function(k){e.__hidePrevMonthArrow!==k&&(wn(e.prevMonthNav,"flatpickr-disabled",k),e.__hidePrevMonthArrow=k)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:function(){return e.__hideNextMonthArrow},set:function(k){e.__hideNextMonthArrow!==k&&(wn(e.nextMonthNav,"flatpickr-disabled",k),e.__hideNextMonthArrow=k)}}),e.currentYearElement=e.yearElements[0],Be(),e.monthNav}function L(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var k=Nd(e.config);e.timeContainer=se("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var M=se("span","flatpickr-time-separator",":"),z=Ol("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=z.getElementsByTagName("input")[0];var Q=Ol("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=Q.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=yn(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?k.hours:c(k.hours)),e.minuteElement.value=yn(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():k.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(z),e.timeContainer.appendChild(M),e.timeContainer.appendChild(Q),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var mt=Ol("flatpickr-second");e.secondElement=mt.getElementsByTagName("input")[0],e.secondElement.value=yn(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():k.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(se("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(mt)}return e.config.time_24hr||(e.amPM=se("span","flatpickr-am-pm",e.l10n.amPM[Pn((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}function F(){e.weekdayContainer?Tl(e.weekdayContainer):e.weekdayContainer=se("div","flatpickr-weekdays");for(var k=e.config.showMonths;k--;){var M=se("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(M)}return q(),e.weekdayContainer}function q(){if(e.weekdayContainer){var k=e.l10n.firstDayOfWeek,M=wS(e.l10n.weekdays.shorthand);k>0&&k<M.length&&(M=wS(M.splice(k,M.length),M.splice(0,k)));for(var z=e.config.showMonths;z--;)e.weekdayContainer.children[z].innerHTML=`
      <span class='flatpickr-weekday'>
        `+M.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function V(){e.calendarContainer.classList.add("hasWeeks");var k=se("div","flatpickr-weekwrapper");k.appendChild(se("span","flatpickr-weekday",e.l10n.weekAbbreviation));var M=se("div","flatpickr-weeks");return k.appendChild(M),{weekWrapper:k,weekNumbers:M}}function O(k,M){M===void 0&&(M=!0);var z=M?k:k-e.currentMonth;z<0&&e._hidePrevMonthArrow===!0||z>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=z,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,ht("onYearChange"),dt()),rt(),ht("onMonthChange"),Be())}function $(k,M){if(k===void 0&&(k=!0),M===void 0&&(M=!0),e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,M===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){var z=Nd(e.config),Q=z.hours,mt=z.minutes,wt=z.seconds;m(Q,mt,wt)}e.redraw(),k&&ht("onChange")}function Z(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),ht("onClose")}function J(){e.config!==void 0&&ht("onDestroy");for(var k=e._handlers.length;k--;)e._handlers[k].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var M=e.calendarContainer.parentNode;if(M.lastChild&&M.removeChild(M.lastChild),M.parentNode){for(;M.firstChild;)M.parentNode.insertBefore(M.firstChild,M);M.parentNode.removeChild(M)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(z){try{delete e[z]}catch{}})}function K(k){return e.calendarContainer.contains(k)}function pt(k){if(e.isOpen&&!e.config.inline){var M=Ln(k),z=K(M),Q=M===e.input||M===e.altInput||e.element.contains(M)||k.path&&k.path.indexOf&&(~k.path.indexOf(e.input)||~k.path.indexOf(e.altInput)),mt=!Q&&!z&&!K(k.relatedTarget),wt=!e.config.ignoredFocusElements.some(function(Rt){return Rt.contains(M)});mt&&wt&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&l(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&e.clear(!1))}}function Ct(k){if(!(!k||e.config.minDate&&k<e.config.minDate.getFullYear()||e.config.maxDate&&k>e.config.maxDate.getFullYear())){var M=k,z=e.currentYear!==M;e.currentYear=M||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),z&&(e.redraw(),ht("onYearChange"),dt())}}function At(k,M){var z;M===void 0&&(M=!0);var Q=e.parseDate(k,void 0,M);if(e.config.minDate&&Q&&Rn(Q,e.config.minDate,M!==void 0?M:!e.minDateHasTime)<0||e.config.maxDate&&Q&&Rn(Q,e.config.maxDate,M!==void 0?M:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(Q===void 0)return!1;for(var mt=!!e.config.enable,wt=(z=e.config.enable)!==null&&z!==void 0?z:e.config.disable,Rt=0,Dt=void 0;Rt<wt.length;Rt++){if(Dt=wt[Rt],typeof Dt=="function"&&Dt(Q))return mt;if(Dt instanceof Date&&Q!==void 0&&Dt.getTime()===Q.getTime())return mt;if(typeof Dt=="string"){var Wt=e.parseDate(Dt,void 0,!0);return Wt&&Wt.getTime()===Q.getTime()?mt:!mt}else if(typeof Dt=="object"&&Q!==void 0&&Dt.from&&Dt.to&&Q.getTime()>=Dt.from.getTime()&&Q.getTime()<=Dt.to.getTime())return mt}return!mt}function yt(k){return e.daysContainer!==void 0?k.className.indexOf("hidden")===-1&&k.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(k):!1}function vt(k){var M=k.target===e._input,z=e._input.value.trimEnd()!==Xe();M&&z&&!(k.relatedTarget&&K(k.relatedTarget))&&e.setDate(e._input.value,!0,k.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function G(k){var M=Ln(k),z=e.config.wrap?n.contains(M):M===e._input,Q=e.config.allowInput,mt=e.isOpen&&(!Q||!z),wt=e.config.inline&&z&&!Q;if(k.keyCode===13&&z){if(Q)return e.setDate(e._input.value,!0,M===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),M.blur();e.open()}else if(K(M)||mt||wt){var Rt=!!e.timeContainer&&e.timeContainer.contains(M);switch(k.keyCode){case 13:Rt?(k.preventDefault(),l(),Fn()):ni(k);break;case 27:k.preventDefault(),Fn();break;case 8:case 46:z&&!e.config.allowInput&&(k.preventDefault(),e.clear());break;case 37:case 39:if(!Rt&&!z){k.preventDefault();var Dt=s();if(e.daysContainer!==void 0&&(Q===!1||Dt&&yt(Dt))){var Wt=k.keyCode===39?1:-1;k.ctrlKey?(k.stopPropagation(),O(Wt),et(H(1),0)):et(void 0,Wt)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:k.preventDefault();var Tt=k.keyCode===40?1:-1;e.daysContainer&&M.$i!==void 0||M===e.input||M===e.altInput?k.ctrlKey?(k.stopPropagation(),Ct(e.currentYear-Tt),et(H(1),0)):Rt||et(void 0,Tt*7):M===e.currentYearElement?Ct(e.currentYear-Tt):e.config.enableTime&&(!Rt&&e.hourElement&&e.hourElement.focus(),l(k),e._debouncedChange());break;case 9:if(Rt){var Nt=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(An){return An}),le=Nt.indexOf(M);if(le!==-1){var Wn=Nt[le+(k.shiftKey?-1:1)];k.preventDefault(),(Wn||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(M)&&k.shiftKey&&(k.preventDefault(),e._input.focus());break;default:break}}if(e.amPM!==void 0&&M===e.amPM)switch(k.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],d(),nn();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],d(),nn();break}(z||K(M))&&ht("onKeyDown",k)}function X(k,M){if(M===void 0&&(M="flatpickr-day"),!(e.selectedDates.length!==1||k&&(!k.classList.contains(M)||k.classList.contains("flatpickr-disabled")))){for(var z=k?k.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),Q=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),mt=Math.min(z,e.selectedDates[0].getTime()),wt=Math.max(z,e.selectedDates[0].getTime()),Rt=!1,Dt=0,Wt=0,Tt=mt;Tt<wt;Tt+=yS.DAY)At(new Date(Tt),!0)||(Rt=Rt||Tt>mt&&Tt<wt,Tt<Q&&(!Dt||Tt>Dt)?Dt=Tt:Tt>Q&&(!Wt||Tt<Wt)&&(Wt=Tt));var Nt=Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+M));Nt.forEach(function(le){var Wn=le.dateObj,An=Wn.getTime(),$r=Dt>0&&An<Dt||Wt>0&&An>Wt;if($r){le.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(ar){le.classList.remove(ar)});return}else if(Rt&&!$r)return;["startRange","inRange","endRange","notAllowed"].forEach(function(ar){le.classList.remove(ar)}),k!==void 0&&(k.classList.add(z<=e.selectedDates[0].getTime()?"startRange":"endRange"),Q<z&&An===Q?le.classList.add("startRange"):Q>z&&An===Q&&le.classList.add("endRange"),An>=Dt&&(Wt===0||An<=Wt)&&vS(An,Q,z)&&le.classList.add("inRange"))})}}function I(){e.isOpen&&!e.config.static&&!e.config.inline&&Se()}function R(k,M){if(M===void 0&&(M=e._positionElement),e.isMobile===!0){if(k){k.preventDefault();var z=Ln(k);z&&z.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),ht("onOpen");return}else if(e._input.disabled||e.config.inline)return;var Q=e.isOpen;e.isOpen=!0,Q||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),ht("onOpen"),Se(M)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(k===void 0||!e.timeContainer.contains(k.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}function U(k){return function(M){var z=e.config["_"+k+"Date"]=e.parseDate(M,e.config.dateFormat),Q=e.config["_"+(k==="min"?"max":"min")+"Date"];z!==void 0&&(e[k==="min"?"minDateHasTime":"maxDateHasTime"]=z.getHours()>0||z.getMinutes()>0||z.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(mt){return At(mt)}),!e.selectedDates.length&&k==="min"&&h(z),nn()),e.daysContainer&&(fn(),z!==void 0?e.currentYearElement[k]=z.getFullYear().toString():e.currentYearElement.removeAttribute(k),e.currentYearElement.disabled=!!Q&&z!==void 0&&Q.getFullYear()===z.getFullYear())}}function W(){var k=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],M=xn(xn({},JSON.parse(JSON.stringify(n.dataset||{}))),t),z={};e.config.parseDate=M.parseDate,e.config.formatDate=M.formatDate,Object.defineProperty(e.config,"enable",{get:function(){return e.config._enable},set:function(Nt){e.config._enable=Br(Nt)}}),Object.defineProperty(e.config,"disable",{get:function(){return e.config._disable},set:function(Nt){e.config._disable=Br(Nt)}});var Q=M.mode==="time";if(!M.dateFormat&&(M.enableTime||Q)){var mt=Ke.defaultConfig.dateFormat||Pr.dateFormat;z.dateFormat=M.noCalendar||Q?"H:i"+(M.enableSeconds?":S":""):mt+" H:i"+(M.enableSeconds?":S":"")}if(M.altInput&&(M.enableTime||Q)&&!M.altFormat){var wt=Ke.defaultConfig.altFormat||Pr.altFormat;z.altFormat=M.noCalendar||Q?"h:i"+(M.enableSeconds?":S K":" K"):wt+(" h:i"+(M.enableSeconds?":S":"")+" K")}Object.defineProperty(e.config,"minDate",{get:function(){return e.config._minDate},set:U("min")}),Object.defineProperty(e.config,"maxDate",{get:function(){return e.config._maxDate},set:U("max")});var Rt=function(Nt){return function(le){e.config[Nt==="min"?"_minTime":"_maxTime"]=e.parseDate(le,"H:i:S")}};Object.defineProperty(e.config,"minTime",{get:function(){return e.config._minTime},set:Rt("min")}),Object.defineProperty(e.config,"maxTime",{get:function(){return e.config._maxTime},set:Rt("max")}),M.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,z,M);for(var Dt=0;Dt<k.length;Dt++)e.config[k[Dt]]=e.config[k[Dt]]===!0||e.config[k[Dt]]==="true";Md.filter(function(Nt){return e.config[Nt]!==void 0}).forEach(function(Nt){e.config[Nt]=Rd(e.config[Nt]||[]).map(o)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var Dt=0;Dt<e.config.plugins.length;Dt++){var Wt=e.config.plugins[Dt](e)||{};for(var Tt in Wt)Md.indexOf(Tt)>-1?e.config[Tt]=Rd(Wt[Tt]).map(o).concat(e.config[Tt]):typeof M[Tt]>"u"&&(e.config[Tt]=Wt[Tt])}M.altInputClass||(e.config.altInputClass=ne().className+" "+e.config.altInputClass),ht("onParseConfig")}function ne(){return e.config.wrap?n.querySelector("[data-input]"):n}function jt(){typeof e.config.locale!="object"&&typeof Ke.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=xn(xn({},Ke.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?Ke.l10ns[e.config.locale]:void 0),Qi.D="("+e.l10n.weekdays.shorthand.join("|")+")",Qi.l="("+e.l10n.weekdays.longhand.join("|")+")",Qi.M="("+e.l10n.months.shorthand.join("|")+")",Qi.F="("+e.l10n.months.longhand.join("|")+")",Qi.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")";var k=xn(xn({},t),JSON.parse(JSON.stringify(n.dataset||{})));k.time_24hr===void 0&&Ke.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=lv(e),e.parseDate=Id({config:e.config,l10n:e.l10n})}function Se(k){if(typeof e.config.position=="function")return void e.config.position(e,k);if(e.calendarContainer!==void 0){ht("onPreCalendarPosition");var M=k||e._positionElement,z=Array.prototype.reduce.call(e.calendarContainer.children,function(E,f){return E+f.offsetHeight},0),Q=e.calendarContainer.offsetWidth,mt=e.config.position.split(" "),wt=mt[0],Rt=mt.length>1?mt[1]:null,Dt=M.getBoundingClientRect(),Wt=window.innerHeight-Dt.bottom,Tt=wt==="above"||wt!=="below"&&Wt<z&&Dt.top>z,Nt=window.pageYOffset+Dt.top+(Tt?-z-2:M.offsetHeight+2);if(wn(e.calendarContainer,"arrowTop",!Tt),wn(e.calendarContainer,"arrowBottom",Tt),!e.config.inline){var le=window.pageXOffset+Dt.left,Wn=!1,An=!1;Rt==="center"?(le-=(Q-Dt.width)/2,Wn=!0):Rt==="right"&&(le-=Q-Dt.width,An=!0),wn(e.calendarContainer,"arrowLeft",!Wn&&!An),wn(e.calendarContainer,"arrowCenter",Wn),wn(e.calendarContainer,"arrowRight",An);var $r=window.document.body.offsetWidth-(window.pageXOffset+Dt.right),ar=le+Q>window.document.body.offsetWidth,Eh=$r+Q>window.document.body.offsetWidth;if(wn(e.calendarContainer,"rightMost",ar),!e.config.static)if(e.calendarContainer.style.top=Nt+"px",!ar)e.calendarContainer.style.left=le+"px",e.calendarContainer.style.right="auto";else if(!Eh)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=$r+"px";else{var na=Ge();if(na===void 0)return;var kh=window.document.body.offsetWidth,Th=Math.max(0,kh/2-Q/2),Oh=".flatpickr-calendar.centerMost:before",Dh=".flatpickr-calendar.centerMost:after",Mh=na.cssRules.length,Ph="{left:"+Dt.left+"px;right:auto;}";wn(e.calendarContainer,"rightMost",!1),wn(e.calendarContainer,"centerMost",!0),na.insertRule(Oh+","+Dh+Ph,Mh),e.calendarContainer.style.left=Th+"px",e.calendarContainer.style.right="auto"}}}}function Ge(){for(var k=null,M=0;M<document.styleSheets.length;M++){var z=document.styleSheets[M];if(z.cssRules){try{z.cssRules}catch{continue}k=z;break}}return k??me()}function me(){var k=document.createElement("style");return document.head.appendChild(k),k.sheet}function fn(){e.config.noCalendar||e.isMobile||(dt(),Be(),rt())}function Fn(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}function ni(k){k.preventDefault(),k.stopPropagation();var M=function(Nt){return Nt.classList&&Nt.classList.contains("flatpickr-day")&&!Nt.classList.contains("flatpickr-disabled")&&!Nt.classList.contains("notAllowed")},z=ov(Ln(k),M);if(z!==void 0){var Q=z,mt=e.latestSelectedDateObj=new Date(Q.dateObj.getTime()),wt=(mt.getMonth()<e.currentMonth||mt.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=Q,e.config.mode==="single")e.selectedDates=[mt];else if(e.config.mode==="multiple"){var Rt=Ut(mt);Rt?e.selectedDates.splice(parseInt(Rt),1):e.selectedDates.push(mt)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=mt,e.selectedDates.push(mt),Rn(mt,e.selectedDates[0],!0)!==0&&e.selectedDates.sort(function(Nt,le){return Nt.getTime()-le.getTime()}));if(d(),wt){var Dt=e.currentYear!==mt.getFullYear();e.currentYear=mt.getFullYear(),e.currentMonth=mt.getMonth(),Dt&&(ht("onYearChange"),dt()),ht("onMonthChange")}if(Be(),rt(),nn(),!wt&&e.config.mode!=="range"&&e.config.showMonths===1?j(Q):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){var Wt=e.config.mode==="single"&&!e.config.enableTime,Tt=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;(Wt||Tt)&&Fn()}y()}}var Nn={locale:[jt,q],showMonths:[B,a,F],minDate:[A],maxDate:[A],positionElement:[ea],clickOpens:[function(){e.config.clickOpens===!0?(g(e._input,"focus",e.open),g(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function rr(k,M){if(k!==null&&typeof k=="object"){Object.assign(e.config,k);for(var z in k)Nn[z]!==void 0&&Nn[z].forEach(function(Q){return Q()})}else e.config[k]=M,Nn[k]!==void 0?Nn[k].forEach(function(Q){return Q()}):Md.indexOf(k)>-1&&(e.config[k]=Rd(M));e.redraw(),nn(!0)}function pi(k,M){var z=[];if(k instanceof Array)z=k.map(function(Q){return e.parseDate(Q,M)});else if(k instanceof Date||typeof k=="number")z=[e.parseDate(k,M)];else if(typeof k=="string")switch(e.config.mode){case"single":case"time":z=[e.parseDate(k,M)];break;case"multiple":z=k.split(e.config.conjunction).map(function(Q){return e.parseDate(Q,M)});break;case"range":z=k.split(e.l10n.rangeSeparator).map(function(Q){return e.parseDate(Q,M)});break;default:break}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(k)));e.selectedDates=e.config.allowInvalidPreload?z:z.filter(function(Q){return Q instanceof Date&&At(Q,!1)}),e.config.mode==="range"&&e.selectedDates.sort(function(Q,mt){return Q.getTime()-mt.getTime()})}function sr(k,M,z){if(M===void 0&&(M=!1),z===void 0&&(z=e.config.dateFormat),k!==0&&!k||k instanceof Array&&k.length===0)return e.clear(M);pi(k,z),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),A(void 0,M),h(),e.selectedDates.length===0&&e.clear(!1),nn(M),M&&ht("onChange")}function Br(k){return k.slice().map(function(M){return typeof M=="string"||typeof M=="number"||M instanceof Date?e.parseDate(M,void 0,!0):M&&typeof M=="object"&&M.from&&M.to?{from:e.parseDate(M.from,void 0),to:e.parseDate(M.to,void 0)}:M}).filter(function(M){return M})}function ta(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var k=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);k&&pi(k,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}function jr(){if(e.input=ne(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=se(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),ea()}function ea(){e._positionElement=e.config.positionElement||e._input}function or(){var k=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=se("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=k,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=k==="datetime-local"?"Y-m-d\\TH:i:S":k==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}g(e.mobileInput,"change",function(M){e.setDate(Ln(M).value,!1,e.mobileFormatStr),ht("onChange"),ht("onClose")})}function nt(k){if(e.isOpen===!0)return e.close();e.open(k)}function ht(k,M){if(e.config!==void 0){var z=e.config[k];if(z!==void 0&&z.length>0)for(var Q=0;z[Q]&&Q<z.length;Q++)z[Q](e.selectedDates,e.input.value,e,M);k==="onChange"&&(e.input.dispatchEvent(It("change")),e.input.dispatchEvent(It("input")))}}function It(k){var M=document.createEvent("Event");return M.initEvent(k,!0,!0),M}function Ut(k){for(var M=0;M<e.selectedDates.length;M++){var z=e.selectedDates[M];if(z instanceof Date&&Rn(z,k)===0)return""+M}return!1}function Yt(k){return e.config.mode!=="range"||e.selectedDates.length<2?!1:Rn(k,e.selectedDates[0])>=0&&Rn(k,e.selectedDates[1])<=0}function Be(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(k,M){var z=new Date(e.currentYear,e.currentMonth,1);z.setMonth(e.currentMonth+M),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[M].textContent=Dl(z.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=z.getMonth().toString(),k.value=z.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function Xe(k){var M=k||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(z){return e.formatDate(z,M)}).filter(function(z,Q,mt){return e.config.mode!=="range"||e.config.enableTime||mt.indexOf(z)===Q}).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}function nn(k){k===void 0&&(k=!0),e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=Xe(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=Xe(e.config.altFormat)),k!==!1&&ht("onValueUpdate")}function Qt(k){var M=Ln(k),z=e.prevMonthNav.contains(M),Q=e.nextMonthNav.contains(M);z||Q?O(z?-1:1):e.yearElements.indexOf(M)>=0?M.select():M.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):M.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}function zt(k){k.preventDefault();var M=k.type==="keydown",z=Ln(k),Q=z;e.amPM!==void 0&&z===e.amPM&&(e.amPM.textContent=e.l10n.amPM[Pn(e.amPM.textContent===e.l10n.amPM[0])]);var mt=parseFloat(Q.getAttribute("min")),wt=parseFloat(Q.getAttribute("max")),Rt=parseFloat(Q.getAttribute("step")),Dt=parseInt(Q.value,10),Wt=k.delta||(M?k.which===38?1:-1:0),Tt=Dt+Rt*Wt;if(typeof Q.value<"u"&&Q.value.length===2){var Nt=Q===e.hourElement,le=Q===e.minuteElement;Tt<mt?(Tt=wt+Tt+Pn(!Nt)+(Pn(Nt)&&Pn(!e.amPM)),le&&p(void 0,-1,e.hourElement)):Tt>wt&&(Tt=Q===e.hourElement?Tt-wt-Pn(!e.amPM):mt,le&&p(void 0,1,e.hourElement)),e.amPM&&Nt&&(Rt===1?Tt+Dt===23:Math.abs(Tt-Dt)>Rt)&&(e.amPM.textContent=e.l10n.amPM[Pn(e.amPM.textContent===e.l10n.amPM[0])]),Q.value=yn(Tt)}}return r(),e}function Ho(n,t){for(var e=Array.prototype.slice.call(n).filter(function(o){return o instanceof HTMLElement}),i=[],r=0;r<e.length;r++){var s=e[r];try{if(s.getAttribute("data-fp-omit")!==null)continue;s._flatpickr!==void 0&&(s._flatpickr.destroy(),s._flatpickr=void 0),s._flatpickr=tI(s,t||{}),i.push(s._flatpickr)}catch(o){console.error(o)}}return i.length===1?i[0]:i}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return Ho(this,n)},HTMLElement.prototype.flatpickr=function(n){return Ho([this],n)});var Ke=function(n,t){return typeof n=="string"?Ho(window.document.querySelectorAll(n),t):n instanceof Node?Ho([n],t):Ho(n,t)};Ke.defaultConfig={};Ke.l10ns={en:xn({},Ld),default:xn({},Ld)};Ke.localize=function(n){Ke.l10ns.default=xn(xn({},Ke.l10ns.default),n)};Ke.setDefaults=function(n){Ke.defaultConfig=xn(xn({},Ke.defaultConfig),n)};Ke.parseDate=Id({});Ke.formatDate=lv({});Ke.compareDates=Rn;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return Ho(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=Ke);var xS=Ke;function eI(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function AS(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function nI(n,t,e){return t&&AS(n.prototype,t),e&&AS(n,e),n}function kS(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function SS(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function iI(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?SS(Object(e),!0).forEach(function(i){kS(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):SS(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function rI(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&cv(n,t)}function Bd(n){return Bd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Bd(n)}function cv(n,t){return cv=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},cv(n,t)}function sI(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function oI(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function aI(n,t){return t&&(typeof t=="object"||typeof t=="function")?t:oI(n)}function lI(n){return function(){var t=Bd(n),e;if(sI()){var i=Bd(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return aI(this,e)}}function cI(n){return n.replace(/(?:[_-])([a-z0-9])/g,(t,e)=>e.toUpperCase())}function uv(n){return n.charAt(0).toUpperCase()+n.slice(1)}function uI(n){return n.replace(/([A-Z])/g,(t,e)=>`-${e.toLowerCase()}`)}function TS(n,t){let e=OS(n);return Array.from(e.reduce((i,r)=>(hI(r,t).forEach(s=>i.add(s)),i),new Set))}function dI(n,t){return OS(n).reduce((i,r)=>(i.push(...fI(r,t)),i),[])}function OS(n){let t=[];for(;n;)t.push(n),n=Object.getPrototypeOf(n);return t.reverse()}function hI(n,t){let e=n[t];return Array.isArray(e)?e:[]}function fI(n,t){let e=n[t];return e?Object.keys(e).map(i=>[i,e[i]]):[]}var kQ=(()=>{function n(e){function i(){return Reflect.construct(e,arguments,new.target)}return i.prototype=Object.create(e.prototype,{constructor:{value:i}}),Reflect.setPrototypeOf(i,e),i}function t(){let i=n(function(){this.a.call(this)});return i.prototype.a=function(){},new i}try{return t(),n}catch{return i=>class extends i{}}})();function pI(n){return TS(n,"classes").reduce((e,i)=>Object.assign(e,mI(i)),{})}function mI(n){return{[`${n}Class`]:{get(){let{classes:t}=this;if(t.has(n))return t.get(n);{let e=t.getAttributeName(n);throw new Error(`Missing attribute "${e}"`)}}},[`${n}Classes`]:{get(){return this.classes.getAll(n)}},[`has${uv(n)}Class`]:{get(){return this.classes.has(n)}}}}function gI(n){return TS(n,"targets").reduce((e,i)=>Object.assign(e,vI(i)),{})}function vI(n){return{[`${n}Target`]:{get(){let t=this.targets.find(n);if(t)return t;throw new Error(`Missing target element "${n}" for "${this.identifier}" controller`)}},[`${n}Targets`]:{get(){return this.targets.findAll(n)}},[`has${uv(n)}Target`]:{get(){return this.targets.has(n)}}}}function bI(n){let t=dI(n,"values"),e={valueDescriptorMap:{get(){return t.reduce((i,r)=>{let s=DS(r),o=this.data.getAttributeNameForKey(s.key);return Object.assign(i,{[o]:s})},{})}}};return t.reduce((i,r)=>Object.assign(i,yI(r)),e)}function yI(n){let t=DS(n),{key:e,name:i,reader:r,writer:s}=t;return{[i]:{get(){let o=this.data.get(e);return o!==null?r(o):t.defaultValue},set(o){o===void 0?this.data.delete(e):this.data.set(e,s(o))}},[`has${uv(i)}`]:{get(){return this.data.has(e)||t.hasCustomDefaultValue}}}}function DS([n,t]){return SI(n,t)}function dv(n){switch(n){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function hv(n){switch(typeof n){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(n))return"array";if(Object.prototype.toString.call(n)==="[object Object]")return"object"}function wI(n){let t=dv(n.type);if(t){let e=hv(n.default);if(t!==e)throw new Error(`Type "${t}" must match the type of the default value. Given default value: "${n.default}" as "${e}"`);return t}}function xI(n){let t=wI(n),e=hv(n),i=dv(n),r=t||e||i;if(r)return r;throw new Error(`Unknown value type "${n}"`)}function AI(n){let t=dv(n);if(t)return _I[t];let e=n.default;return e!==void 0?e:n}function SI(n,t){let e=`${uI(n)}-value`,i=xI(t);return{type:i,key:e,name:cI(e),get defaultValue(){return AI(t)},get hasCustomDefaultValue(){return hv(t)!==void 0},reader:CI[i],writer:_S[i]||_S.default}}var _I={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},CI={array(n){let t=JSON.parse(n);if(!Array.isArray(t))throw new TypeError("Expected array");return t},boolean(n){return!(n=="0"||n=="false")},number(n){return Number(n)},object(n){let t=JSON.parse(n);if(t===null||typeof t!="object"||Array.isArray(t))throw new TypeError("Expected object");return t},string(n){return n}},_S={default:EI,array:CS,object:CS};function CS(n){return JSON.stringify(n)}function EI(n){return`${n}`}var Vo=class{constructor(t){this.context=t}static get shouldLoad(){return!0}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(t,{target:e=this.element,detail:i={},prefix:r=this.identifier,bubbles:s=!0,cancelable:o=!0}={}){let a=r?`${r}:${t}`:t,l=new CustomEvent(a,{detail:i,bubbles:s,cancelable:o});return e.dispatchEvent(l),l}};Vo.blessings=[pI,gI,bI];Vo.targets=[];Vo.values={};var kI=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),TI=n=>n.charAt(0).toUpperCase()+n.slice(1),OI=["allowInput","altInput","animate","clickOpens","closeOnSelect","disableMobile","enableSeconds","enableTime","inline","noCalendar","shorthandCurrentMonth","static","time_24hr","weekNumbers","wrap"],DI=["altInputClass","conjunction","mode","nextArrow","position","prevArrow","monthSelectorType"],MI=["defaultHour","defaultMinute","defaultSeconds","hourIncrement","minuteIncrement","showMonths"],PI=["disable","enable","disableDaysOfWeek","enableDaysOfWeek"],LI=["defaultDate"],RI=["maxDate","minDate","maxTime","minTime","now"],II=["altFormat","ariaDateFormat","dateFormat"],ES={string:DI,boolean:OI,date:RI,array:PI,number:MI,arrayOrString:LI},FI=["change","open","close","monthChange","yearChange","ready","valueUpdate","dayCreate"],NI=["calendarContainer","currentYearElement","days","daysContainer","input","nextMonthNav","monthNav","prevMonthNav","rContainer","selectedDateElem","todayDateElem","weekdayContainer"],MS={"%Y":"Y","%y":"y","%C":"Y","%m":"m","%-m":"n","%_m":"n","%B":"F","%^B":"F","%b":"M","%^b":"M","%h":"M","%^h":"M","%d":"d","%-d":"j","%e":"j","%H":"H","%k":"H","%I":"h","%l":"h","%-l":"h","%P":"K","%p":"K","%M":"i","%S":"S","%A":"l","%a":"D","%w":"w"},BI=new RegExp(Object.keys(MS).join("|").replace(new RegExp("\\^","g"),"\\^"),"g"),jI=n=>n.replace(BI,t=>MS[t]),PS=function(n){rI(e,n);var t=lI(e);function e(){return eI(this,e),t.apply(this,arguments)}return nI(e,[{key:"initialize",value:function(){this.config={}}},{key:"connect",value:function(){this._initializeEvents(),this._initializeOptions(),this._initializeDateFormats(),this.fp=xS(this.flatpickrElement,iI({},this.config)),this._initializeElements()}},{key:"disconnect",value:function(){let r=this.inputTarget.value;this.fp.destroy(),this.inputTarget.value=r}},{key:"_initializeEvents",value:function(){FI.forEach(r=>{if(this[r]){let s=`on${TI(r)}`;this.config[s]=this[r].bind(this)}})}},{key:"_initializeOptions",value:function(){Object.keys(ES).forEach(r=>{ES[r].forEach(o=>{let a=kI(o);this.data.has(a)&&(this.config[o]=this[`_${r}`](a))})}),this._handleDaysOfWeek()}},{key:"_handleDaysOfWeek",value:function(){this.config.disableDaysOfWeek&&(this.config.disableDaysOfWeek=this._validateDaysOfWeek(this.config.disableDaysOfWeek),this.config.disable=[...this.config.disable||[],this._disable.bind(this)]),this.config.enableDaysOfWeek&&(this.config.enableDaysOfWeek=this._validateDaysOfWeek(this.config.enableDaysOfWeek),this.config.enable=[...this.config.enable||[],this._enable.bind(this)])}},{key:"_validateDaysOfWeek",value:function(r){return Array.isArray(r)?r.map(s=>parseInt(s)):(console.error("days of week must be a valid array"),[])}},{key:"_disable",value:function(r){return this.config.disableDaysOfWeek.includes(r.getDay())}},{key:"_enable",value:function(r){return this.config.enableDaysOfWeek.includes(r.getDay())}},{key:"_initializeDateFormats",value:function(){II.forEach(r=>{this.data.has(r)&&(this.config[r]=jI(this.data.get(r)))})}},{key:"_initializeElements",value:function(){NI.forEach(r=>{this[`${r}Target`]=this.fp[r]})}},{key:"_string",value:function(r){return this.data.get(r)}},{key:"_date",value:function(r){return this.data.get(r)}},{key:"_boolean",value:function(r){return!(this.data.get(r)=="0"||this.data.get(r)=="false")}},{key:"_array",value:function(r){return JSON.parse(this.data.get(r))}},{key:"_number",value:function(r){return parseInt(this.data.get(r))}},{key:"_arrayOrString",value:function(r){let s=this.data.get(r);try{return JSON.parse(s)}catch{return s}}},{key:"flatpickrElement",get:function(){return this.hasInstanceTarget&&this.instanceTarget||this.element}}]),e}(Vo);kS(PS,"targets",["instance"]);var jd=PS;var fv=class extends jd{change(n,t,e){(n.length===2||n.length===0)&&this.submitForm()}submitForm(){let n=this.element.closest("form");n&&n.requestSubmit()}};var rb={};de(rb,{default:()=>ib});var __=vi(LS());var $I="2.1.1",Ds="[data-trix-attachment]",Gv={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}},Cn={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,htmlAttributes:["language"],text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test(n){return RS(n.parentNode)===Cn[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test(n){return RS(n.parentNode)===Cn[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}},RS=n=>{var t;return n==null||(t=n.tagName)===null||t===void 0?void 0:t.toLowerCase()},IS=navigator.userAgent.match(/android\s([0-9]+.*Chrome)/i),vv=IS&&parseInt(IS[1]),Wl={composesExistingText:/Android.*Chrome/.test(navigator.userAgent),recentAndroid:vv&&vv>12,samsungAndroid:vv&&navigator.userAgent.match(/Android.*SM-/),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:typeof InputEvent<"u"&&["data","getTargetRanges","inputType"].every(n=>n in InputEvent.prototype)},Vt={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption\u2026",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL\u2026",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"},HI=[Vt.bytes,Vt.KB,Vt.MB,Vt.GB,Vt.TB,Vt.PB],o_={prefix:"IEC",precision:2,formatter(n){switch(n){case 0:return"0 ".concat(Vt.bytes);case 1:return"1 ".concat(Vt.byte);default:let t;this.prefix==="SI"?t=1e3:this.prefix==="IEC"&&(t=1024);let e=Math.floor(Math.log(n)/Math.log(t)),i=(n/Math.pow(t,e)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"");return"".concat(i," ").concat(HI[e])}}},hh="\uFEFF",Rr="\xA0",a_=function(n){for(let t in n){let e=n[t];this[t]=e}return this},Xv=document.documentElement,VI=Xv.matches,Ne=function(n){let{onElement:t,matchingSelector:e,withCallback:i,inPhase:r,preventDefault:s,times:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t||Xv,l=e,u=r==="capturing",c=function(d){o!=null&&--o==0&&c.destroy();let h=Fr(d.target,{matchingSelector:l});h!=null&&(i?.call(h,d,h),s&&d.preventDefault())};return c.destroy=()=>a.removeEventListener(n,c,u),a.addEventListener(n,c,u),c},Rl=function(n){let{onElement:t,bubbles:e,cancelable:i,attributes:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t??Xv;e=e!==!1,i=i!==!1;let o=document.createEvent("Events");return o.initEvent(n,e,i),r!=null&&a_.call(o,r),s.dispatchEvent(o)},l_=function(n,t){if(n?.nodeType===1)return VI.call(n,t)},Fr=function(n){let{matchingSelector:t,untilNode:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(;n&&n.nodeType!==Node.ELEMENT_NODE;)n=n.parentNode;if(n!=null){if(t==null)return n;if(n.closest&&e==null)return n.closest(t);for(;n&&n!==e;){if(l_(n,t))return n;n=n.parentNode}}},Jv=n=>document.activeElement!==n&&Os(n,document.activeElement),Os=function(n,t){if(n&&t)for(;t;){if(t===n)return!0;t=t.parentNode}},bv=function(n){var t;if((t=n)===null||t===void 0||!t.parentNode)return;let e=0;for(n=n.previousSibling;n;)e++,n=n.previousSibling;return e},Nr=n=>{var t;return n==null||(t=n.parentNode)===null||t===void 0?void 0:t.removeChild(n)},zd=function(n){let{onlyNodesOfType:t,usingFilter:e,expandEntityReferences:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(()=>{switch(t){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}})();return document.createTreeWalker(n,r,e??null,i===!0)},_n=n=>{var t;return n==null||(t=n.tagName)===null||t===void 0?void 0:t.toLowerCase()},Gt=function(n){let t,e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof n=="object"?(i=n,n=i.tagName):i={attributes:i};let r=document.createElement(n);if(i.editable!=null&&(i.attributes==null&&(i.attributes={}),i.attributes.contenteditable=i.editable),i.attributes)for(t in i.attributes)e=i.attributes[t],r.setAttribute(t,e);if(i.style)for(t in i.style)e=i.style[t],r.style[t]=e;if(i.data)for(t in i.data)e=i.data[t],r.dataset[t]=e;return i.className&&i.className.split(" ").forEach(s=>{r.classList.add(s)}),i.textContent&&(r.textContent=i.textContent),i.childNodes&&[].concat(i.childNodes).forEach(s=>{r.appendChild(s)}),r},Ml,Il=function(){if(Ml!=null)return Ml;Ml=[];for(let n in Cn){let t=Cn[n];t.tagName&&Ml.push(t.tagName)}return Ml},yv=n=>zo(n?.firstChild),FS=function(n){let{strict:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{strict:!0};return t?zo(n):zo(n)||!zo(n.firstChild)&&function(e){return Il().includes(_n(e))&&!Il().includes(_n(e.firstChild))}(n)},zo=n=>WI(n)&&n?.data==="block",WI=n=>n?.nodeType===Node.COMMENT_NODE,Uo=function(n){let{name:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n)return Fl(n)?n.data===hh?!t||n.parentNode.dataset.trixCursorTarget===t:void 0:Uo(n.firstChild)},Ms=n=>l_(n,Ds),c_=n=>Fl(n)&&n?.data==="",Fl=n=>n?.nodeType===Node.TEXT_NODE,Qv={level2Enabled:!0,getLevel(){return this.level2Enabled&&Wl.supportsInputEvents?2:0},pickFiles(n){let t=Gt("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId});t.addEventListener("change",()=>{n(t.files),Nr(t)}),Nr(document.getElementById(this.fileInputId)),document.body.appendChild(t),t.click()}},Vd={removeBlankTableCells:!1,tableCellSeparator:" | ",tableRowSeparator:`
`},Rs={bold:{tagName:"strong",inheritable:!0,parser(n){let t=window.getComputedStyle(n);return t.fontWeight==="bold"||t.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:n=>window.getComputedStyle(n).fontStyle==="italic"},href:{groupTagName:"a",parser(n){let t="a:not(".concat(Ds,")"),e=n.closest(t);if(e)return e.getAttribute("href")}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}},u_={getDefaultHTML:()=>`<div class="trix-button-row">
      <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`.concat(Vt.bold,'" tabindex="-1">').concat(Vt.bold,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`).concat(Vt.italic,'" tabindex="-1">').concat(Vt.italic,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`).concat(Vt.strike,'" tabindex="-1">').concat(Vt.strike,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`).concat(Vt.link,'" tabindex="-1">').concat(Vt.link,`</button>
      </span>

      <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`).concat(Vt.heading1,'" tabindex="-1">').concat(Vt.heading1,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`).concat(Vt.quote,'" tabindex="-1">').concat(Vt.quote,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`).concat(Vt.code,'" tabindex="-1">').concat(Vt.code,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`).concat(Vt.bullets,'" tabindex="-1">').concat(Vt.bullets,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`).concat(Vt.numbers,'" tabindex="-1">').concat(Vt.numbers,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`).concat(Vt.outdent,'" tabindex="-1">').concat(Vt.outdent,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`).concat(Vt.indent,'" tabindex="-1">').concat(Vt.indent,`</button>
      </span>

      <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`).concat(Vt.attachFiles,'" tabindex="-1">').concat(Vt.attachFiles,`</button>
      </span>

      <span class="trix-button-group-spacer"></span>

      <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`).concat(Vt.undo,'" tabindex="-1">').concat(Vt.undo,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`).concat(Vt.redo,'" tabindex="-1">').concat(Vt.redo,`</button>
      </span>
    </div>

    <div class="trix-dialogs" data-trix-dialogs>
      <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
        <div class="trix-dialog__link-fields">
          <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`).concat(Vt.urlPlaceholder,'" aria-label="').concat(Vt.url,`" required data-trix-input>
          <div class="trix-button-group">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(Vt.link,`" data-trix-method="setAttribute">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(Vt.unlink,`" data-trix-method="removeAttribute">
          </div>
        </div>
      </div>
    </div>`)},Iv={interval:5e3},zl=Object.freeze({__proto__:null,attachments:Gv,blockAttributes:Cn,browser:Wl,css:{attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"},fileSize:o_,input:Qv,keyNames:{8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},lang:Vt,parser:Vd,textAttributes:Rs,toolbar:u_,undo:Iv}),Ve=class{static proxyMethod(t){let{name:e,toMethod:i,toProperty:r,optional:s}=zI(t);this.prototype[e]=function(){let o,a;var l,u;return i?a=s?(l=this[i])===null||l===void 0?void 0:l.call(this):this[i]():r&&(a=this[r]),s?(o=(u=a)===null||u===void 0?void 0:u[e],o?NS.call(o,a,arguments):void 0):(o=a[e],NS.call(o,a,arguments))}}},zI=function(n){let t=n.match(UI);if(!t)throw new Error("can't parse @proxyMethod expression: ".concat(n));let e={name:t[4]};return t[2]!=null?e.toMethod=t[1]:e.toProperty=t[1],t[3]!=null&&(e.optional=!0),e},{apply:NS}=Function.prototype,UI=new RegExp("^(.+?)(\\(\\))?(\\?)?\\.(.+?)$"),wv,xv,Av,Is=class extends Ve{static box(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t instanceof this?t:this.fromUCS2String(t?.toString())}static fromUCS2String(t){return new this(t,Fv(t))}static fromCodepoints(t){return new this(Nv(t),t)}constructor(t,e){super(...arguments),this.ucs2String=t,this.codepoints=e,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}offsetToUCS2Offset(t){return Nv(this.codepoints.slice(0,Math.max(0,t))).length}offsetFromUCS2Offset(t){return Fv(this.ucs2String.slice(0,Math.max(0,t))).length}slice(){return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))}charAt(t){return this.slice(t,t+1)}isEqualTo(t){return this.constructor.box(t).ucs2String===this.ucs2String}toJSON(){return this.ucs2String}getCacheKey(){return this.ucs2String}toString(){return this.ucs2String}},qI=((wv=Array.from)===null||wv===void 0?void 0:wv.call(Array,"\u{1F47C}").length)===1,YI=((xv=" ".codePointAt)===null||xv===void 0?void 0:xv.call(" ",0))!=null,KI=((Av=String.fromCodePoint)===null||Av===void 0?void 0:Av.call(String,32,128124))===" \u{1F47C}",Fv,Nv;Fv=qI&&YI?n=>Array.from(n).map(t=>t.codePointAt(0)):function(n){let t=[],e=0,{length:i}=n;for(;e<i;){let r=n.charCodeAt(e++);if(55296<=r&&r<=56319&&e<i){let s=n.charCodeAt(e++);(64512&s)==56320?r=((1023&r)<<10)+(1023&s)+65536:e--}t.push(r)}return t},Nv=KI?n=>String.fromCodePoint(...Array.from(n||[])):function(n){return(()=>{let t=[];return Array.from(n).forEach(e=>{let i="";e>65535&&(e-=65536,i+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t.push(i+String.fromCharCode(e))}),t})().join("")};var GI=0,er=class extends Ve{static fromJSONString(t){return this.fromJSON(JSON.parse(t))}constructor(){super(...arguments),this.id=++GI}hasSameConstructorAs(t){return this.constructor===t?.constructor}isEqualTo(t){return this===t}inspect(){let t=[],e=this.contentsForInspection()||{};for(let i in e){let r=e[i];t.push("".concat(i,"=").concat(r))}return"#<".concat(this.constructor.name,":").concat(this.id).concat(t.length?" ".concat(t.join(", ")):"",">")}contentsForInspection(){}toJSONString(){return JSON.stringify(this)}toUTF16String(){return Is.box(this)}getCacheKey(){return this.id.toString()}},Fs=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0},Zv=function(n){let t=n.slice(0);for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return t.splice(...i),t},XI=/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,JI=function(){let n=Gt("input",{dir:"auto",name:"x",dirName:"x.dir"}),t=Gt("textarea",{dir:"auto",name:"y",dirName:"y.dir"}),e=Gt("form");e.appendChild(n),e.appendChild(t);let i=function(){try{return new FormData(e).has(t.dirName)}catch{return!1}}(),r=function(){try{return n.matches(":dir(ltr),:dir(rtl)")}catch{return!1}}();return i?function(s){return t.value=s,new FormData(e).get(t.dirName)}:r?function(s){return n.value=s,n.matches(":dir(rtl)")?"rtl":"ltr"}:function(s){let o=s.trim().charAt(0);return XI.test(o)?"rtl":"ltr"}}(),Sv=null,_v=null,Cv=null,$d=null,Bv=()=>(Sv||(Sv=ZI().concat(QI())),Sv),Ue=n=>Cn[n],QI=()=>(_v||(_v=Object.keys(Cn)),_v),jv=n=>Rs[n],ZI=()=>(Cv||(Cv=Object.keys(Rs)),Cv),d_=function(n,t){tF(n).textContent=t.replace(/%t/g,n)},tF=function(n){let t=document.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("data-tag-name",n.toLowerCase());let e=eF();return e&&t.setAttribute("nonce",e),document.head.insertBefore(t,document.head.firstChild),t},eF=function(){let n=BS("trix-csp-nonce")||BS("csp-nonce");if(n)return n.getAttribute("content")},BS=n=>document.head.querySelector("meta[name=".concat(n,"]")),jS={"application/x-trix-feature-detection":"test"},h_=function(n){let t=n.getData("text/plain"),e=n.getData("text/html");if(!t||!e)return t?.length;{let{body:i}=new DOMParser().parseFromString(e,"text/html");if(i.textContent===t)return!i.querySelector("*")}},f_=/Mac|^iP/.test(navigator.platform)?n=>n.metaKey:n=>n.ctrlKey,tb=n=>setTimeout(n,1),p_=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t={};for(let e in n){let i=n[e];t[e]=i}return t},Qo=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object.keys(n).length!==Object.keys(t).length)return!1;for(let e in n)if(n[e]!==t[e])return!1;return!0},pe=function(n){if(n!=null)return Array.isArray(n)||(n=[n,n]),[$S(n[0]),$S(n[1]!=null?n[1]:n[0])]},tr=function(n){if(n==null)return;let[t,e]=pe(n);return $v(t,e)},Ud=function(n,t){if(n==null||t==null)return;let[e,i]=pe(n),[r,s]=pe(t);return $v(e,r)&&$v(i,s)},$S=function(n){return typeof n=="number"?n:p_(n)},$v=function(n,t){return typeof n=="number"?n===t:Qo(n,t)},qd=class extends Ve{constructor(){super(...arguments),this.update=this.update.bind(this),this.selectionManagers=[]}start(){this.started||(this.started=!0,document.addEventListener("selectionchange",this.update,!0))}stop(){if(this.started)return this.started=!1,document.removeEventListener("selectionchange",this.update,!0)}registerSelectionManager(t){if(!this.selectionManagers.includes(t))return this.selectionManagers.push(t),this.start()}unregisterSelectionManager(t){if(this.selectionManagers=this.selectionManagers.filter(e=>e!==t),this.selectionManagers.length===0)return this.stop()}notifySelectionManagersOfSelectionChange(){return this.selectionManagers.map(t=>t.selectionDidChange())}update(){this.notifySelectionManagersOfSelectionChange()}reset(){this.update()}},Ns=new qd,m_=function(){let n=window.getSelection();if(n.rangeCount>0)return n},Nl=function(){var n;let t=(n=m_())===null||n===void 0?void 0:n.getRangeAt(0);if(t&&!nF(t))return t},g_=function(n){let t=window.getSelection();return t.removeAllRanges(),t.addRange(n),Ns.update()},nF=n=>HS(n.startContainer)||HS(n.endContainer),HS=n=>!Object.getPrototypeOf(n),Ll=n=>n.replace(new RegExp("".concat(hh),"g"),"").replace(new RegExp("".concat(Rr),"g")," "),eb=new RegExp("[^\\S".concat(Rr,"]")),nb=n=>n.replace(new RegExp("".concat(eb.source),"g")," ").replace(/\ {2,}/g," "),VS=function(n,t){if(n.isEqualTo(t))return["",""];let e=Ev(n,t),{length:i}=e.utf16String,r;if(i){let{offset:s}=e,o=n.codepoints.slice(0,s).concat(n.codepoints.slice(s+i));r=Ev(t,Is.fromCodepoints(o))}else r=Ev(t,n);return[e.utf16String.toString(),r.utf16String.toString()]},Ev=function(n,t){let e=0,i=n.length,r=t.length;for(;e<i&&n.charAt(e).isEqualTo(t.charAt(e));)e++;for(;i>e+1&&n.charAt(i-1).isEqualTo(t.charAt(r-1));)i--,r--;return{utf16String:n.slice(e,i),offset:e}},fi=class n extends er{static fromCommonAttributesOfObjects(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!t.length)return new this;let e=Pl(t[0]),i=e.getKeys();return t.slice(1).forEach(r=>{i=e.getKeysCommonToHash(Pl(r)),e=e.slice(i)}),e}static box(t){return Pl(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(...arguments),this.values=Wd(t)}add(t,e){return this.merge(iF(t,e))}remove(t){return new n(Wd(this.values,t))}get(t){return this.values[t]}has(t){return t in this.values}merge(t){return new n(rF(this.values,sF(t)))}slice(t){let e={};return Array.from(t).forEach(i=>{this.has(i)&&(e[i]=this.values[i])}),new n(e)}getKeys(){return Object.keys(this.values)}getKeysCommonToHash(t){return t=Pl(t),this.getKeys().filter(e=>this.values[e]===t.values[e])}isEqualTo(t){return Fs(this.toArray(),Pl(t).toArray())}isEmpty(){return this.getKeys().length===0}toArray(){if(!this.array){let t=[];for(let e in this.values){let i=this.values[e];t.push(t.push(e,i))}this.array=t.slice(0)}return this.array}toObject(){return Wd(this.values)}toJSON(){return this.toObject()}contentsForInspection(){return{values:JSON.stringify(this.values)}}},iF=function(n,t){let e={};return e[n]=t,e},rF=function(n,t){let e=Wd(n);for(let i in t){let r=t[i];e[i]=r}return e},Wd=function(n,t){let e={};return Object.keys(n).sort().forEach(i=>{i!==t&&(e[i]=n[i])}),e},Pl=function(n){return n instanceof fi?n:new fi(n)},sF=function(n){return n instanceof fi?n.values:n},Bl=class{static groupObjects(){let t,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:i,asTree:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r&&i==null&&(i=0);let s=[];return Array.from(e).forEach(o=>{var a;if(t){var l,u,c;if((l=o.canBeGrouped)!==null&&l!==void 0&&l.call(o,i)&&(u=(c=t[t.length-1]).canBeGroupedWith)!==null&&u!==void 0&&u.call(c,o,i))return void t.push(o);s.push(new this(t,{depth:i,asTree:r})),t=null}(a=o.canBeGrouped)!==null&&a!==void 0&&a.call(o,i)?t=[o]:s.push(o)}),t&&s.push(new this(t,{depth:i,asTree:r})),s}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:e,asTree:i}=arguments.length>1?arguments[1]:void 0;this.objects=t,i&&(this.depth=e,this.objects=this.constructor.groupObjects(this.objects,{asTree:i,depth:this.depth+1}))}getObjects(){return this.objects}getDepth(){return this.depth}getCacheKey(){let t=["objectGroup"];return Array.from(this.getObjects()).forEach(e=>{t.push(e.getCacheKey())}),t.join("/")}},Hv=class extends Ve{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects={},Array.from(t).forEach(e=>{let i=JSON.stringify(e);this.objects[i]==null&&(this.objects[i]=e)})}find(t){let e=JSON.stringify(t);return this.objects[e]}},Vv=class{constructor(t){this.reset(t)}add(t){let e=WS(t);this.elements[e]=t}remove(t){let e=WS(t),i=this.elements[e];if(i)return delete this.elements[e],i}reset(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.elements={},Array.from(t).forEach(e=>{this.add(e)}),t}},WS=n=>n.dataset.trixStoreKey,qo=class extends Ve{isPerforming(){return this.performing===!0}hasPerformed(){return this.performed===!0}hasSucceeded(){return this.performed&&this.succeeded}hasFailed(){return this.performed&&!this.succeeded}getPromise(){return this.promise||(this.promise=new Promise((t,e)=>(this.performing=!0,this.perform((i,r)=>{this.succeeded=i,this.performing=!1,this.performed=!0,this.succeeded?t(r):e(r)})))),this.promise}perform(t){return t(!1)}release(){var t,e;(t=this.promise)===null||t===void 0||(e=t.cancel)===null||e===void 0||e.call(t),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null}};qo.proxyMethod("getPromise().then"),qo.proxyMethod("getPromise().catch");var nr=class extends Ve{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.object=t,this.options=e,this.childViews=[],this.rootView=this}getNodes(){return this.nodes||(this.nodes=this.createNodes()),this.nodes.map(t=>t.cloneNode(!0))}invalidate(){var t;return this.nodes=null,this.childViews=[],(t=this.parentView)===null||t===void 0?void 0:t.invalidate()}invalidateViewForObject(t){var e;return(e=this.findViewForObject(t))===null||e===void 0?void 0:e.invalidate()}findOrCreateCachedChildView(t,e,i){let r=this.getCachedViewForObject(e);return r?this.recordChildView(r):(r=this.createChildView(...arguments),this.cacheViewForObject(r,e)),r}createChildView(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};e instanceof Bl&&(i.viewClass=t,t=Wv);let r=new t(e,i);return this.recordChildView(r)}recordChildView(t){return t.parentView=this,t.rootView=this.rootView,this.childViews.push(t),t}getAllChildViews(){let t=[];return this.childViews.forEach(e=>{t.push(e),t=t.concat(e.getAllChildViews())}),t}findElement(){return this.findElementForObject(this.object)}findElementForObject(t){let e=t?.id;if(e)return this.rootView.element.querySelector("[data-trix-id='".concat(e,"']"))}findViewForObject(t){for(let e of this.getAllChildViews())if(e.object===t)return e}getViewCache(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?(this.viewCache||(this.viewCache={}),this.viewCache):void 0}isViewCachingEnabled(){return this.shouldCacheViews!==!1}enableViewCaching(){this.shouldCacheViews=!0}disableViewCaching(){this.shouldCacheViews=!1}getCachedViewForObject(t){var e;return(e=this.getViewCache())===null||e===void 0?void 0:e[t.getCacheKey()]}cacheViewForObject(t,e){let i=this.getViewCache();i&&(i[e.getCacheKey()]=t)}garbageCollectCachedViews(){let t=this.getViewCache();if(t){let e=this.getAllChildViews().concat(this).map(i=>i.object.getCacheKey());for(let i in t)e.includes(i)||delete t[i]}}},Wv=class extends nr{constructor(){super(...arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}getChildViews(){return this.childViews.length||Array.from(this.objectGroup.getObjects()).forEach(t=>{this.findOrCreateCachedChildView(this.viewClass,t,this.options)}),this.childViews}createNodes(){let t=this.createContainerElement();return this.getChildViews().forEach(e=>{Array.from(e.getNodes()).forEach(i=>{t.appendChild(i)})}),[t]}createContainerElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.objectGroup.getDepth();return this.getChildViews()[0].createContainerElement(t)}},{css:Lr}=zl,jl=class extends nr{constructor(){super(...arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}createContentNodes(){return[]}createNodes(){let t,e=t=Gt({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),i=this.getHref();return i&&(t=Gt({tagName:"a",editable:!1,attributes:{href:i,tabindex:-1}}),e.appendChild(t)),this.attachment.hasContent()?t.innerHTML=this.attachment.getContent():this.createContentNodes().forEach(r=>{t.appendChild(r)}),t.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=Gt({tagName:"progress",attributes:{class:Lr.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),e.appendChild(this.progressElement)),[zS("left"),e,zS("right")]}createCaptionElement(){let t=Gt({tagName:"figcaption",className:Lr.attachmentCaption}),e=this.attachmentPiece.getCaption();if(e)t.classList.add("".concat(Lr.attachmentCaption,"--edited")),t.textContent=e;else{let i,r,s=this.getCaptionConfig();if(s.name&&(i=this.attachment.getFilename()),s.size&&(r=this.attachment.getFormattedFilesize()),i){let o=Gt({tagName:"span",className:Lr.attachmentName,textContent:i});t.appendChild(o)}if(r){i&&t.appendChild(document.createTextNode(" "));let o=Gt({tagName:"span",className:Lr.attachmentSize,textContent:r});t.appendChild(o)}}return t}getClassName(){let t=[Lr.attachment,"".concat(Lr.attachment,"--").concat(this.attachment.getType())],e=this.attachment.getExtension();return e&&t.push("".concat(Lr.attachment,"--").concat(e)),t.join(" ")}getData(){let t={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},{attributes:e}=this.attachmentPiece;return e.isEmpty()||(t.trixAttributes=JSON.stringify(e)),this.attachment.isPending()&&(t.trixSerialize=!1),t}getHref(){if(!oF(this.attachment.getContent(),"a"))return this.attachment.getHref()}getCaptionConfig(){var t;let e=this.attachment.getType(),i=p_((t=Gv[e])===null||t===void 0?void 0:t.caption);return e==="file"&&(i.name=!0),i}findProgressElement(){var t;return(t=this.findElement())===null||t===void 0?void 0:t.querySelector("progress")}attachmentDidChangeUploadProgress(){let t=this.attachment.getUploadProgress(),e=this.findProgressElement();e&&(e.value=t)}},zS=n=>Gt({tagName:"span",textContent:hh,data:{trixCursorTarget:n,trixSerialize:!1}}),oF=function(n,t){let e=Gt("div");return e.innerHTML=n||"",e.querySelector(t)},Yd=class extends jl{constructor(){super(...arguments),this.attachment.previewDelegate=this}createContentNodes(){return this.image=Gt({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]}createCaptionElement(){let t=super.createCaptionElement(...arguments);return t.textContent||t.setAttribute("data-trix-placeholder",Vt.captionPlaceholder),t}refresh(t){var e;if(t||(t=(e=this.findElement())===null||e===void 0?void 0:e.querySelector("img")),t)return this.updateAttributesForImage(t)}updateAttributesForImage(t){let e=this.attachment.getURL(),i=this.attachment.getPreviewURL();if(t.src=i||e,i===e)t.removeAttribute("data-trix-serialized-attributes");else{let a=JSON.stringify({src:e});t.setAttribute("data-trix-serialized-attributes",a)}let r=this.attachment.getWidth(),s=this.attachment.getHeight();r!=null&&(t.width=r),s!=null&&(t.height=s);let o=["imageElement",this.attachment.id,t.src,t.width,t.height].join("/");t.dataset.trixStoreKey=o}attachmentDidChangeAttributes(){return this.refresh(this.image),this.refresh()}},Kd=class extends nr{constructor(){super(...arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),this.textConfig=this.options.textConfig,this.context=this.options.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}createNodes(){let t=this.attachment?this.createAttachmentNodes():this.createStringNodes(),e=this.createElement();if(e){let i=function(r){for(;(s=r)!==null&&s!==void 0&&s.firstElementChild;){var s;r=r.firstElementChild}return r}(e);Array.from(t).forEach(r=>{i.appendChild(r)}),t=[e]}return t}createAttachmentNodes(){let t=this.attachment.isPreviewable()?Yd:jl;return this.createChildView(t,this.piece.attachment,{piece:this.piece}).getNodes()}createStringNodes(){var t;if((t=this.textConfig)!==null&&t!==void 0&&t.plaintext)return[document.createTextNode(this.string)];{let e=[],i=this.string.split(`
`);for(let r=0;r<i.length;r++){let s=i[r];if(r>0){let o=Gt("br");e.push(o)}if(s.length){let o=document.createTextNode(this.preserveSpaces(s));e.push(o)}}return e}}createElement(){let t,e,i,r={};for(e in this.attributes){i=this.attributes[e];let o=jv(e);if(o){if(o.tagName){var s;let a=Gt(o.tagName);s?(s.appendChild(a),s=a):t=s=a}if(o.styleProperty&&(r[o.styleProperty]=i),o.style)for(e in o.style)i=o.style[e],r[e]=i}}if(Object.keys(r).length)for(e in t||(t=Gt("span")),r)i=r[e],t.style[e]=i;return t}createContainerElement(){for(let t in this.attributes){let e=this.attributes[t],i=jv(t);if(i&&i.groupTagName){let r={};return r[t]=e,Gt(i.groupTagName,r)}}}preserveSpaces(t){return this.context.isLast&&(t=t.replace(/\ $/,Rr)),t=t.replace(/(\S)\ {3}(\S)/g,"$1 ".concat(Rr," $2")).replace(/\ {2}/g,"".concat(Rr," ")).replace(/\ {2}/g," ".concat(Rr)),(this.context.isFirst||this.context.followsWhitespace)&&(t=t.replace(/^\ /,Rr)),t}},Gd=class extends nr{constructor(){super(...arguments),this.text=this.object,this.textConfig=this.options.textConfig}createNodes(){let t=[],e=Bl.groupObjects(this.getPieces()),i=e.length-1;for(let s=0;s<e.length;s++){let o=e[s],a={};s===0&&(a.isFirst=!0),s===i&&(a.isLast=!0),aF(r)&&(a.followsWhitespace=!0);let l=this.findOrCreateCachedChildView(Kd,o,{textConfig:this.textConfig,context:a});t.push(...Array.from(l.getNodes()||[]));var r=o}return t}getPieces(){return Array.from(this.text.getPieces()).filter(t=>!t.hasAttribute("blockBreak"))}},aF=n=>/\s$/.test(n?.toString()),{css:US}=zl,Xd=class extends nr{constructor(){super(...arguments),this.block=this.object,this.attributes=this.block.getAttributes()}createNodes(){let t=[document.createComment("block")];if(this.block.isEmpty())t.push(Gt("br"));else{var e;let i=(e=Ue(this.block.getLastAttribute()))===null||e===void 0?void 0:e.text,r=this.findOrCreateCachedChildView(Gd,this.block.text,{textConfig:i});t.push(...Array.from(r.getNodes()||[])),this.shouldAddExtraNewlineElement()&&t.push(Gt("br"))}if(this.attributes.length)return t;{let i,{tagName:r}=Cn.default;this.block.isRTL()&&(i={dir:"rtl"});let s=Gt({tagName:r,attributes:i});return t.forEach(o=>s.appendChild(o)),[s]}}createContainerElement(t){let e={},i,r=this.attributes[t],{tagName:s,htmlAttributes:o=[]}=Ue(r);if(t===0&&this.block.isRTL()&&Object.assign(e,{dir:"rtl"}),r==="attachmentGallery"){let a=this.block.getBlockBreakPosition();i="".concat(US.attachmentGallery," ").concat(US.attachmentGallery,"--").concat(a)}return Object.entries(this.block.htmlAttributes).forEach(a=>{let[l,u]=a;o.includes(l)&&(e[l]=u)}),Gt({tagName:s,className:i,attributes:e})}shouldAddExtraNewlineElement(){return/\n\n$/.test(this.block.toString())}},Yo=class extends nr{static render(t){let e=Gt("div"),i=new this(t,{element:e});return i.render(),i.sync(),e}constructor(){super(...arguments),this.element=this.options.element,this.elementStore=new Vv,this.setDocument(this.object)}setDocument(t){t.isEqualTo(this.document)||(this.document=this.object=t)}render(){if(this.childViews=[],this.shadowElement=Gt("div"),!this.document.isEmpty()){let t=Bl.groupObjects(this.document.getBlocks(),{asTree:!0});Array.from(t).forEach(e=>{let i=this.findOrCreateCachedChildView(Xd,e);Array.from(i.getNodes()).map(r=>this.shadowElement.appendChild(r))})}}isSynced(){return lF(this.shadowElement,this.element)}sync(){let t=this.createDocumentFragmentForSync();for(;this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(t),this.didSync()}didSync(){return this.elementStore.reset(qS(this.element)),tb(()=>this.garbageCollectCachedViews())}createDocumentFragmentForSync(){let t=document.createDocumentFragment();return Array.from(this.shadowElement.childNodes).forEach(e=>{t.appendChild(e.cloneNode(!0))}),Array.from(qS(t)).forEach(e=>{let i=this.elementStore.remove(e);i&&e.parentNode.replaceChild(i,e)}),t}},qS=n=>n.querySelectorAll("[data-trix-store-key]"),lF=(n,t)=>YS(n.innerHTML)===YS(t.innerHTML),YS=n=>n.replace(/&nbsp;/g," ");function Hd(n){var t,e;function i(s,o){try{var a=n[s](o),l=a.value,u=l instanceof cF;Promise.resolve(u?l.v:l).then(function(c){if(u){var d=s==="return"?"return":"next";if(!l.k||c.done)return i(d,c);c=n[d](c).value}r(a.done?"return":"normal",c)},function(c){i("throw",c)})}catch(c){r("throw",c)}}function r(s,o){switch(s){case"return":t.resolve({value:o,done:!0});break;case"throw":t.reject(o);break;default:t.resolve({value:o,done:!1})}(t=t.next)?i(t.key,t.arg):e=null}this._invoke=function(s,o){return new Promise(function(a,l){var u={key:s,arg:o,resolve:a,reject:l,next:null};e?e=e.next=u:(t=e=u,i(s,o))})},typeof n.return!="function"&&(this.return=void 0)}function cF(n,t){this.v=n,this.k=t}function Vn(n,t,e){return(t=uF(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function uF(n){var t=function(e,i){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,i||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(e)}(n,"string");return typeof t=="symbol"?t:String(t)}Hd.prototype[typeof Symbol=="function"&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Hd.prototype.next=function(n){return this._invoke("next",n)},Hd.prototype.throw=function(n){return this._invoke("throw",n)},Hd.prototype.return=function(n){return this._invoke("return",n)};var ir=class extends er{static registerType(t,e){e.type=t,this.types[t]=e}static fromJSON(t){let e=this.types[t.type];if(e)return e.fromJSON(t)}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.attributes=fi.box(e)}copyWithAttributes(t){return new this.constructor(this.getValue(),t)}copyWithAdditionalAttributes(t){return this.copyWithAttributes(this.attributes.merge(t))}copyWithoutAttribute(t){return this.copyWithAttributes(this.attributes.remove(t))}copy(){return this.copyWithAttributes(this.attributes)}getAttribute(t){return this.attributes.get(t)}getAttributesHash(){return this.attributes}getAttributes(){return this.attributes.toObject()}hasAttribute(t){return this.attributes.has(t)}hasSameStringValueAsPiece(t){return t&&this.toString()===t.toString()}hasSameAttributesAsPiece(t){return t&&(this.attributes===t.attributes||this.attributes.isEqualTo(t.attributes))}isBlockBreak(){return!1}isEqualTo(t){return super.isEqualTo(...arguments)||this.hasSameConstructorAs(t)&&this.hasSameStringValueAsPiece(t)&&this.hasSameAttributesAsPiece(t)}isEmpty(){return this.length===0}isSerializable(){return!0}toJSON(){return{type:this.constructor.type,attributes:this.getAttributes()}}contentsForInspection(){return{type:this.constructor.type,attributes:this.attributes.inspect()}}canBeGrouped(){return this.hasAttribute("href")}canBeGroupedWith(t){return this.getAttribute("href")===t.getAttribute("href")}getLength(){return this.length}canBeConsolidatedWith(t){return!1}};Vn(ir,"types",{});var Jd=class extends qo{constructor(t){super(...arguments),this.url=t}perform(t){let e=new Image;e.onload=()=>(e.width=this.width=e.naturalWidth,e.height=this.height=e.naturalHeight,t(!0,e)),e.onerror=()=>t(!1),e.src=this.url}},Ko=class n extends er{static attachmentForFile(t){let e=new this(this.attributesForFile(t));return e.setFile(t),e}static attributesForFile(t){return new fi({filename:t.name,filesize:t.size,contentType:t.type})}static fromJSON(t){return new this(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.releaseFile=this.releaseFile.bind(this),this.attributes=fi.box(t),this.didChangeAttributes()}getAttribute(t){return this.attributes.get(t)}hasAttribute(t){return this.attributes.has(t)}getAttributes(){return this.attributes.toObject()}setAttributes(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=this.attributes.merge(t);var i,r,s,o;if(!this.attributes.isEqualTo(e))return this.attributes=e,this.didChangeAttributes(),(i=this.previewDelegate)===null||i===void 0||(r=i.attachmentDidChangeAttributes)===null||r===void 0||r.call(i,this),(s=this.delegate)===null||s===void 0||(o=s.attachmentDidChangeAttributes)===null||o===void 0?void 0:o.call(s,this)}didChangeAttributes(){if(this.isPreviewable())return this.preloadURL()}isPending(){return this.file!=null&&!(this.getURL()||this.getHref())}isPreviewable(){return this.attributes.has("previewable")?this.attributes.get("previewable"):n.previewablePattern.test(this.getContentType())}getType(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"}getURL(){return this.attributes.get("url")}getHref(){return this.attributes.get("href")}getFilename(){return this.attributes.get("filename")||""}getFilesize(){return this.attributes.get("filesize")}getFormattedFilesize(){let t=this.attributes.get("filesize");return typeof t=="number"?o_.formatter(t):""}getExtension(){var t;return(t=this.getFilename().match(/\.(\w+)$/))===null||t===void 0?void 0:t[1].toLowerCase()}getContentType(){return this.attributes.get("contentType")}hasContent(){return this.attributes.has("content")}getContent(){return this.attributes.get("content")}getWidth(){return this.attributes.get("width")}getHeight(){return this.attributes.get("height")}getFile(){return this.file}setFile(t){if(this.file=t,this.isPreviewable())return this.preloadFile()}releaseFile(){this.releasePreloadedFile(),this.file=null}getUploadProgress(){return this.uploadProgress!=null?this.uploadProgress:0}setUploadProgress(t){var e,i;if(this.uploadProgress!==t)return this.uploadProgress=t,(e=this.uploadProgressDelegate)===null||e===void 0||(i=e.attachmentDidChangeUploadProgress)===null||i===void 0?void 0:i.call(e,this)}toJSON(){return this.getAttributes()}getCacheKey(){return[super.getCacheKey(...arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")}getPreviewURL(){return this.previewURL||this.preloadingURL}setPreviewURL(t){var e,i,r,s;if(t!==this.getPreviewURL())return this.previewURL=t,(e=this.previewDelegate)===null||e===void 0||(i=e.attachmentDidChangeAttributes)===null||i===void 0||i.call(e,this),(r=this.delegate)===null||r===void 0||(s=r.attachmentDidChangePreviewURL)===null||s===void 0?void 0:s.call(r,this)}preloadURL(){return this.preload(this.getURL(),this.releaseFile)}preloadFile(){if(this.file)return this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)}releasePreloadedFile(){this.fileObjectURL&&(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null)}preload(t,e){if(t&&t!==this.getPreviewURL())return this.preloadingURL=t,new Jd(t).then(i=>{let{width:r,height:s}=i;return this.getWidth()&&this.getHeight()||this.setAttributes({width:r,height:s}),this.preloadingURL=null,this.setPreviewURL(t),e?.()}).catch(()=>(this.preloadingURL=null,e?.()))}};Vn(Ko,"previewablePattern",/^image(\/(gif|png|webp|jpe?g)|$)/);var Go=class n extends ir{static fromJSON(t){return new this(Ko.fromJSON(t.attachment),t.attributes)}constructor(t){super(...arguments),this.attachment=t,this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}ensureAttachmentExclusivelyHasAttribute(t){this.hasAttribute(t)&&(this.attachment.hasAttribute(t)||this.attachment.setAttributes(this.attributes.slice([t])),this.attributes=this.attributes.remove(t))}removeProhibitedAttributes(){let t=this.attributes.slice(n.permittedAttributes);t.isEqualTo(this.attributes)||(this.attributes=t)}getValue(){return this.attachment}isSerializable(){return!this.attachment.isPending()}getCaption(){return this.attributes.get("caption")||""}isEqualTo(t){var e;return super.isEqualTo(t)&&this.attachment.id===(t==null||(e=t.attachment)===null||e===void 0?void 0:e.id)}toString(){return"\uFFFC"}toJSON(){let t=super.toJSON(...arguments);return t.attachment=this.attachment,t}getCacheKey(){return[super.getCacheKey(...arguments),this.attachment.getCacheKey()].join("/")}toConsole(){return JSON.stringify(this.toString())}};Vn(Go,"permittedAttributes",["caption","presentation"]),ir.registerType("attachment",Go);var $l=class extends ir{static fromJSON(t){return new this(t.string,t.attributes)}constructor(t){super(...arguments),this.string=(e=>e.replace(/\r\n?/g,`
`))(t),this.length=this.string.length}getValue(){return this.string}toString(){return this.string.toString()}isBlockBreak(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0}toJSON(){let t=super.toJSON(...arguments);return t.string=this.string,t}canBeConsolidatedWith(t){return t&&this.hasSameConstructorAs(t)&&this.hasSameAttributesAsPiece(t)}consolidateWith(t){return new this.constructor(this.toString()+t.toString(),this.attributes)}splitAtOffset(t){let e,i;return t===0?(e=null,i=this):t===this.length?(e=this,i=null):(e=new this.constructor(this.string.slice(0,t),this.attributes),i=new this.constructor(this.string.slice(t),this.attributes)),[e,i]}toConsole(){let{string:t}=this;return t.length>15&&(t=t.slice(0,14)+"\u2026"),JSON.stringify(t.toString())}};ir.registerType("string",$l);var Xo=class extends er{static box(t){return t instanceof this?t:new this(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects=t.slice(0),this.length=this.objects.length}indexOf(t){return this.objects.indexOf(t)}splice(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new this.constructor(Zv(this.objects,...e))}eachObject(t){return this.objects.map((e,i)=>t(e,i))}insertObjectAtIndex(t,e){return this.splice(e,0,t)}insertSplittableListAtIndex(t,e){return this.splice(e,0,...t.objects)}insertSplittableListAtPosition(t,e){let[i,r]=this.splitObjectAtPosition(e);return new this.constructor(i).insertSplittableListAtIndex(t,r)}editObjectAtIndex(t,e){return this.replaceObjectAtIndex(e(this.objects[t]),t)}replaceObjectAtIndex(t,e){return this.splice(e,1,t)}removeObjectAtIndex(t){return this.splice(t,1)}getObjectAtIndex(t){return this.objects[t]}getSplittableListInRange(t){let[e,i,r]=this.splitObjectsAtRange(t);return new this.constructor(e.slice(i,r+1))}selectSplittableList(t){let e=this.objects.filter(i=>t(i));return new this.constructor(e)}removeObjectsInRange(t){let[e,i,r]=this.splitObjectsAtRange(t);return new this.constructor(e).splice(i,r-i+1)}transformObjectsInRange(t,e){let[i,r,s]=this.splitObjectsAtRange(t),o=i.map((a,l)=>r<=l&&l<=s?e(a):a);return new this.constructor(o)}splitObjectsAtRange(t){let e,[i,r,s]=this.splitObjectAtPosition(hF(t));return[i,e]=new this.constructor(i).splitObjectAtPosition(fF(t)+s),[i,r,e-1]}getObjectAtPosition(t){let{index:e}=this.findIndexAndOffsetAtPosition(t);return this.objects[e]}splitObjectAtPosition(t){let e,i,{index:r,offset:s}=this.findIndexAndOffsetAtPosition(t),o=this.objects.slice(0);if(r!=null)if(s===0)e=r,i=0;else{let a=this.getObjectAtIndex(r),[l,u]=a.splitAtOffset(s);o.splice(r,1,l,u),e=r+1,i=l.getLength()-s}else e=o.length,i=0;return[o,e,i]}consolidate(){let t=[],e=this.objects[0];return this.objects.slice(1).forEach(i=>{var r,s;(r=(s=e).canBeConsolidatedWith)!==null&&r!==void 0&&r.call(s,i)?e=e.consolidateWith(i):(t.push(e),e=i)}),e&&t.push(e),new this.constructor(t)}consolidateFromIndexToIndex(t,e){let i=this.objects.slice(0).slice(t,e+1),r=new this.constructor(i).consolidate().toArray();return this.splice(t,i.length,...r)}findIndexAndOffsetAtPosition(t){let e,i=0;for(e=0;e<this.objects.length;e++){let r=i+this.objects[e].getLength();if(i<=t&&t<r)return{index:e,offset:t-i};i=r}return{index:null,offset:null}}findPositionAtIndexAndOffset(t,e){let i=0;for(let r=0;r<this.objects.length;r++){let s=this.objects[r];if(r<t)i+=s.getLength();else if(r===t){i+=e;break}}return i}getEndPosition(){return this.endPosition==null&&(this.endPosition=0,this.objects.forEach(t=>this.endPosition+=t.getLength())),this.endPosition}toString(){return this.objects.join("")}toArray(){return this.objects.slice(0)}toJSON(){return this.toArray()}isEqualTo(t){return super.isEqualTo(...arguments)||dF(this.objects,t?.objects)}contentsForInspection(){return{objects:"[".concat(this.objects.map(t=>t.inspect()).join(", "),"]")}}},dF=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(n.length!==t.length)return!1;let e=!0;for(let i=0;i<n.length;i++){let r=n[i];e&&!r.isEqualTo(t[i])&&(e=!1)}return e},hF=n=>n[0],fF=n=>n[1],Hn=class extends er{static textForAttachmentWithAttributes(t,e){return new this([new Go(t,e)])}static textForStringWithAttributes(t,e){return new this([new $l(t,e)])}static fromJSON(t){return new this(Array.from(t).map(e=>ir.fromJSON(e)))}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments);let e=t.filter(i=>!i.isEmpty());this.pieceList=new Xo(e)}copy(){return this.copyWithPieceList(this.pieceList)}copyWithPieceList(t){return new this.constructor(t.consolidate().toArray())}copyUsingObjectMap(t){let e=this.getPieces().map(i=>t.find(i)||i);return new this.constructor(e)}appendText(t){return this.insertTextAtPosition(t,this.getLength())}insertTextAtPosition(t,e){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(t.pieceList,e))}removeTextAtRange(t){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(t))}replaceTextAtRange(t,e){return this.removeTextAtRange(e).insertTextAtPosition(t,e[0])}moveTextFromRangeToPosition(t,e){if(t[0]<=e&&e<=t[1])return;let i=this.getTextAtRange(t),r=i.getLength();return t[0]<e&&(e-=r),this.removeTextAtRange(t).insertTextAtPosition(i,e)}addAttributeAtRange(t,e,i){let r={};return r[t]=e,this.addAttributesAtRange(r,i)}addAttributesAtRange(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,i=>i.copyWithAdditionalAttributes(t)))}removeAttributeAtRange(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,i=>i.copyWithoutAttribute(t)))}setAttributesAtRange(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,i=>i.copyWithAttributes(t)))}getAttributesAtPosition(t){var e;return((e=this.pieceList.getObjectAtPosition(t))===null||e===void 0?void 0:e.getAttributes())||{}}getCommonAttributes(){let t=Array.from(this.pieceList.toArray()).map(e=>e.getAttributes());return fi.fromCommonAttributesOfObjects(t).toObject()}getCommonAttributesAtRange(t){return this.getTextAtRange(t).getCommonAttributes()||{}}getExpandedRangeForAttributeAtOffset(t,e){let i,r=i=e,s=this.getLength();for(;r>0&&this.getCommonAttributesAtRange([r-1,i])[t];)r--;for(;i<s&&this.getCommonAttributesAtRange([e,i+1])[t];)i++;return[r,i]}getTextAtRange(t){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(t))}getStringAtRange(t){return this.pieceList.getSplittableListInRange(t).toString()}getStringAtPosition(t){return this.getStringAtRange([t,t+1])}startsWithString(t){return this.getStringAtRange([0,t.length])===t}endsWithString(t){let e=this.getLength();return this.getStringAtRange([e-t.length,e])===t}getAttachmentPieces(){return this.pieceList.toArray().filter(t=>!!t.attachment)}getAttachments(){return this.getAttachmentPieces().map(t=>t.attachment)}getAttachmentAndPositionById(t){let e=0;for(let r of this.pieceList.toArray()){var i;if(((i=r.attachment)===null||i===void 0?void 0:i.id)===t)return{attachment:r.attachment,position:e};e+=r.length}return{attachment:null,position:null}}getAttachmentById(t){let{attachment:e}=this.getAttachmentAndPositionById(t);return e}getRangeOfAttachment(t){let e=this.getAttachmentAndPositionById(t.id),i=e.position;if(t=e.attachment)return[i,i+1]}updateAttributesForAttachment(t,e){let i=this.getRangeOfAttachment(e);return i?this.addAttributesAtRange(t,i):this}getLength(){return this.pieceList.getEndPosition()}isEmpty(){return this.getLength()===0}isEqualTo(t){var e;return super.isEqualTo(t)||(t==null||(e=t.pieceList)===null||e===void 0?void 0:e.isEqualTo(this.pieceList))}isBlockBreak(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()}eachPiece(t){return this.pieceList.eachObject(t)}getPieces(){return this.pieceList.toArray()}getPieceAtPosition(t){return this.pieceList.getObjectAtPosition(t)}contentsForInspection(){return{pieceList:this.pieceList.inspect()}}toSerializableText(){let t=this.pieceList.selectSplittableList(e=>e.isSerializable());return this.copyWithPieceList(t)}toString(){return this.pieceList.toString()}toJSON(){return this.pieceList.toJSON()}toConsole(){return JSON.stringify(this.pieceList.toArray().map(t=>JSON.parse(t.toConsole())))}getDirection(){return JI(this.toString())}isRTL(){return this.getDirection()==="rtl"}},Ir=class n extends er{static fromJSON(t){return new this(Hn.fromJSON(t.text),t.attributes,t.htmlAttributes)}constructor(t,e,i){super(...arguments),this.text=pF(t||new Hn),this.attributes=e||[],this.htmlAttributes=i||{}}isEmpty(){return this.text.isBlockBreak()}isEqualTo(t){return!!super.isEqualTo(t)||this.text.isEqualTo(t?.text)&&Fs(this.attributes,t?.attributes)&&Qo(this.htmlAttributes,t?.htmlAttributes)}copyWithText(t){return new n(t,this.attributes,this.htmlAttributes)}copyWithoutText(){return this.copyWithText(null)}copyWithAttributes(t){return new n(this.text,t,this.htmlAttributes)}copyWithoutAttributes(){return this.copyWithAttributes(null)}copyUsingObjectMap(t){let e=t.find(this.text);return e?this.copyWithText(e):this.copyWithText(this.text.copyUsingObjectMap(t))}addAttribute(t){let e=this.attributes.concat(KS(t));return this.copyWithAttributes(e)}addHTMLAttribute(t,e){let i=Object.assign({},this.htmlAttributes,{[t]:e});return new n(this.text,this.attributes,i)}removeAttribute(t){let{listAttribute:e}=Ue(t),i=XS(XS(this.attributes,t),e);return this.copyWithAttributes(i)}removeLastAttribute(){return this.removeAttribute(this.getLastAttribute())}getLastAttribute(){return GS(this.attributes)}getAttributes(){return this.attributes.slice(0)}getAttributeLevel(){return this.attributes.length}getAttributeAtLevel(t){return this.attributes[t-1]}hasAttribute(t){return this.attributes.includes(t)}hasAttributes(){return this.getAttributeLevel()>0}getLastNestableAttribute(){return GS(this.getNestableAttributes())}getNestableAttributes(){return this.attributes.filter(t=>Ue(t).nestable)}getNestingLevel(){return this.getNestableAttributes().length}decreaseNestingLevel(){let t=this.getLastNestableAttribute();return t?this.removeAttribute(t):this}increaseNestingLevel(){let t=this.getLastNestableAttribute();if(t){let e=this.attributes.lastIndexOf(t),i=Zv(this.attributes,e+1,0,...KS(t));return this.copyWithAttributes(i)}return this}getListItemAttributes(){return this.attributes.filter(t=>Ue(t).listAttribute)}isListItem(){var t;return(t=Ue(this.getLastAttribute()))===null||t===void 0?void 0:t.listAttribute}isTerminalBlock(){var t;return(t=Ue(this.getLastAttribute()))===null||t===void 0?void 0:t.terminal}breaksOnReturn(){var t;return(t=Ue(this.getLastAttribute()))===null||t===void 0?void 0:t.breakOnReturn}findLineBreakInDirectionFromPosition(t,e){let i=this.toString(),r;switch(t){case"forward":r=i.indexOf(`
`,e);break;case"backward":r=i.slice(0,e).lastIndexOf(`
`)}if(r!==-1)return r}contentsForInspection(){return{text:this.text.inspect(),attributes:this.attributes}}toString(){return this.text.toString()}toJSON(){return{text:this.text,attributes:this.attributes,htmlAttributes:this.htmlAttributes}}getDirection(){return this.text.getDirection()}isRTL(){return this.text.isRTL()}getLength(){return this.text.getLength()}canBeConsolidatedWith(t){return!this.hasAttributes()&&!t.hasAttributes()&&this.getDirection()===t.getDirection()}consolidateWith(t){let e=Hn.textForStringWithAttributes(`
`),i=this.getTextWithoutBlockBreak().appendText(e);return this.copyWithText(i.appendText(t.text))}splitAtOffset(t){let e,i;return t===0?(e=null,i=this):t===this.getLength()?(e=this,i=null):(e=this.copyWithText(this.text.getTextAtRange([0,t])),i=this.copyWithText(this.text.getTextAtRange([t,this.getLength()]))),[e,i]}getBlockBreakPosition(){return this.text.getLength()-1}getTextWithoutBlockBreak(){return v_(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()}canBeGrouped(t){return this.attributes[t]}canBeGroupedWith(t,e){let i=t.getAttributes(),r=i[e],s=this.attributes[e];return s===r&&!(Ue(s).group===!1&&!(()=>{if(!$d){$d=[];for(let o in Cn){let{listAttribute:a}=Cn[o];a!=null&&$d.push(a)}}return $d})().includes(i[e+1]))&&(this.getDirection()===t.getDirection()||t.isEmpty())}},pF=function(n){return n=mF(n),n=vF(n)},mF=function(n){let t=!1,e=n.getPieces(),i=e.slice(0,e.length-1),r=e[e.length-1];return r?(i=i.map(s=>s.isBlockBreak()?(t=!0,bF(s)):s),t?new Hn([...i,r]):n):n},gF=Hn.textForStringWithAttributes(`
`,{blockBreak:!0}),vF=function(n){return v_(n)?n:n.appendText(gF)},v_=function(n){let t=n.getLength();return t===0?!1:n.getTextAtRange([t-1,t]).isBlockBreak()},bF=n=>n.copyWithoutAttribute("blockBreak"),KS=function(n){let{listAttribute:t}=Ue(n);return t?[t,n]:[n]},GS=n=>n.slice(-1)[0],XS=function(n,t){let e=n.lastIndexOf(t);return e===-1?n:Zv(n,e,1)},In=class extends er{static fromJSON(t){return new this(Array.from(t).map(e=>Ir.fromJSON(e)))}static fromString(t,e){let i=Hn.textForStringWithAttributes(t,e);return new this([new Ir(i)])}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),t.length===0&&(t=[new Ir]),this.blockList=Xo.box(t)}isEmpty(){let t=this.getBlockAtIndex(0);return this.blockList.length===1&&t.isEmpty()&&!t.hasAttributes()}copy(){let t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray();return new this.constructor(t)}copyUsingObjectsFromDocument(t){let e=new Hv(t.getObjects());return this.copyUsingObjectMap(e)}copyUsingObjectMap(t){let e=this.getBlocks().map(i=>t.find(i)||i.copyUsingObjectMap(t));return new this.constructor(e)}copyWithBaseBlockAttributes(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=this.getBlocks().map(i=>{let r=t.concat(i.getAttributes());return i.copyWithAttributes(r)});return new this.constructor(e)}replaceBlock(t,e){let i=this.blockList.indexOf(t);return i===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(e,i))}insertDocumentAtRange(t,e){let{blockList:i}=t;e=pe(e);let[r]=e,{index:s,offset:o}=this.locationFromPosition(r),a=this,l=this.getBlockAtPosition(r);return tr(e)&&l.isEmpty()&&!l.hasAttributes()?a=new this.constructor(a.blockList.removeObjectAtIndex(s)):l.getBlockBreakPosition()===o&&r++,a=a.removeTextAtRange(e),new this.constructor(a.blockList.insertSplittableListAtPosition(i,r))}mergeDocumentAtRange(t,e){let i,r;e=pe(e);let[s]=e,o=this.locationFromPosition(s),a=this.getBlockAtIndex(o.index).getAttributes(),l=t.getBaseBlockAttributes(),u=a.slice(-l.length);if(Fs(l,u)){let h=a.slice(0,-l.length);i=t.copyWithBaseBlockAttributes(h)}else i=t.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(a);let c=i.getBlockCount(),d=i.getBlockAtIndex(0);if(Fs(a,d.getAttributes())){let h=d.getTextWithoutBlockBreak();if(r=this.insertTextAtRange(h,e),c>1){i=new this.constructor(i.getBlocks().slice(1));let m=s+h.getLength();r=r.insertDocumentAtRange(i,m)}}else r=this.insertDocumentAtRange(i,e);return r}insertTextAtRange(t,e){e=pe(e);let[i]=e,{index:r,offset:s}=this.locationFromPosition(i),o=this.removeTextAtRange(e);return new this.constructor(o.blockList.editObjectAtIndex(r,a=>a.copyWithText(a.text.insertTextAtPosition(t,s))))}removeTextAtRange(t){let e;t=pe(t);let[i,r]=t;if(tr(t))return this;let[s,o]=Array.from(this.locationRangeFromRange(t)),a=s.index,l=s.offset,u=this.getBlockAtIndex(a),c=o.index,d=o.offset,h=this.getBlockAtIndex(c);if(r-i==1&&u.getBlockBreakPosition()===l&&h.getBlockBreakPosition()!==d&&h.text.getStringAtPosition(d)===`
`)e=this.blockList.editObjectAtIndex(c,m=>m.copyWithText(m.text.removeTextAtRange([d,d+1])));else{let m,v=u.text.getTextAtRange([0,l]),g=h.text.getTextAtRange([d,h.getLength()]),y=v.appendText(g);m=a!==c&&l===0&&u.getAttributeLevel()>=h.getAttributeLevel()?h.copyWithText(y):u.copyWithText(y);let x=c+1-a;e=this.blockList.splice(a,x,m)}return new this.constructor(e)}moveTextFromRangeToPosition(t,e){let i;t=pe(t);let[r,s]=t;if(r<=e&&e<=s)return this;let o=this.getDocumentAtRange(t),a=this.removeTextAtRange(t),l=r<e;l&&(e-=o.getLength());let[u,...c]=o.getBlocks();return c.length===0?(i=u.getTextWithoutBlockBreak(),l&&(e+=1)):i=u.text,a=a.insertTextAtRange(i,e),c.length===0?a:(o=new this.constructor(c),e+=i.getLength(),a.insertDocumentAtRange(o,e))}addAttributeAtRange(t,e,i){let{blockList:r}=this;return this.eachBlockAtRange(i,(s,o,a)=>r=r.editObjectAtIndex(a,function(){return Ue(t)?s.addAttribute(t,e):o[0]===o[1]?s:s.copyWithText(s.text.addAttributeAtRange(t,e,o))})),new this.constructor(r)}addAttribute(t,e){let{blockList:i}=this;return this.eachBlock((r,s)=>i=i.editObjectAtIndex(s,()=>r.addAttribute(t,e))),new this.constructor(i)}removeAttributeAtRange(t,e){let{blockList:i}=this;return this.eachBlockAtRange(e,function(r,s,o){Ue(t)?i=i.editObjectAtIndex(o,()=>r.removeAttribute(t)):s[0]!==s[1]&&(i=i.editObjectAtIndex(o,()=>r.copyWithText(r.text.removeAttributeAtRange(t,s))))}),new this.constructor(i)}updateAttributesForAttachment(t,e){let i=this.getRangeOfAttachment(e),[r]=Array.from(i),{index:s}=this.locationFromPosition(r),o=this.getTextAtIndex(s);return new this.constructor(this.blockList.editObjectAtIndex(s,a=>a.copyWithText(o.updateAttributesForAttachment(t,e))))}removeAttributeForAttachment(t,e){let i=this.getRangeOfAttachment(e);return this.removeAttributeAtRange(t,i)}setHTMLAttributeAtPosition(t,e,i){let r=this.getBlockAtPosition(t),s=r.addHTMLAttribute(e,i);return this.replaceBlock(r,s)}insertBlockBreakAtRange(t){let e;t=pe(t);let[i]=t,{offset:r}=this.locationFromPosition(i),s=this.removeTextAtRange(t);return r===0&&(e=[new Ir]),new this.constructor(s.blockList.insertSplittableListAtPosition(new Xo(e),i))}applyBlockAttributeAtRange(t,e,i){let r=this.expandRangeToLineBreaksAndSplitBlocks(i),s=r.document;i=r.range;let o=Ue(t);if(o.listAttribute){s=s.removeLastListAttributeAtRange(i,{exceptAttributeName:t});let a=s.convertLineBreaksToBlockBreaksInRange(i);s=a.document,i=a.range}else s=o.exclusive?s.removeBlockAttributesAtRange(i):o.terminal?s.removeLastTerminalAttributeAtRange(i):s.consolidateBlocksAtRange(i);return s.addAttributeAtRange(t,e,i)}removeLastListAttributeAtRange(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{blockList:i}=this;return this.eachBlockAtRange(t,function(r,s,o){let a=r.getLastAttribute();a&&Ue(a).listAttribute&&a!==e.exceptAttributeName&&(i=i.editObjectAtIndex(o,()=>r.removeAttribute(a)))}),new this.constructor(i)}removeLastTerminalAttributeAtRange(t){let{blockList:e}=this;return this.eachBlockAtRange(t,function(i,r,s){let o=i.getLastAttribute();o&&Ue(o).terminal&&(e=e.editObjectAtIndex(s,()=>i.removeAttribute(o)))}),new this.constructor(e)}removeBlockAttributesAtRange(t){let{blockList:e}=this;return this.eachBlockAtRange(t,function(i,r,s){i.hasAttributes()&&(e=e.editObjectAtIndex(s,()=>i.copyWithoutAttributes()))}),new this.constructor(e)}expandRangeToLineBreaksAndSplitBlocks(t){let e;t=pe(t);let[i,r]=t,s=this.locationFromPosition(i),o=this.locationFromPosition(r),a=this,l=a.getBlockAtIndex(s.index);if(s.offset=l.findLineBreakInDirectionFromPosition("backward",s.offset),s.offset!=null&&(e=a.positionFromLocation(s),a=a.insertBlockBreakAtRange([e,e+1]),o.index+=1,o.offset-=a.getBlockAtIndex(s.index).getLength(),s.index+=1),s.offset=0,o.offset===0&&o.index>s.index)o.index-=1,o.offset=a.getBlockAtIndex(o.index).getBlockBreakPosition();else{let u=a.getBlockAtIndex(o.index);u.text.getStringAtRange([o.offset-1,o.offset])===`
`?o.offset-=1:o.offset=u.findLineBreakInDirectionFromPosition("forward",o.offset),o.offset!==u.getBlockBreakPosition()&&(e=a.positionFromLocation(o),a=a.insertBlockBreakAtRange([e,e+1]))}return i=a.positionFromLocation(s),r=a.positionFromLocation(o),{document:a,range:t=pe([i,r])}}convertLineBreaksToBlockBreaksInRange(t){t=pe(t);let[e]=t,i=this.getStringAtRange(t).slice(0,-1),r=this;return i.replace(/.*?\n/g,function(s){e+=s.length,r=r.insertBlockBreakAtRange([e-1,e])}),{document:r,range:t}}consolidateBlocksAtRange(t){t=pe(t);let[e,i]=t,r=this.locationFromPosition(e).index,s=this.locationFromPosition(i).index;return new this.constructor(this.blockList.consolidateFromIndexToIndex(r,s))}getDocumentAtRange(t){t=pe(t);let e=this.blockList.getSplittableListInRange(t).toArray();return new this.constructor(e)}getStringAtRange(t){let e,i=t=pe(t);return i[i.length-1]!==this.getLength()&&(e=-1),this.getDocumentAtRange(t).toString().slice(0,e)}getBlockAtIndex(t){return this.blockList.getObjectAtIndex(t)}getBlockAtPosition(t){let{index:e}=this.locationFromPosition(t);return this.getBlockAtIndex(e)}getTextAtIndex(t){var e;return(e=this.getBlockAtIndex(t))===null||e===void 0?void 0:e.text}getTextAtPosition(t){let{index:e}=this.locationFromPosition(t);return this.getTextAtIndex(e)}getPieceAtPosition(t){let{index:e,offset:i}=this.locationFromPosition(t);return this.getTextAtIndex(e).getPieceAtPosition(i)}getCharacterAtPosition(t){let{index:e,offset:i}=this.locationFromPosition(t);return this.getTextAtIndex(e).getStringAtRange([i,i+1])}getLength(){return this.blockList.getEndPosition()}getBlocks(){return this.blockList.toArray()}getBlockCount(){return this.blockList.length}getEditCount(){return this.editCount}eachBlock(t){return this.blockList.eachObject(t)}eachBlockAtRange(t,e){let i,r;t=pe(t);let[s,o]=t,a=this.locationFromPosition(s),l=this.locationFromPosition(o);if(a.index===l.index)return i=this.getBlockAtIndex(a.index),r=[a.offset,l.offset],e(i,r,a.index);for(let u=a.index;u<=l.index;u++)if(i=this.getBlockAtIndex(u),i){switch(u){case a.index:r=[a.offset,i.text.getLength()];break;case l.index:r=[0,l.offset];break;default:r=[0,i.text.getLength()]}e(i,r,u)}}getCommonAttributesAtRange(t){t=pe(t);let[e]=t;if(tr(t))return this.getCommonAttributesAtPosition(e);{let i=[],r=[];return this.eachBlockAtRange(t,function(s,o){if(o[0]!==o[1])return i.push(s.text.getCommonAttributesAtRange(o)),r.push(JS(s))}),fi.fromCommonAttributesOfObjects(i).merge(fi.fromCommonAttributesOfObjects(r)).toObject()}}getCommonAttributesAtPosition(t){let e,i,{index:r,offset:s}=this.locationFromPosition(t),o=this.getBlockAtIndex(r);if(!o)return{};let a=JS(o),l=o.text.getAttributesAtPosition(s),u=o.text.getAttributesAtPosition(s-1),c=Object.keys(Rs).filter(d=>Rs[d].inheritable);for(e in u)i=u[e],(i===l[e]||c.includes(e))&&(a[e]=i);return a}getRangeOfCommonAttributeAtPosition(t,e){let{index:i,offset:r}=this.locationFromPosition(e),s=this.getTextAtIndex(i),[o,a]=Array.from(s.getExpandedRangeForAttributeAtOffset(t,r)),l=this.positionFromLocation({index:i,offset:o}),u=this.positionFromLocation({index:i,offset:a});return pe([l,u])}getBaseBlockAttributes(){let t=this.getBlockAtIndex(0).getAttributes();for(let e=1;e<this.getBlockCount();e++){let i=this.getBlockAtIndex(e).getAttributes(),r=Math.min(t.length,i.length);t=(()=>{let s=[];for(let o=0;o<r&&i[o]===t[o];o++)s.push(i[o]);return s})()}return t}getAttachmentById(t){for(let e of this.getAttachments())if(e.id===t)return e}getAttachmentPieces(){let t=[];return this.blockList.eachObject(e=>{let{text:i}=e;return t=t.concat(i.getAttachmentPieces())}),t}getAttachments(){return this.getAttachmentPieces().map(t=>t.attachment)}getRangeOfAttachment(t){let e=0,i=this.blockList.toArray();for(let r=0;r<i.length;r++){let{text:s}=i[r],o=s.getRangeOfAttachment(t);if(o)return pe([e+o[0],e+o[1]]);e+=s.getLength()}}getLocationRangeOfAttachment(t){let e=this.getRangeOfAttachment(t);return this.locationRangeFromRange(e)}getAttachmentPieceForAttachment(t){for(let e of this.getAttachmentPieces())if(e.attachment===t)return e}findRangesForBlockAttribute(t){let e=0,i=[];return this.getBlocks().forEach(r=>{let s=r.getLength();r.hasAttribute(t)&&i.push([e,e+s]),e+=s}),i}findRangesForTextAttribute(t){let{withValue:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=0,r=[],s=[];return this.getPieces().forEach(o=>{let a=o.getLength();(function(l){return e?l.getAttribute(t)===e:l.hasAttribute(t)})(o)&&(r[1]===i?r[1]=i+a:s.push(r=[i,i+a])),i+=a}),s}locationFromPosition(t){let e=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,t));if(e.index!=null)return e;{let i=this.getBlocks();return{index:i.length-1,offset:i[i.length-1].getLength()}}}positionFromLocation(t){return this.blockList.findPositionAtIndexAndOffset(t.index,t.offset)}locationRangeFromPosition(t){return pe(this.locationFromPosition(t))}locationRangeFromRange(t){if(!(t=pe(t)))return;let[e,i]=Array.from(t),r=this.locationFromPosition(e),s=this.locationFromPosition(i);return pe([r,s])}rangeFromLocationRange(t){let e;t=pe(t);let i=this.positionFromLocation(t[0]);return tr(t)||(e=this.positionFromLocation(t[1])),pe([i,e])}isEqualTo(t){return this.blockList.isEqualTo(t?.blockList)}getTexts(){return this.getBlocks().map(t=>t.text)}getPieces(){let t=[];return Array.from(this.getTexts()).forEach(e=>{t.push(...Array.from(e.getPieces()||[]))}),t}getObjects(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())}toSerializableDocument(){let t=[];return this.blockList.eachObject(e=>t.push(e.copyWithText(e.text.toSerializableText()))),new this.constructor(t)}toString(){return this.blockList.toString()}toJSON(){return this.blockList.toJSON()}toConsole(){return JSON.stringify(this.blockList.toArray().map(t=>JSON.parse(t.text.toConsole())))}},JS=function(n){let t={},e=n.getLastAttribute();return e&&(t[e]=!0),t},yF="style href src width height language class".split(" "),wF="javascript:".split(" "),xF="script iframe form noscript".split(" "),Hl=class extends Ve{static sanitize(t,e){let i=new this(t,e);return i.sanitize(),i}constructor(t){let{allowedAttributes:e,forbiddenProtocols:i,forbiddenElements:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.allowedAttributes=e||yF,this.forbiddenProtocols=i||wF,this.forbiddenElements=r||xF,this.body=AF(t)}sanitize(){return this.sanitizeElements(),this.normalizeListElementNesting()}getHTML(){return this.body.innerHTML}getBody(){return this.body}sanitizeElements(){let t=zd(this.body),e=[];for(;t.nextNode();){let i=t.currentNode;switch(i.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(i)?e.push(i):this.sanitizeElement(i);break;case Node.COMMENT_NODE:e.push(i)}}return e.forEach(i=>Nr(i)),this.body}sanitizeElement(t){return t.hasAttribute("href")&&this.forbiddenProtocols.includes(t.protocol)&&t.removeAttribute("href"),Array.from(t.attributes).forEach(e=>{let{name:i}=e;this.allowedAttributes.includes(i)||i.indexOf("data-trix")===0||t.removeAttribute(i)}),t}normalizeListElementNesting(){return Array.from(this.body.querySelectorAll("ul,ol")).forEach(t=>{let e=t.previousElementSibling;e&&_n(e)==="li"&&e.appendChild(t)}),this.body}elementIsRemovable(t){if(t?.nodeType===Node.ELEMENT_NODE)return this.elementIsForbidden(t)||this.elementIsntSerializable(t)}elementIsForbidden(t){return this.forbiddenElements.includes(_n(t))}elementIsntSerializable(t){return t.getAttribute("data-trix-serialize")==="false"&&!Ms(t)}},AF=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";n=n.replace(/<\/html[^>]*>[^]*$/i,"</html>");let t=document.implementation.createHTMLDocument("");return t.documentElement.innerHTML=n,Array.from(t.head.querySelectorAll("style")).forEach(e=>{t.body.appendChild(e)}),t.body},kv=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{string:n=Ll(n),attributes:t,type:"string"}},QS=(n,t)=>{try{let e=JSON.parse(n.getAttribute("data-trix-".concat(t)));return e.contentType==="text/html"&&e.content&&(e.content=Hl.sanitize(e.content).getHTML()),e}catch{return{}}},Bs=class extends Ve{static parse(t,e){let i=new this(t,e);return i.parse(),i}constructor(t){let{referenceElement:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.html=t,this.referenceElement=e,this.blocks=[],this.blockElements=[],this.processedElements=[]}getDocument(){return In.fromJSON(this.blocks)}parse(){try{this.createHiddenContainer();let t=Hl.sanitize(this.html).getHTML();this.containerElement.innerHTML=t;let e=zd(this.containerElement,{usingFilter:_F});for(;e.nextNode();)this.processNode(e.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}}createHiddenContainer(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=Gt({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))}removeHiddenContainer(){return Nr(this.containerElement)}processNode(t){switch(t.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(t))return this.appendBlockForTextNode(t),this.processTextNode(t);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(t),this.processElement(t)}}appendBlockForTextNode(t){let e=t.parentNode;if(e===this.currentBlockElement&&this.isBlockElement(t.previousSibling))return this.appendStringWithAttributes(`
`);if(e===this.containerElement||this.isBlockElement(e)){var i;let r=this.getBlockAttributes(e),s=this.getBlockHTMLAttributes(e);Fs(r,(i=this.currentBlock)===null||i===void 0?void 0:i.attributes)||(this.currentBlock=this.appendBlockForAttributesWithElement(r,e,s),this.currentBlockElement=e)}}appendBlockForElement(t){let e=this.isBlockElement(t),i=Os(this.currentBlockElement,t);if(e&&!this.isBlockElement(t.firstChild)){if(!this.isInsignificantTextNode(t.firstChild)||!this.isBlockElement(t.firstElementChild)){let r=this.getBlockAttributes(t),s=this.getBlockHTMLAttributes(t);if(t.firstChild){if(i&&Fs(r,this.currentBlock.attributes))return this.appendStringWithAttributes(`
`);this.currentBlock=this.appendBlockForAttributesWithElement(r,t,s),this.currentBlockElement=t}}}else if(this.currentBlockElement&&!i&&!e){let r=this.findParentBlockElement(t);if(r)return this.appendBlockForElement(r);this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null}}findParentBlockElement(t){let{parentElement:e}=t;for(;e&&e!==this.containerElement;){if(this.isBlockElement(e)&&this.blockElements.includes(e))return e;e=e.parentElement}return null}processTextNode(t){let e=t.data;var i;return ZS(t.parentNode)||(e=nb(e),b_((i=t.previousSibling)===null||i===void 0?void 0:i.textContent)&&(e=CF(e))),this.appendStringWithAttributes(e,this.getTextAttributes(t.parentNode))}processElement(t){let e;if(Ms(t)){if(e=QS(t,"attachment"),Object.keys(e).length){let i=this.getTextAttributes(t);this.appendAttachmentWithAttributes(e,i),t.innerHTML=""}return this.processedElements.push(t)}switch(_n(t)){case"br":return this.isExtraBR(t)||this.isBlockElement(t.nextSibling)||this.appendStringWithAttributes(`
`,this.getTextAttributes(t)),this.processedElements.push(t);case"img":e={url:t.getAttribute("src"),contentType:"image"};let i=(r=>{let s=r.getAttribute("width"),o=r.getAttribute("height"),a={};return s&&(a.width=parseInt(s,10)),o&&(a.height=parseInt(o,10)),a})(t);for(let r in i){let s=i[r];e[r]=s}return this.appendAttachmentWithAttributes(e,this.getTextAttributes(t)),this.processedElements.push(t);case"tr":if(this.needsTableSeparator(t))return this.appendStringWithAttributes(Vd.tableRowSeparator);break;case"td":if(this.needsTableSeparator(t))return this.appendStringWithAttributes(Vd.tableCellSeparator)}}appendBlockForAttributesWithElement(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.blockElements.push(e);let r=function(){return{text:[],attributes:arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},htmlAttributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}}}(t,i);return this.blocks.push(r),r}appendEmptyBlock(){return this.appendBlockForAttributesWithElement([],null)}appendStringWithAttributes(t,e){return this.appendPiece(kv(t,e))}appendAttachmentWithAttributes(t,e){return this.appendPiece(function(i){return{attachment:i,attributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},type:"attachment"}}(t,e))}appendPiece(t){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(t)}appendStringToTextAtIndex(t,e){let{text:i}=this.blocks[e],r=i[i.length-1];if(r?.type!=="string")return i.push(kv(t));r.string+=t}prependStringToTextAtIndex(t,e){let{text:i}=this.blocks[e],r=i[0];if(r?.type!=="string")return i.unshift(kv(t));r.string=t+r.string}getTextAttributes(t){let e,i={};for(let r in Rs){let s=Rs[r];if(s.tagName&&Fr(t,{matchingSelector:s.tagName,untilNode:this.containerElement}))i[r]=!0;else if(s.parser){if(e=s.parser(t),e){let o=!1;for(let a of this.findBlockElementAncestors(t))if(s.parser(a)===e){o=!0;break}o||(i[r]=e)}}else s.styleProperty&&(e=t.style[s.styleProperty],e&&(i[r]=e))}if(Ms(t)){let r=QS(t,"attributes");for(let s in r)e=r[s],i[s]=e}return i}getBlockAttributes(t){let e=[];for(;t&&t!==this.containerElement;){for(let r in Cn){let s=Cn[r];var i;s.parse!==!1&&_n(t)===s.tagName&&((i=s.test)!==null&&i!==void 0&&i.call(s,t)||!s.test)&&(e.push(r),s.listAttribute&&e.push(s.listAttribute))}t=t.parentNode}return e.reverse()}getBlockHTMLAttributes(t){let e={},i=Object.values(Cn).find(r=>r.tagName===_n(t));return(i?.htmlAttributes||[]).forEach(r=>{t.hasAttribute(r)&&(e[r]=t.getAttribute(r))}),e}findBlockElementAncestors(t){let e=[];for(;t&&t!==this.containerElement;){let i=_n(t);Il().includes(i)&&e.push(t),t=t.parentNode}return e}isBlockElement(t){if(t?.nodeType===Node.ELEMENT_NODE&&!Ms(t)&&!Fr(t,{matchingSelector:"td",untilNode:this.containerElement}))return Il().includes(_n(t))||window.getComputedStyle(t).display==="block"}isInsignificantTextNode(t){if(t?.nodeType!==Node.TEXT_NODE||!EF(t.data))return;let{parentNode:e,previousSibling:i,nextSibling:r}=t;return SF(e.previousSibling)&&!this.isBlockElement(e.previousSibling)||ZS(e)?void 0:!i||this.isBlockElement(i)||!r||this.isBlockElement(r)}isExtraBR(t){return _n(t)==="br"&&this.isBlockElement(t.parentNode)&&t.parentNode.lastChild===t}needsTableSeparator(t){if(Vd.removeBlankTableCells){var e;let i=(e=t.previousSibling)===null||e===void 0?void 0:e.textContent;return i&&/\S/.test(i)}return t.previousSibling}translateBlockElementMarginsToNewlines(){let t=this.getMarginOfDefaultBlockElement();for(let e=0;e<this.blocks.length;e++){let i=this.getMarginOfBlockElementAtIndex(e);i&&(i.top>2*t.top&&this.prependStringToTextAtIndex(`
`,e),i.bottom>2*t.bottom&&this.appendStringToTextAtIndex(`
`,e))}}getMarginOfBlockElementAtIndex(t){let e=this.blockElements[t];if(e&&e.textContent&&!Il().includes(_n(e))&&!this.processedElements.includes(e))return t_(e)}getMarginOfDefaultBlockElement(){let t=Gt(Cn.default.tagName);return this.containerElement.appendChild(t),t_(t)}},ZS=function(n){let{whiteSpace:t}=window.getComputedStyle(n);return["pre","pre-wrap","pre-line"].includes(t)},SF=n=>n&&!b_(n.textContent),t_=function(n){let t=window.getComputedStyle(n);if(t.display==="block")return{top:parseInt(t.marginTop),bottom:parseInt(t.marginBottom)}},_F=function(n){return _n(n)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},CF=n=>n.replace(new RegExp("^".concat(eb.source,"+")),""),EF=n=>new RegExp("^".concat(eb.source,"*$")).test(n),b_=n=>/\s$/.test(n),kF=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],zv="data-trix-serialized-attributes",TF="[".concat(zv,"]"),OF=new RegExp("<!--block-->","g"),DF={"application/json":function(n){let t;if(n instanceof In)t=n;else{if(!(n instanceof HTMLElement))throw new Error("unserializable object");t=Bs.parse(n.innerHTML).getDocument()}return t.toSerializableDocument().toJSONString()},"text/html":function(n){let t;if(n instanceof In)t=Yo.render(n);else{if(!(n instanceof HTMLElement))throw new Error("unserializable object");t=n.cloneNode(!0)}return Array.from(t.querySelectorAll("[data-trix-serialize=false]")).forEach(e=>{Nr(e)}),kF.forEach(e=>{Array.from(t.querySelectorAll("[".concat(e,"]"))).forEach(i=>{i.removeAttribute(e)})}),Array.from(t.querySelectorAll(TF)).forEach(e=>{try{let i=JSON.parse(e.getAttribute(zv));e.removeAttribute(zv);for(let r in i){let s=i[r];e.setAttribute(r,s)}}catch{}}),t.innerHTML.replace(OF,"")}},MF=Object.freeze({__proto__:null}),Fe=class extends Ve{constructor(t,e){super(...arguments),this.attachmentManager=t,this.attachment=e,this.id=this.attachment.id,this.file=this.attachment.file}remove(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)}};Fe.proxyMethod("attachment.getAttribute"),Fe.proxyMethod("attachment.hasAttribute"),Fe.proxyMethod("attachment.setAttribute"),Fe.proxyMethod("attachment.getAttributes"),Fe.proxyMethod("attachment.setAttributes"),Fe.proxyMethod("attachment.isPending"),Fe.proxyMethod("attachment.isPreviewable"),Fe.proxyMethod("attachment.getURL"),Fe.proxyMethod("attachment.getHref"),Fe.proxyMethod("attachment.getFilename"),Fe.proxyMethod("attachment.getFilesize"),Fe.proxyMethod("attachment.getFormattedFilesize"),Fe.proxyMethod("attachment.getExtension"),Fe.proxyMethod("attachment.getContentType"),Fe.proxyMethod("attachment.getFile"),Fe.proxyMethod("attachment.setFile"),Fe.proxyMethod("attachment.releaseFile"),Fe.proxyMethod("attachment.getUploadProgress"),Fe.proxyMethod("attachment.setUploadProgress");var Qd=class extends Ve{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.managedAttachments={},Array.from(t).forEach(e=>{this.manageAttachment(e)})}getAttachments(){let t=[];for(let e in this.managedAttachments){let i=this.managedAttachments[e];t.push(i)}return t}manageAttachment(t){return this.managedAttachments[t.id]||(this.managedAttachments[t.id]=new Fe(this,t)),this.managedAttachments[t.id]}attachmentIsManaged(t){return t.id in this.managedAttachments}requestRemovalOfAttachment(t){var e,i;if(this.attachmentIsManaged(t))return(e=this.delegate)===null||e===void 0||(i=e.attachmentManagerDidRequestRemovalOfAttachment)===null||i===void 0?void 0:i.call(e,t)}unmanageAttachment(t){let e=this.managedAttachments[t.id];return delete this.managedAttachments[t.id],e}},Zd=class{constructor(t){this.composition=t,this.document=this.composition.document;let e=this.composition.getSelectedRange();this.startPosition=e[0],this.endPosition=e[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}shouldInsertBlockBreak(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`}shouldBreakFormattedBlock(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)}shouldDecreaseListLevel(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()}shouldPrependListItem(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()}shouldRemoveLastBlockAttribute(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()}},Pi=class extends Ve{constructor(){super(...arguments),this.document=new In,this.attachments=[],this.currentAttributes={},this.revision=0}setDocument(t){var e,i;if(!t.isEqualTo(this.document))return this.document=t,this.refreshAttachments(),this.revision++,(e=this.delegate)===null||e===void 0||(i=e.compositionDidChangeDocument)===null||i===void 0?void 0:i.call(e,t)}getSnapshot(){return{document:this.document,selectedRange:this.getSelectedRange()}}loadSnapshot(t){var e,i,r,s;let{document:o,selectedRange:a}=t;return(e=this.delegate)===null||e===void 0||(i=e.compositionWillLoadSnapshot)===null||i===void 0||i.call(e),this.setDocument(o??new In),this.setSelection(a??[0,0]),(r=this.delegate)===null||r===void 0||(s=r.compositionDidLoadSnapshot)===null||s===void 0?void 0:s.call(r)}insertText(t){let{updatePosition:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{updatePosition:!0},i=this.getSelectedRange();this.setDocument(this.document.insertTextAtRange(t,i));let r=i[0],s=r+t.getLength();return e&&this.setSelection(s),this.notifyDelegateOfInsertionAtRange([r,s])}insertBlock(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Ir,e=new In([t]);return this.insertDocument(e)}insertDocument(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new In,e=this.getSelectedRange();this.setDocument(this.document.insertDocumentAtRange(t,e));let i=e[0],r=i+t.getLength();return this.setSelection(r),this.notifyDelegateOfInsertionAtRange([i,r])}insertString(t,e){let i=this.getCurrentTextAttributes(),r=Hn.textForStringWithAttributes(t,i);return this.insertText(r,e)}insertBlockBreak(){let t=this.getSelectedRange();this.setDocument(this.document.insertBlockBreakAtRange(t));let e=t[0],i=e+1;return this.setSelection(i),this.notifyDelegateOfInsertionAtRange([e,i])}insertLineBreak(){let t=new Zd(this);if(t.shouldDecreaseListLevel())return this.decreaseListLevel(),this.setSelection(t.startPosition);if(t.shouldPrependListItem()){let e=new In([t.block.copyWithoutText()]);return this.insertDocument(e)}return t.shouldInsertBlockBreak()?this.insertBlockBreak():t.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():t.shouldBreakFormattedBlock()?this.breakFormattedBlock(t):this.insertString(`
`)}insertHTML(t){let e=Bs.parse(t).getDocument(),i=this.getSelectedRange();this.setDocument(this.document.mergeDocumentAtRange(e,i));let r=i[0],s=r+e.getLength()-1;return this.setSelection(s),this.notifyDelegateOfInsertionAtRange([r,s])}replaceHTML(t){let e=Bs.parse(t).getDocument().copyUsingObjectsFromDocument(this.document),i=this.getLocationRange({strict:!1}),r=this.document.rangeFromLocationRange(i);return this.setDocument(e),this.setSelection(r)}insertFile(t){return this.insertFiles([t])}insertFiles(t){let e=[];return Array.from(t).forEach(i=>{var r;if((r=this.delegate)!==null&&r!==void 0&&r.compositionShouldAcceptFile(i)){let s=Ko.attachmentForFile(i);e.push(s)}}),this.insertAttachments(e)}insertAttachment(t){return this.insertAttachments([t])}insertAttachments(t){let e=new Hn;return Array.from(t).forEach(i=>{var r;let s=i.getType(),o=(r=Gv[s])===null||r===void 0?void 0:r.presentation,a=this.getCurrentTextAttributes();o&&(a.presentation=o);let l=Hn.textForAttachmentWithAttributes(i,a);e=e.appendText(l)}),this.insertText(e)}shouldManageDeletingInDirection(t){let e=this.getLocationRange();if(tr(e)){if(t==="backward"&&e[0].offset===0||this.shouldManageMovingCursorInDirection(t))return!0}else if(e[0].index!==e[1].index)return!0;return!1}deleteInDirection(t){let e,i,r,{length:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this.getLocationRange(),a=this.getSelectedRange(),l=tr(a);if(l?i=t==="backward"&&o[0].offset===0:r=o[0].index!==o[1].index,i&&this.canDecreaseBlockAttributeLevel()){let u=this.getBlock();if(u.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(a[0]),u.isEmpty())return!1}return l&&(a=this.getExpandedRangeInDirection(t,{length:s}),t==="backward"&&(e=this.getAttachmentAtRange(a))),e?(this.editAttachment(e),!1):(this.setDocument(this.document.removeTextAtRange(a)),this.setSelection(a[0]),!i&&!r&&void 0)}moveTextFromRange(t){let[e]=Array.from(this.getSelectedRange());return this.setDocument(this.document.moveTextFromRangeToPosition(t,e)),this.setSelection(e)}removeAttachment(t){let e=this.document.getRangeOfAttachment(t);if(e)return this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(e)),this.setSelection(e[0])}removeLastBlockAttribute(){let[t,e]=Array.from(this.getSelectedRange()),i=this.document.getBlockAtPosition(e);return this.removeCurrentAttribute(i.getLastAttribute()),this.setSelection(t)}insertPlaceholder(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")}selectPlaceholder(){if(this.placeholderPosition!=null)return this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+1]),this.getSelectedRange()}forgetPlaceholder(){this.placeholderPosition=null}hasCurrentAttribute(t){let e=this.currentAttributes[t];return e!=null&&e!==!1}toggleCurrentAttribute(t){let e=!this.currentAttributes[t];return e?this.setCurrentAttribute(t,e):this.removeCurrentAttribute(t)}canSetCurrentAttribute(t){return Ue(t)?this.canSetCurrentBlockAttribute(t):this.canSetCurrentTextAttribute(t)}canSetCurrentTextAttribute(t){let e=this.getSelectedDocument();if(e){for(let i of Array.from(e.getAttachments()))if(!i.hasContent())return!1;return!0}}canSetCurrentBlockAttribute(t){let e=this.getBlock();if(e)return!e.isTerminalBlock()}setCurrentAttribute(t,e){return Ue(t)?this.setBlockAttribute(t,e):(this.setTextAttribute(t,e),this.currentAttributes[t]=e,this.notifyDelegateOfCurrentAttributesChange())}setHTMLAtributeAtPosition(t,e,i){var r;let s=this.document.getBlockAtPosition(t),o=(r=Ue(s.getLastAttribute()))===null||r===void 0?void 0:r.htmlAttributes;if(s&&o!=null&&o.includes(e)){let a=this.document.setHTMLAttributeAtPosition(t,e,i);this.setDocument(a)}}setTextAttribute(t,e){let i=this.getSelectedRange();if(!i)return;let[r,s]=Array.from(i);if(r!==s)return this.setDocument(this.document.addAttributeAtRange(t,e,i));if(t==="href"){let o=Hn.textForStringWithAttributes(e,{href:e});return this.insertText(o)}}setBlockAttribute(t,e){let i=this.getSelectedRange();if(this.canSetCurrentAttribute(t))return this.setDocument(this.document.applyBlockAttributeAtRange(t,e,i)),this.setSelection(i)}removeCurrentAttribute(t){return Ue(t)?(this.removeBlockAttribute(t),this.updateCurrentAttributes()):(this.removeTextAttribute(t),delete this.currentAttributes[t],this.notifyDelegateOfCurrentAttributesChange())}removeTextAttribute(t){let e=this.getSelectedRange();if(e)return this.setDocument(this.document.removeAttributeAtRange(t,e))}removeBlockAttribute(t){let e=this.getSelectedRange();if(e)return this.setDocument(this.document.removeAttributeAtRange(t,e))}canDecreaseNestingLevel(){var t;return((t=this.getBlock())===null||t===void 0?void 0:t.getNestingLevel())>0}canIncreaseNestingLevel(){var t;let e=this.getBlock();if(e){if((t=Ue(e.getLastNestableAttribute()))===null||t===void 0||!t.listAttribute)return e.getNestingLevel()>0;{let i=this.getPreviousBlock();if(i)return function(){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Fs((arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).slice(0,r.length),r)}(i.getListItemAttributes(),e.getListItemAttributes())}}}decreaseNestingLevel(){let t=this.getBlock();if(t)return this.setDocument(this.document.replaceBlock(t,t.decreaseNestingLevel()))}increaseNestingLevel(){let t=this.getBlock();if(t)return this.setDocument(this.document.replaceBlock(t,t.increaseNestingLevel()))}canDecreaseBlockAttributeLevel(){var t;return((t=this.getBlock())===null||t===void 0?void 0:t.getAttributeLevel())>0}decreaseBlockAttributeLevel(){var t;let e=(t=this.getBlock())===null||t===void 0?void 0:t.getLastAttribute();if(e)return this.removeCurrentAttribute(e)}decreaseListLevel(){let[t]=Array.from(this.getSelectedRange()),{index:e}=this.document.locationFromPosition(t),i=e,r=this.getBlock().getAttributeLevel(),s=this.document.getBlockAtIndex(i+1);for(;s&&s.isListItem()&&!(s.getAttributeLevel()<=r);)i++,s=this.document.getBlockAtIndex(i+1);t=this.document.positionFromLocation({index:e,offset:0});let o=this.document.positionFromLocation({index:i,offset:0});return this.setDocument(this.document.removeLastListAttributeAtRange([t,o]))}updateCurrentAttributes(){let t=this.getSelectedRange({ignoreLock:!0});if(t){let e=this.document.getCommonAttributesAtRange(t);if(Array.from(Bv()).forEach(i=>{e[i]||this.canSetCurrentAttribute(i)||(e[i]=!1)}),!Qo(e,this.currentAttributes))return this.currentAttributes=e,this.notifyDelegateOfCurrentAttributesChange()}}getCurrentAttributes(){return a_.call({},this.currentAttributes)}getCurrentTextAttributes(){let t={};for(let e in this.currentAttributes){let i=this.currentAttributes[e];i!==!1&&jv(e)&&(t[e]=i)}return t}freezeSelection(){return this.setCurrentAttribute("frozen",!0)}thawSelection(){return this.removeCurrentAttribute("frozen")}hasFrozenSelection(){return this.hasCurrentAttribute("frozen")}setSelection(t){var e;let i=this.document.locationRangeFromRange(t);return(e=this.delegate)===null||e===void 0?void 0:e.compositionDidRequestChangingSelectionToLocationRange(i)}getSelectedRange(){let t=this.getLocationRange();if(t)return this.document.rangeFromLocationRange(t)}setSelectedRange(t){let e=this.document.locationRangeFromRange(t);return this.getSelectionManager().setLocationRange(e)}getPosition(){let t=this.getLocationRange();if(t)return this.document.positionFromLocation(t[0])}getLocationRange(t){return this.targetLocationRange?this.targetLocationRange:this.getSelectionManager().getLocationRange(t)||pe({index:0,offset:0})}withTargetLocationRange(t,e){let i;this.targetLocationRange=t;try{i=e()}finally{this.targetLocationRange=null}return i}withTargetRange(t,e){let i=this.document.locationRangeFromRange(t);return this.withTargetLocationRange(i,e)}withTargetDOMRange(t,e){let i=this.createLocationRangeFromDOMRange(t,{strict:!1});return this.withTargetLocationRange(i,e)}getExpandedRangeInDirection(t){let{length:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},[i,r]=Array.from(this.getSelectedRange());return t==="backward"?e?i-=e:i=this.translateUTF16PositionFromOffset(i,-1):e?r+=e:r=this.translateUTF16PositionFromOffset(r,1),pe([i,r])}shouldManageMovingCursorInDirection(t){if(this.editingAttachment)return!0;let e=this.getExpandedRangeInDirection(t);return this.getAttachmentAtRange(e)!=null}moveCursorInDirection(t){let e,i;if(this.editingAttachment)i=this.document.getRangeOfAttachment(this.editingAttachment);else{let r=this.getSelectedRange();i=this.getExpandedRangeInDirection(t),e=!Ud(r,i)}if(t==="backward"?this.setSelectedRange(i[0]):this.setSelectedRange(i[1]),e){let r=this.getAttachmentAtRange(i);if(r)return this.editAttachment(r)}}expandSelectionInDirection(t){let{length:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getExpandedRangeInDirection(t,{length:e});return this.setSelectedRange(i)}expandSelectionForEditing(){if(this.hasCurrentAttribute("href"))return this.expandSelectionAroundCommonAttribute("href")}expandSelectionAroundCommonAttribute(t){let e=this.getPosition(),i=this.document.getRangeOfCommonAttributeAtPosition(t,e);return this.setSelectedRange(i)}selectionContainsAttachments(){var t;return((t=this.getSelectedAttachments())===null||t===void 0?void 0:t.length)>0}selectionIsInCursorTarget(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())}positionIsCursorTarget(t){let e=this.document.locationFromPosition(t);if(e)return this.locationIsCursorTarget(e)}positionIsBlockBreak(t){var e;return(e=this.document.getPieceAtPosition(t))===null||e===void 0?void 0:e.isBlockBreak()}getSelectedDocument(){let t=this.getSelectedRange();if(t)return this.document.getDocumentAtRange(t)}getSelectedAttachments(){var t;return(t=this.getSelectedDocument())===null||t===void 0?void 0:t.getAttachments()}getAttachments(){return this.attachments.slice(0)}refreshAttachments(){let t=this.document.getAttachments(),{added:e,removed:i}=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=[],a=[],l=new Set;r.forEach(c=>{l.add(c)});let u=new Set;return s.forEach(c=>{u.add(c),l.has(c)||o.push(c)}),r.forEach(c=>{u.has(c)||a.push(c)}),{added:o,removed:a}}(this.attachments,t);return this.attachments=t,Array.from(i).forEach(r=>{var s,o;r.delegate=null,(s=this.delegate)===null||s===void 0||(o=s.compositionDidRemoveAttachment)===null||o===void 0||o.call(s,r)}),(()=>{let r=[];return Array.from(e).forEach(s=>{var o,a;s.delegate=this,r.push((o=this.delegate)===null||o===void 0||(a=o.compositionDidAddAttachment)===null||a===void 0?void 0:a.call(o,s))}),r})()}attachmentDidChangeAttributes(t){var e,i;return this.revision++,(e=this.delegate)===null||e===void 0||(i=e.compositionDidEditAttachment)===null||i===void 0?void 0:i.call(e,t)}attachmentDidChangePreviewURL(t){var e,i;return this.revision++,(e=this.delegate)===null||e===void 0||(i=e.compositionDidChangeAttachmentPreviewURL)===null||i===void 0?void 0:i.call(e,t)}editAttachment(t,e){var i,r;if(t!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=t,(i=this.delegate)===null||i===void 0||(r=i.compositionDidStartEditingAttachment)===null||r===void 0?void 0:r.call(i,this.editingAttachment,e)}stopEditingAttachment(){var t,e;this.editingAttachment&&((t=this.delegate)===null||t===void 0||(e=t.compositionDidStopEditingAttachment)===null||e===void 0||e.call(t,this.editingAttachment),this.editingAttachment=null)}updateAttributesForAttachment(t,e){return this.setDocument(this.document.updateAttributesForAttachment(t,e))}removeAttributeForAttachment(t,e){return this.setDocument(this.document.removeAttributeForAttachment(t,e))}breakFormattedBlock(t){let{document:e}=t,{block:i}=t,r=t.startPosition,s=[r-1,r];i.getBlockBreakPosition()===t.startLocation.offset?(i.breaksOnReturn()&&t.nextCharacter===`
`?r+=1:e=e.removeTextAtRange(s),s=[r,r]):t.nextCharacter===`
`?t.previousCharacter===`
`?s=[r-1,r+1]:(s=[r,r+1],r+=1):t.startLocation.offset-1!=0&&(r+=1);let o=new In([i.removeLastAttribute().copyWithoutText()]);return this.setDocument(e.insertDocumentAtRange(o,s)),this.setSelection(r)}getPreviousBlock(){let t=this.getLocationRange();if(t){let{index:e}=t[0];if(e>0)return this.document.getBlockAtIndex(e-1)}}getBlock(){let t=this.getLocationRange();if(t)return this.document.getBlockAtIndex(t[0].index)}getAttachmentAtRange(t){let e=this.document.getDocumentAtRange(t);if(e.toString()==="".concat("\uFFFC",`
`))return e.getAttachments()[0]}notifyDelegateOfCurrentAttributesChange(){var t,e;return(t=this.delegate)===null||t===void 0||(e=t.compositionDidChangeCurrentAttributes)===null||e===void 0?void 0:e.call(t,this.currentAttributes)}notifyDelegateOfInsertionAtRange(t){var e,i;return(e=this.delegate)===null||e===void 0||(i=e.compositionDidPerformInsertionAtRange)===null||i===void 0?void 0:i.call(e,t)}translateUTF16PositionFromOffset(t,e){let i=this.document.toUTF16String(),r=i.offsetFromUCS2Offset(t);return i.offsetToUCS2Offset(r+e)}};Pi.proxyMethod("getSelectionManager().getPointRange"),Pi.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),Pi.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),Pi.proxyMethod("getSelectionManager().locationIsCursorTarget"),Pi.proxyMethod("getSelectionManager().selectionIsExpanded"),Pi.proxyMethod("delegate?.getSelectionManager");var Vl=class extends Ve{constructor(t){super(...arguments),this.composition=t,this.undoEntries=[],this.redoEntries=[]}recordUndoEntry(t){let{context:e,consolidatable:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.undoEntries.slice(-1)[0];if(!i||!PF(r,t,e)){let s=this.createEntry({description:t,context:e});this.undoEntries.push(s),this.redoEntries=[]}}undo(){let t=this.undoEntries.pop();if(t){let e=this.createEntry(t);return this.redoEntries.push(e),this.composition.loadSnapshot(t.snapshot)}}redo(){let t=this.redoEntries.pop();if(t){let e=this.createEntry(t);return this.undoEntries.push(e),this.composition.loadSnapshot(t.snapshot)}}canUndo(){return this.undoEntries.length>0}canRedo(){return this.redoEntries.length>0}createEntry(){let{description:t,context:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{description:t?.toString(),context:JSON.stringify(e),snapshot:this.composition.getSnapshot()}}},PF=(n,t,e)=>n?.description===t?.toString()&&n?.context===JSON.stringify(e),Tv="attachmentGallery",th=class{constructor(t){this.document=t.document,this.selectedRange=t.selectedRange}perform(){return this.removeBlockAttribute(),this.applyBlockAttribute()}getSnapshot(){return{document:this.document,selectedRange:this.selectedRange}}removeBlockAttribute(){return this.findRangesOfBlocks().map(t=>this.document=this.document.removeAttributeAtRange(Tv,t))}applyBlockAttribute(){let t=0;this.findRangesOfPieces().forEach(e=>{e[1]-e[0]>1&&(e[0]+=t,e[1]+=t,this.document.getCharacterAtPosition(e[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(e[1]),e[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),e[1]++,t++),e[0]!==0&&this.document.getCharacterAtPosition(e[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(e[0]),e[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),e[0]++,t++),this.document=this.document.applyBlockAttributeAtRange(Tv,!0,e))})}findRangesOfBlocks(){return this.document.findRangesForBlockAttribute(Tv)}findRangesOfPieces(){return this.document.findRangesForTextAttribute("presentation",{withValue:"gallery"})}moveSelectedRangeForward(){this.selectedRange[0]+=1,this.selectedRange[1]+=1}},y_=function(n){let t=new th(n);return t.perform(),t.getSnapshot()},LF=[y_],eh=class{constructor(t,e,i){this.insertFiles=this.insertFiles.bind(this),this.composition=t,this.selectionManager=e,this.element=i,this.undoManager=new Vl(this.composition),this.filters=LF.slice(0)}loadDocument(t){return this.loadSnapshot({document:t,selectedRange:[0,0]})}loadHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=Bs.parse(t,{referenceElement:this.element}).getDocument();return this.loadDocument(e)}loadJSON(t){let{document:e,selectedRange:i}=t;return e=In.fromJSON(e),this.loadSnapshot({document:e,selectedRange:i})}loadSnapshot(t){return this.undoManager=new Vl(this.composition),this.composition.loadSnapshot(t)}getDocument(){return this.composition.document}getSelectedDocument(){return this.composition.getSelectedDocument()}getSnapshot(){return this.composition.getSnapshot()}toJSON(){return this.getSnapshot()}deleteInDirection(t){return this.composition.deleteInDirection(t)}insertAttachment(t){return this.composition.insertAttachment(t)}insertAttachments(t){return this.composition.insertAttachments(t)}insertDocument(t){return this.composition.insertDocument(t)}insertFile(t){return this.composition.insertFile(t)}insertFiles(t){return this.composition.insertFiles(t)}insertHTML(t){return this.composition.insertHTML(t)}insertString(t){return this.composition.insertString(t)}insertText(t){return this.composition.insertText(t)}insertLineBreak(){return this.composition.insertLineBreak()}getSelectedRange(){return this.composition.getSelectedRange()}getPosition(){return this.composition.getPosition()}getClientRectAtPosition(t){let e=this.getDocument().locationRangeFromRange([t,t+1]);return this.selectionManager.getClientRectAtLocationRange(e)}expandSelectionInDirection(t){return this.composition.expandSelectionInDirection(t)}moveCursorInDirection(t){return this.composition.moveCursorInDirection(t)}setSelectedRange(t){return this.composition.setSelectedRange(t)}activateAttribute(t){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this.composition.setCurrentAttribute(t,e)}attributeIsActive(t){return this.composition.hasCurrentAttribute(t)}canActivateAttribute(t){return this.composition.canSetCurrentAttribute(t)}deactivateAttribute(t){return this.composition.removeCurrentAttribute(t)}setHTMLAtributeAtPosition(t,e,i){this.composition.setHTMLAtributeAtPosition(t,e,i)}canDecreaseNestingLevel(){return this.composition.canDecreaseNestingLevel()}canIncreaseNestingLevel(){return this.composition.canIncreaseNestingLevel()}decreaseNestingLevel(){if(this.canDecreaseNestingLevel())return this.composition.decreaseNestingLevel()}increaseNestingLevel(){if(this.canIncreaseNestingLevel())return this.composition.increaseNestingLevel()}canRedo(){return this.undoManager.canRedo()}canUndo(){return this.undoManager.canUndo()}recordUndoEntry(t){let{context:e,consolidatable:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.undoManager.recordUndoEntry(t,{context:e,consolidatable:i})}redo(){if(this.canRedo())return this.undoManager.redo()}undo(){if(this.canUndo())return this.undoManager.undo()}},nh=class{constructor(t){this.element=t}findLocationFromContainerAndOffset(t,e){let{strict:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{strict:!0},r=0,s=!1,o={index:0,offset:0},a=this.findAttachmentElementParentForNode(t);a&&(t=a.parentNode,e=bv(a));let l=zd(this.element,{usingFilter:w_});for(;l.nextNode();){let u=l.currentNode;if(u===t&&Fl(t)){Uo(u)||(o.offset+=e);break}if(u.parentNode===t){if(r++===e)break}else if(!Os(t,u)&&r>0)break;FS(u,{strict:i})?(s&&o.index++,o.offset=0,s=!0):o.offset+=Ov(u)}return o}findContainerAndOffsetFromLocation(t){let e,i;if(t.index===0&&t.offset===0){for(e=this.element,i=0;e.firstChild;)if(e=e.firstChild,yv(e)){i=1;break}return[e,i]}let[r,s]=this.findNodeAndOffsetFromLocation(t);if(r){if(Fl(r))Ov(r)===0?(e=r.parentNode.parentNode,i=bv(r.parentNode),Uo(r,{name:"right"})&&i++):(e=r,i=t.offset-s);else{if(e=r.parentNode,!FS(r.previousSibling)&&!yv(e))for(;r===e.lastChild&&(r=e,e=e.parentNode,!yv(e)););i=bv(r),t.offset!==0&&i++}return[e,i]}}findNodeAndOffsetFromLocation(t){let e,i,r=0;for(let s of this.getSignificantNodesForIndex(t.index)){let o=Ov(s);if(t.offset<=r+o)if(Fl(s)){if(e=s,i=r,t.offset===i&&Uo(e))break}else e||(e=s,i=r);if(r+=o,r>t.offset)break}return[e,i]}findAttachmentElementParentForNode(t){for(;t&&t!==this.element;){if(Ms(t))return t;t=t.parentNode}}getSignificantNodesForIndex(t){let e=[],i=zd(this.element,{usingFilter:RF}),r=!1;for(;i.nextNode();){let o=i.currentNode;var s;if(zo(o)){if(s!=null?s++:s=0,s===t)r=!0;else if(r)break}else r&&e.push(o)}return e}},Ov=function(n){return n.nodeType===Node.TEXT_NODE?Uo(n)?0:n.textContent.length:_n(n)==="br"||Ms(n)?1:0},RF=function(n){return IF(n)===NodeFilter.FILTER_ACCEPT?w_(n):NodeFilter.FILTER_REJECT},IF=function(n){return c_(n)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},w_=function(n){return Ms(n.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},ih=class{createDOMRangeFromPoint(t){let e,{x:i,y:r}=t;if(document.caretPositionFromPoint){let{offsetNode:s,offset:o}=document.caretPositionFromPoint(i,r);return e=document.createRange(),e.setStart(s,o),e}if(document.caretRangeFromPoint)return document.caretRangeFromPoint(i,r);if(document.body.createTextRange){let s=Nl();try{let o=document.body.createTextRange();o.moveToPoint(i,r),o.select()}catch{}return e=Nl(),g_(s),e}}getClientRectsForDOMRange(t){let e=Array.from(t.getClientRects());return[e[0],e[e.length-1]]}},Zi=class extends Ve{constructor(t){super(...arguments),this.didMouseDown=this.didMouseDown.bind(this),this.selectionDidChange=this.selectionDidChange.bind(this),this.element=t,this.locationMapper=new nh(this.element),this.pointMapper=new ih,this.lockCount=0,Ne("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}getLocationRange(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t.strict===!1?this.createLocationRangeFromDOMRange(Nl()):t.ignoreLock?this.currentLocationRange:this.lockedLocationRange?this.lockedLocationRange:this.currentLocationRange}setLocationRange(t){if(this.lockedLocationRange)return;t=pe(t);let e=this.createDOMRangeFromLocationRange(t);e&&(g_(e),this.updateCurrentLocationRange(t))}setLocationRangeFromPointRange(t){t=pe(t);let e=this.getLocationAtPoint(t[0]),i=this.getLocationAtPoint(t[1]);this.setLocationRange([e,i])}getClientRectAtLocationRange(t){let e=this.createDOMRangeFromLocationRange(t);if(e)return this.getClientRectsForDOMRange(e)[1]}locationIsCursorTarget(t){let e=Array.from(this.findNodeAndOffsetFromLocation(t))[0];return Uo(e)}lock(){this.lockCount++==0&&(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange())}unlock(){if(--this.lockCount==0){let{lockedLocationRange:t}=this;if(this.lockedLocationRange=null,t!=null)return this.setLocationRange(t)}}clearSelection(){var t;return(t=m_())===null||t===void 0?void 0:t.removeAllRanges()}selectionIsCollapsed(){var t;return((t=Nl())===null||t===void 0?void 0:t.collapsed)===!0}selectionIsExpanded(){return!this.selectionIsCollapsed()}createLocationRangeFromDOMRange(t,e){if(t==null||!this.domRangeWithinElement(t))return;let i=this.findLocationFromContainerAndOffset(t.startContainer,t.startOffset,e);if(!i)return;let r=t.collapsed?void 0:this.findLocationFromContainerAndOffset(t.endContainer,t.endOffset,e);return pe([i,r])}didMouseDown(){return this.pauseTemporarily()}pauseTemporarily(){let t;this.paused=!0;let e=()=>{if(this.paused=!1,clearTimeout(i),Array.from(t).forEach(r=>{r.destroy()}),Os(document,this.element))return this.selectionDidChange()},i=setTimeout(e,200);t=["mousemove","keydown"].map(r=>Ne(r,{onElement:document,withCallback:e}))}selectionDidChange(){if(!this.paused&&!Jv(this.element))return this.updateCurrentLocationRange()}updateCurrentLocationRange(t){var e,i;if((t??(t=this.createLocationRangeFromDOMRange(Nl())))&&!Ud(t,this.currentLocationRange))return this.currentLocationRange=t,(e=this.delegate)===null||e===void 0||(i=e.locationRangeDidChange)===null||i===void 0?void 0:i.call(e,this.currentLocationRange.slice(0))}createDOMRangeFromLocationRange(t){let e=this.findContainerAndOffsetFromLocation(t[0]),i=tr(t)?e:this.findContainerAndOffsetFromLocation(t[1])||e;if(e!=null&&i!=null){let r=document.createRange();return r.setStart(...Array.from(e||[])),r.setEnd(...Array.from(i||[])),r}}getLocationAtPoint(t){let e=this.createDOMRangeFromPoint(t);var i;if(e)return(i=this.createLocationRangeFromDOMRange(e))===null||i===void 0?void 0:i[0]}domRangeWithinElement(t){return t.collapsed?Os(this.element,t.startContainer):Os(this.element,t.startContainer)&&Os(this.element,t.endContainer)}};Zi.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),Zi.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),Zi.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),Zi.proxyMethod("pointMapper.createDOMRangeFromPoint"),Zi.proxyMethod("pointMapper.getClientRectsForDOMRange");var x_=Object.freeze({__proto__:null,Attachment:Ko,AttachmentManager:Qd,AttachmentPiece:Go,Block:Ir,Composition:Pi,Document:In,Editor:eh,HTMLParser:Bs,HTMLSanitizer:Hl,LineBreakInsertion:Zd,LocationMapper:nh,ManagedAttachment:Fe,Piece:ir,PointMapper:ih,SelectionManager:Zi,SplittableList:Xo,StringPiece:$l,Text:Hn,UndoManager:Vl}),FF=Object.freeze({__proto__:null,ObjectView:nr,AttachmentView:jl,BlockView:Xd,DocumentView:Yo,PieceView:Kd,PreviewableAttachmentView:Yd,TextView:Gd}),{lang:Dv,css:Ts,keyNames:NF}=zl,Mv=function(n){return function(){let t=n.apply(this,arguments);t.do(),this.undos||(this.undos=[]),this.undos.push(t.undo)}},rh=class extends Ve{constructor(t,e,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(...arguments),Vn(this,"makeElementMutable",Mv(()=>({do:()=>{this.element.dataset.trixMutable=!0},undo:()=>delete this.element.dataset.trixMutable}))),Vn(this,"addToolbar",Mv(()=>{let s=Gt({tagName:"div",className:Ts.attachmentToolbar,data:{trixMutable:!0},childNodes:Gt({tagName:"div",className:"trix-button-row",childNodes:Gt({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:Gt({tagName:"button",className:"trix-button trix-button--remove",textContent:Dv.remove,attributes:{title:Dv.remove},data:{trixAction:"remove"}})})})});return this.attachment.isPreviewable()&&s.appendChild(Gt({tagName:"div",className:Ts.attachmentMetadataContainer,childNodes:Gt({tagName:"span",className:Ts.attachmentMetadata,childNodes:[Gt({tagName:"span",className:Ts.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),Gt({tagName:"span",className:Ts.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),Ne("click",{onElement:s,withCallback:this.didClickToolbar}),Ne("click",{onElement:s,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),Rl("trix-attachment-before-toolbar",{onElement:this.element,attributes:{toolbar:s,attachment:this.attachment}}),{do:()=>this.element.appendChild(s),undo:()=>Nr(s)}})),Vn(this,"installCaptionEditor",Mv(()=>{let s=Gt({tagName:"textarea",className:Ts.attachmentCaptionEditor,attributes:{placeholder:Dv.captionPlaceholder},data:{trixMutable:!0}});s.value=this.attachmentPiece.getCaption();let o=s.cloneNode();o.classList.add("trix-autoresize-clone"),o.tabIndex=-1;let a=function(){o.value=s.value,s.style.height=o.scrollHeight+"px"};Ne("input",{onElement:s,withCallback:a}),Ne("input",{onElement:s,withCallback:this.didInputCaption}),Ne("keydown",{onElement:s,withCallback:this.didKeyDownCaption}),Ne("change",{onElement:s,withCallback:this.didChangeCaption}),Ne("blur",{onElement:s,withCallback:this.didBlurCaption});let l=this.element.querySelector("figcaption"),u=l.cloneNode();return{do:()=>{if(l.style.display="none",u.appendChild(s),u.appendChild(o),u.classList.add("".concat(Ts.attachmentCaption,"--editing")),l.parentElement.insertBefore(u,l),a(),this.options.editCaption)return tb(()=>s.focus())},undo(){Nr(u),l.style.display=null}}})),this.didClickToolbar=this.didClickToolbar.bind(this),this.didClickActionButton=this.didClickActionButton.bind(this),this.didKeyDownCaption=this.didKeyDownCaption.bind(this),this.didInputCaption=this.didInputCaption.bind(this),this.didChangeCaption=this.didChangeCaption.bind(this),this.didBlurCaption=this.didBlurCaption.bind(this),this.attachmentPiece=t,this.element=e,this.container=i,this.options=r,this.attachment=this.attachmentPiece.attachment,_n(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}install(){this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()&&this.installCaptionEditor()}uninstall(){var t;let e=this.undos.pop();for(this.savePendingCaption();e;)e(),e=this.undos.pop();(t=this.delegate)===null||t===void 0||t.didUninstallAttachmentEditor(this)}savePendingCaption(){if(this.pendingCaption!=null){let s=this.pendingCaption;var t,e,i,r;this.pendingCaption=null,s?(t=this.delegate)===null||t===void 0||(e=t.attachmentEditorDidRequestUpdatingAttributesForAttachment)===null||e===void 0||e.call(t,{caption:s},this.attachment):(i=this.delegate)===null||i===void 0||(r=i.attachmentEditorDidRequestRemovingAttributeForAttachment)===null||r===void 0||r.call(i,"caption",this.attachment)}}didClickToolbar(t){return t.preventDefault(),t.stopPropagation()}didClickActionButton(t){var e;if(t.target.getAttribute("data-trix-action")==="remove")return(e=this.delegate)===null||e===void 0?void 0:e.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)}didKeyDownCaption(t){var e,i;if(NF[t.keyCode]==="return")return t.preventDefault(),this.savePendingCaption(),(e=this.delegate)===null||e===void 0||(i=e.attachmentEditorDidRequestDeselectingAttachment)===null||i===void 0?void 0:i.call(e,this.attachment)}didInputCaption(t){this.pendingCaption=t.target.value.replace(/\s/g," ").trim()}didChangeCaption(t){return this.savePendingCaption()}didBlurCaption(t){return this.savePendingCaption()}},sh=class extends Ve{constructor(t,e){super(...arguments),this.didFocus=this.didFocus.bind(this),this.didBlur=this.didBlur.bind(this),this.didClickAttachment=this.didClickAttachment.bind(this),this.element=t,this.composition=e,this.documentView=new Yo(this.composition.document,{element:this.element}),Ne("focus",{onElement:this.element,withCallback:this.didFocus}),Ne("blur",{onElement:this.element,withCallback:this.didBlur}),Ne("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),Ne("mousedown",{onElement:this.element,matchingSelector:Ds,withCallback:this.didClickAttachment}),Ne("click",{onElement:this.element,matchingSelector:"a".concat(Ds),preventDefault:!0})}didFocus(t){var e;let i=()=>{var r,s;if(!this.focused)return this.focused=!0,(r=this.delegate)===null||r===void 0||(s=r.compositionControllerDidFocus)===null||s===void 0?void 0:s.call(r)};return((e=this.blurPromise)===null||e===void 0?void 0:e.then(i))||i()}didBlur(t){this.blurPromise=new Promise(e=>tb(()=>{var i,r;return Jv(this.element)||(this.focused=null,(i=this.delegate)===null||i===void 0||(r=i.compositionControllerDidBlur)===null||r===void 0||r.call(i)),this.blurPromise=null,e()}))}didClickAttachment(t,e){var i,r;let s=this.findAttachmentForElement(e),o=!!Fr(t.target,{matchingSelector:"figcaption"});return(i=this.delegate)===null||i===void 0||(r=i.compositionControllerDidSelectAttachment)===null||r===void 0?void 0:r.call(i,s,{editCaption:o})}getSerializableElement(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element}render(){var t,e,i,r,s,o;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&((i=this.delegate)===null||i===void 0||(r=i.compositionControllerWillSyncDocumentView)===null||r===void 0||r.call(i),this.documentView.sync(),(s=this.delegate)===null||s===void 0||(o=s.compositionControllerDidSyncDocumentView)===null||o===void 0||o.call(s)),(t=this.delegate)===null||t===void 0||(e=t.compositionControllerDidRender)===null||e===void 0?void 0:e.call(t)}rerenderViewForObject(t){return this.invalidateViewForObject(t),this.render()}invalidateViewForObject(t){return this.documentView.invalidateViewForObject(t)}isViewCachingEnabled(){return this.documentView.isViewCachingEnabled()}enableViewCaching(){return this.documentView.enableViewCaching()}disableViewCaching(){return this.documentView.disableViewCaching()}refreshViewCache(){return this.documentView.garbageCollectCachedViews()}isEditingAttachment(){return!!this.attachmentEditor}installAttachmentEditorForAttachment(t,e){var i;if(((i=this.attachmentEditor)===null||i===void 0?void 0:i.attachment)===t)return;let r=this.documentView.findElementForObject(t);if(!r)return;this.uninstallAttachmentEditor();let s=this.composition.document.getAttachmentPieceForAttachment(t);this.attachmentEditor=new rh(s,r,this.element,e),this.attachmentEditor.delegate=this}uninstallAttachmentEditor(){var t;return(t=this.attachmentEditor)===null||t===void 0?void 0:t.uninstall()}didUninstallAttachmentEditor(){return this.attachmentEditor=null,this.render()}attachmentEditorDidRequestUpdatingAttributesForAttachment(t,e){var i,r;return(i=this.delegate)===null||i===void 0||(r=i.compositionControllerWillUpdateAttachment)===null||r===void 0||r.call(i,e),this.composition.updateAttributesForAttachment(t,e)}attachmentEditorDidRequestRemovingAttributeForAttachment(t,e){var i,r;return(i=this.delegate)===null||i===void 0||(r=i.compositionControllerWillUpdateAttachment)===null||r===void 0||r.call(i,e),this.composition.removeAttributeForAttachment(t,e)}attachmentEditorDidRequestRemovalOfAttachment(t){var e,i;return(e=this.delegate)===null||e===void 0||(i=e.compositionControllerDidRequestRemovalOfAttachment)===null||i===void 0?void 0:i.call(e,t)}attachmentEditorDidRequestDeselectingAttachment(t){var e,i;return(e=this.delegate)===null||e===void 0||(i=e.compositionControllerDidRequestDeselectingAttachment)===null||i===void 0?void 0:i.call(e,t)}canSyncDocumentView(){return!this.isEditingAttachment()}findAttachmentForElement(t){return this.composition.document.getAttachmentById(parseInt(t.dataset.trixId,10))}},oh=class extends Ve{},A_="data-trix-mutable",BF="[".concat(A_,"]"),jF={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},ah=class extends Ve{constructor(t){super(t),this.didMutate=this.didMutate.bind(this),this.element=t,this.observer=new window.MutationObserver(this.didMutate),this.start()}start(){return this.reset(),this.observer.observe(this.element,jF)}stop(){return this.observer.disconnect()}didMutate(t){var e,i;if(this.mutations.push(...Array.from(this.findSignificantMutations(t)||[])),this.mutations.length)return(e=this.delegate)===null||e===void 0||(i=e.elementDidMutate)===null||i===void 0||i.call(e,this.getMutationSummary()),this.reset()}reset(){this.mutations=[]}findSignificantMutations(t){return t.filter(e=>this.mutationIsSignificant(e))}mutationIsSignificant(t){if(this.nodeIsMutable(t.target))return!1;for(let e of Array.from(this.nodesModifiedByMutation(t)))if(this.nodeIsSignificant(e))return!0;return!1}nodeIsSignificant(t){return t!==this.element&&!this.nodeIsMutable(t)&&!c_(t)}nodeIsMutable(t){return Fr(t,{matchingSelector:BF})}nodesModifiedByMutation(t){let e=[];switch(t.type){case"attributes":t.attributeName!==A_&&e.push(t.target);break;case"characterData":e.push(t.target.parentNode),e.push(t.target);break;case"childList":e.push(...Array.from(t.addedNodes||[])),e.push(...Array.from(t.removedNodes||[]))}return e}getMutationSummary(){return this.getTextMutationSummary()}getTextMutationSummary(){let{additions:t,deletions:e}=this.getTextChangesFromCharacterData(),i=this.getTextChangesFromChildList();Array.from(i.additions).forEach(a=>{Array.from(t).includes(a)||t.push(a)}),e.push(...Array.from(i.deletions||[]));let r={},s=t.join("");s&&(r.textAdded=s);let o=e.join("");return o&&(r.textDeleted=o),r}getMutationsByType(t){return Array.from(this.mutations).filter(e=>e.type===t)}getTextChangesFromChildList(){let t,e,i=[],r=[];return Array.from(this.getMutationsByType("childList")).forEach(s=>{i.push(...Array.from(s.addedNodes||[])),r.push(...Array.from(s.removedNodes||[]))}),i.length===0&&r.length===1&&zo(r[0])?(t=[],e=[`
`]):(t=Uv(i),e=Uv(r)),{additions:t.filter((s,o)=>s!==e[o]).map(Ll),deletions:e.filter((s,o)=>s!==t[o]).map(Ll)}}getTextChangesFromCharacterData(){let t,e,i=this.getMutationsByType("characterData");if(i.length){let r=i[0],s=i[i.length-1],o=function(a,l){let u,c;return a=Is.box(a),(l=Is.box(l)).length<a.length?[c,u]=VS(a,l):[u,c]=VS(l,a),{added:u,removed:c}}(Ll(r.oldValue),Ll(s.target.data));t=o.added,e=o.removed}return{additions:t?[t]:[],deletions:e?[e]:[]}}},Uv=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=[];for(let e of Array.from(n))switch(e.nodeType){case Node.TEXT_NODE:t.push(e.data);break;case Node.ELEMENT_NODE:_n(e)==="br"?t.push(`
`):t.push(...Array.from(Uv(e.childNodes)||[]))}return t},lh=class extends qo{constructor(t){super(...arguments),this.file=t}perform(t){let e=new FileReader;return e.onerror=()=>t(!1),e.onload=()=>{e.onerror=null;try{e.abort()}catch{}return t(!0,this.file)},e.readAsArrayBuffer(this.file)}},qv=class{constructor(t){this.element=t}shouldIgnore(t){return!!Wl.samsungAndroid&&(this.previousEvent=this.event,this.event=t,this.checkSamsungKeyboardBuggyModeStart(),this.checkSamsungKeyboardBuggyModeEnd(),this.buggyMode)}checkSamsungKeyboardBuggyModeStart(){this.insertingLongTextAfterUnidentifiedChar()&&$F(this.element.innerText,this.event.data)&&(this.buggyMode=!0,this.event.preventDefault())}checkSamsungKeyboardBuggyModeEnd(){this.buggyMode&&this.event.inputType!=="insertText"&&(this.buggyMode=!1)}insertingLongTextAfterUnidentifiedChar(){var t;return this.isBeforeInputInsertText()&&this.previousEventWasUnidentifiedKeydown()&&((t=this.event.data)===null||t===void 0?void 0:t.length)>50}isBeforeInputInsertText(){return this.event.type==="beforeinput"&&this.event.inputType==="insertText"}previousEventWasUnidentifiedKeydown(){var t,e;return((t=this.previousEvent)===null||t===void 0?void 0:t.type)==="keydown"&&((e=this.previousEvent)===null||e===void 0?void 0:e.key)==="Unidentified"}},$F=(n,t)=>e_(n)===e_(t),HF=new RegExp("(".concat("\uFFFC","|").concat(hh,"|").concat(Rr,"|\\s)+"),"g"),e_=n=>n.replace(HF," ").trim(),Jo=class extends Ve{constructor(t){super(...arguments),this.element=t,this.mutationObserver=new ah(this.element),this.mutationObserver.delegate=this,this.flakyKeyboardDetector=new qv(this.element);for(let e in this.constructor.events)Ne(e,{onElement:this.element,withCallback:this.handlerFor(e)})}elementDidMutate(t){}editorWillSyncDocumentView(){return this.mutationObserver.stop()}editorDidSyncDocumentView(){return this.mutationObserver.start()}requestRender(){var t,e;return(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidRequestRender)===null||e===void 0?void 0:e.call(t)}requestReparse(){var t,e;return(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidRequestReparse)===null||e===void 0||e.call(t),this.requestRender()}attachFiles(t){let e=Array.from(t).map(i=>new lh(i));return Promise.all(e).then(i=>{this.handleInput(function(){var r,s;return(r=this.delegate)===null||r===void 0||r.inputControllerWillAttachFiles(),(s=this.responder)===null||s===void 0||s.insertFiles(i),this.requestRender()})})}handlerFor(t){return e=>{e.defaultPrevented||this.handleInput(()=>{if(!Jv(this.element)){if(this.flakyKeyboardDetector.shouldIgnore(e))return;this.eventName=t,this.constructor.events[t].call(this,e)}})}}handleInput(t){try{var e;(e=this.delegate)===null||e===void 0||e.inputControllerWillHandleInput(),t.call(this)}finally{var i;(i=this.delegate)===null||i===void 0||i.inputControllerDidHandleInput()}}createLinkHTML(t,e){let i=document.createElement("a");return i.href=t,i.textContent=e||t,i.outerHTML}},Pv;Vn(Jo,"events",{});var{browser:VF,keyNames:S_}=zl,WF=0,hi=class extends Jo{constructor(){super(...arguments),this.resetInputSummary()}setInputSummary(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.inputSummary.eventName=this.eventName;for(let e in t){let i=t[e];this.inputSummary[e]=i}return this.inputSummary}resetInputSummary(){this.inputSummary={}}reset(){return this.resetInputSummary(),Ns.reset()}elementDidMutate(t){var e,i;return this.isComposing()?(e=this.delegate)===null||e===void 0||(i=e.inputControllerDidAllowUnhandledInput)===null||i===void 0?void 0:i.call(e):this.handleInput(function(){return this.mutationIsSignificant(t)&&(this.mutationIsExpected(t)?this.requestRender():this.requestReparse()),this.reset()})}mutationIsExpected(t){let{textAdded:e,textDeleted:i}=t;if(this.inputSummary.preferDocument)return!0;let r=e!=null?e===this.inputSummary.textAdded:!this.inputSummary.textAdded,s=i!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,o=[`
`,` 
`].includes(e)&&!r,a=i===`
`&&!s;if(o&&!a||a&&!o){let u=this.getSelectedRange();if(u){var l;let c=o?e.replace(/\n$/,"").length||-1:e?.length||1;if((l=this.responder)!==null&&l!==void 0&&l.positionIsBlockBreak(u[1]+c))return!0}}return r&&s}mutationIsSignificant(t){var e;let i=Object.keys(t).length>0,r=((e=this.compositionInput)===null||e===void 0?void 0:e.getEndData())==="";return i||!r}getCompositionInput(){if(this.isComposing())return this.compositionInput;this.compositionInput=new Mi(this)}isComposing(){return this.compositionInput&&!this.compositionInput.isEnded()}deleteInDirection(t,e){var i;return((i=this.responder)===null||i===void 0?void 0:i.deleteInDirection(t))!==!1?this.setInputSummary({didDelete:!0}):e?(e.preventDefault(),this.requestRender()):void 0}serializeSelectionToDataTransfer(t){var e;if(!function(r){if(r==null||!r.setData)return!1;for(let s in jS){let o=jS[s];try{if(r.setData(s,o),!r.getData(s)===o)return!1}catch{return!1}}return!0}(t))return;let i=(e=this.responder)===null||e===void 0?void 0:e.getSelectedDocument().toSerializableDocument();return t.setData("application/x-trix-document",JSON.stringify(i)),t.setData("text/html",Yo.render(i).innerHTML),t.setData("text/plain",i.toString().replace(/\n$/,"")),!0}canAcceptDataTransfer(t){let e={};return Array.from(t?.types||[]).forEach(i=>{e[i]=!0}),e.Files||e["application/x-trix-document"]||e["text/html"]||e["text/plain"]}getPastedHTMLUsingHiddenElement(t){let e=this.getSelectedRange(),i={position:"absolute",left:"".concat(window.pageXOffset,"px"),top:"".concat(window.pageYOffset,"px"),opacity:0},r=Gt({style:i,tagName:"div",editable:!0});return document.body.appendChild(r),r.focus(),requestAnimationFrame(()=>{let s=r.innerHTML;return Nr(r),this.setSelectedRange(e),t(s)})}};Vn(hi,"events",{keydown(n){this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0;let t=S_[n.keyCode];if(t){var e;let r=this.keys;["ctrl","alt","shift","meta"].forEach(s=>{var o;n["".concat(s,"Key")]&&(s==="ctrl"&&(s="control"),r=(o=r)===null||o===void 0?void 0:o[s])}),((e=r)===null||e===void 0?void 0:e[t])!=null&&(this.setInputSummary({keyName:t}),Ns.reset(),r[t].call(this,n))}if(f_(n)){let r=String.fromCharCode(n.keyCode).toLowerCase();if(r){var i;let s=["alt","shift"].map(o=>{if(n["".concat(o,"Key")])return o}).filter(o=>o);s.push(r),(i=this.delegate)!==null&&i!==void 0&&i.inputControllerDidReceiveKeyboardCommand(s)&&n.preventDefault()}}},keypress(n){if(this.inputSummary.eventName!=null||n.metaKey||n.ctrlKey&&!n.altKey)return;let t=qF(n);var e,i;return t?((e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(i=this.responder)===null||i===void 0||i.insertString(t),this.setInputSummary({textAdded:t,didDelete:this.selectionIsExpanded()})):void 0},textInput(n){let{data:t}=n,{textAdded:e}=this.inputSummary;if(e&&e!==t&&e.toUpperCase()===t){var i;let r=this.getSelectedRange();return this.setSelectedRange([r[0],r[1]+e.length]),(i=this.responder)===null||i===void 0||i.insertString(t),this.setInputSummary({textAdded:t}),this.setSelectedRange(r)}},dragenter(n){n.preventDefault()},dragstart(n){var t,e;return this.serializeSelectionToDataTransfer(n.dataTransfer),this.draggedRange=this.getSelectedRange(),(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidStartDrag)===null||e===void 0?void 0:e.call(t)},dragover(n){if(this.draggedRange||this.canAcceptDataTransfer(n.dataTransfer)){n.preventDefault();let i={x:n.clientX,y:n.clientY};var t,e;if(!Qo(i,this.draggingPoint))return this.draggingPoint=i,(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidReceiveDragOverPoint)===null||e===void 0?void 0:e.call(t,this.draggingPoint)}},dragend(n){var t,e;(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidCancelDrag)===null||e===void 0||e.call(t),this.draggedRange=null,this.draggingPoint=null},drop(n){var t,e;n.preventDefault();let i=(t=n.dataTransfer)===null||t===void 0?void 0:t.files,r=n.dataTransfer.getData("application/x-trix-document"),s={x:n.clientX,y:n.clientY};if((e=this.responder)===null||e===void 0||e.setLocationRangeFromPointRange(s),i!=null&&i.length)this.attachFiles(i);else if(this.draggedRange){var o,a;(o=this.delegate)===null||o===void 0||o.inputControllerWillMoveText(),(a=this.responder)===null||a===void 0||a.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()}else if(r){var l;let u=In.fromJSONString(r);(l=this.responder)===null||l===void 0||l.insertDocument(u),this.requestRender()}this.draggedRange=null,this.draggingPoint=null},cut(n){var t,e;if((t=this.responder)!==null&&t!==void 0&&t.selectionIsExpanded()&&(this.serializeSelectionToDataTransfer(n.clipboardData)&&n.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillCutText(),this.deleteInDirection("backward"),n.defaultPrevented))return this.requestRender()},copy(n){var t;(t=this.responder)!==null&&t!==void 0&&t.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(n.clipboardData)&&n.preventDefault()},paste(n){let t=n.clipboardData||n.testClipboardData,e={clipboard:t};if(!t||YF(n))return void this.getPastedHTMLUsingHiddenElement(p=>{var _,S,j;return e.type="text/html",e.html=p,(_=this.delegate)===null||_===void 0||_.inputControllerWillPaste(e),(S=this.responder)===null||S===void 0||S.insertHTML(e.html),this.requestRender(),(j=this.delegate)===null||j===void 0?void 0:j.inputControllerDidPaste(e)});let i=t.getData("URL"),r=t.getData("text/html"),s=t.getData("public.url-name");if(i){var o,a,l;let p;e.type="text/html",p=s?nb(s).trim():i,e.html=this.createLinkHTML(i,p),(o=this.delegate)===null||o===void 0||o.inputControllerWillPaste(e),this.setInputSummary({textAdded:p,didDelete:this.selectionIsExpanded()}),(a=this.responder)===null||a===void 0||a.insertHTML(e.html),this.requestRender(),(l=this.delegate)===null||l===void 0||l.inputControllerDidPaste(e)}else if(h_(t)){var u,c,d;e.type="text/plain",e.string=t.getData("text/plain"),(u=this.delegate)===null||u===void 0||u.inputControllerWillPaste(e),this.setInputSummary({textAdded:e.string,didDelete:this.selectionIsExpanded()}),(c=this.responder)===null||c===void 0||c.insertString(e.string),this.requestRender(),(d=this.delegate)===null||d===void 0||d.inputControllerDidPaste(e)}else if(r){var h,m,v;e.type="text/html",e.html=r,(h=this.delegate)===null||h===void 0||h.inputControllerWillPaste(e),(m=this.responder)===null||m===void 0||m.insertHTML(e.html),this.requestRender(),(v=this.delegate)===null||v===void 0||v.inputControllerDidPaste(e)}else if(Array.from(t.types).includes("Files")){var g,y;let p=(g=t.items)===null||g===void 0||(g=g[0])===null||g===void 0||(y=g.getAsFile)===null||y===void 0?void 0:y.call(g);if(p){var x,A,w;let _=zF(p);!p.name&&_&&(p.name="pasted-file-".concat(++WF,".").concat(_)),e.type="File",e.file=p,(x=this.delegate)===null||x===void 0||x.inputControllerWillAttachFiles(),(A=this.responder)===null||A===void 0||A.insertFile(e.file),this.requestRender(),(w=this.delegate)===null||w===void 0||w.inputControllerDidPaste(e)}}n.preventDefault()},compositionstart(n){return this.getCompositionInput().start(n.data)},compositionupdate(n){return this.getCompositionInput().update(n.data)},compositionend(n){return this.getCompositionInput().end(n.data)},beforeinput(n){this.inputSummary.didInput=!0},input(n){return this.inputSummary.didInput=!0,n.stopPropagation()}}),Vn(hi,"keys",{backspace(n){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("backward",n)},delete(n){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("forward",n)},return(n){var t,e;return this.setInputSummary({preferDocument:!0}),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(e=this.responder)===null||e===void 0?void 0:e.insertLineBreak()},tab(n){var t,e;(t=this.responder)!==null&&t!==void 0&&t.canIncreaseNestingLevel()&&((e=this.responder)===null||e===void 0||e.increaseNestingLevel(),this.requestRender(),n.preventDefault())},left(n){var t;if(this.selectionIsInCursorTarget())return n.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("backward")},right(n){var t;if(this.selectionIsInCursorTarget())return n.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("forward")},control:{d(n){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("forward",n)},h(n){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("backward",n)},o(n){var t,e;return n.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(e=this.responder)===null||e===void 0||e.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return(n){var t,e;(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(e=this.responder)===null||e===void 0||e.insertString(`
`),this.requestRender(),n.preventDefault()},tab(n){var t,e;(t=this.responder)!==null&&t!==void 0&&t.canDecreaseNestingLevel()&&((e=this.responder)===null||e===void 0||e.decreaseNestingLevel(),this.requestRender(),n.preventDefault())},left(n){if(this.selectionIsInCursorTarget())return n.preventDefault(),this.expandSelectionInDirection("backward")},right(n){if(this.selectionIsInCursorTarget())return n.preventDefault(),this.expandSelectionInDirection("forward")}},alt:{backspace(n){var t;return this.setInputSummary({preferDocument:!1}),(t=this.delegate)===null||t===void 0?void 0:t.inputControllerWillPerformTyping()}},meta:{backspace(n){var t;return this.setInputSummary({preferDocument:!1}),(t=this.delegate)===null||t===void 0?void 0:t.inputControllerWillPerformTyping()}}}),hi.proxyMethod("responder?.getSelectedRange"),hi.proxyMethod("responder?.setSelectedRange"),hi.proxyMethod("responder?.expandSelectionInDirection"),hi.proxyMethod("responder?.selectionIsInCursorTarget"),hi.proxyMethod("responder?.selectionIsExpanded");var zF=n=>{var t;return(t=n.type)===null||t===void 0||(t=t.match(/\/(\w+)$/))===null||t===void 0?void 0:t[1]},UF=!((Pv=" ".codePointAt)===null||Pv===void 0||!Pv.call(" ",0)),qF=function(n){if(n.key&&UF&&n.key.codePointAt(0)===n.keyCode)return n.key;{let t;if(n.which===null?t=n.keyCode:n.which!==0&&n.charCode!==0&&(t=n.charCode),t!=null&&S_[t]!=="escape")return Is.fromCodepoints([t]).toString()}},YF=function(n){let t=n.clipboardData;if(t){if(t.types.includes("text/html")){for(let e of t.types){let i=/^CorePasteboardFlavorType/.test(e),r=/^dyn\./.test(e)&&t.getData(e);if(i||r)return!0}return!1}{let e=t.types.includes("com.apple.webarchive"),i=t.types.includes("com.apple.flat-rtfd");return e||i}}},Mi=class extends Ve{constructor(t){super(...arguments),this.inputController=t,this.responder=this.inputController.responder,this.delegate=this.inputController.delegate,this.inputSummary=this.inputController.inputSummary,this.data={}}start(t){if(this.data.start=t,this.isSignificant()){var e,i;this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded&&((i=this.responder)===null||i===void 0||i.deleteInDirection("left")),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(e=this.responder)===null||e===void 0?void 0:e.getSelectedRange()}}update(t){if(this.data.update=t,this.isSignificant()){let e=this.selectPlaceholder();e&&(this.forgetPlaceholder(),this.range=e)}}end(t){return this.data.end=t,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(i=this.responder)===null||i===void 0||i.setSelectedRange(this.range),(r=this.responder)===null||r===void 0||r.insertString(this.data.end),(s=this.responder)===null||s===void 0?void 0:s.setSelectedRange(this.range[0]+this.data.end.length)):this.data.start!=null||this.data.update!=null?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset();var e,i,r,s}getEndData(){return this.data.end}isEnded(){return this.getEndData()!=null}isSignificant(){return!VF.composesExistingText||this.inputSummary.didInput}canApplyToDocument(){var t,e;return((t=this.data.start)===null||t===void 0?void 0:t.length)===0&&((e=this.data.end)===null||e===void 0?void 0:e.length)>0&&this.range}};Mi.proxyMethod("inputController.setInputSummary"),Mi.proxyMethod("inputController.requestRender"),Mi.proxyMethod("inputController.requestReparse"),Mi.proxyMethod("responder?.selectionIsExpanded"),Mi.proxyMethod("responder?.insertPlaceholder"),Mi.proxyMethod("responder?.selectPlaceholder"),Mi.proxyMethod("responder?.forgetPlaceholder");var Ps=class extends Jo{constructor(){super(...arguments),this.render=this.render.bind(this)}elementDidMutate(){return this.scheduledRender?this.composing?(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidAllowUnhandledInput)===null||e===void 0?void 0:e.call(t):void 0:this.reparse();var t,e}scheduleRender(){return this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)}render(){var t,e;cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||(e=this.delegate)===null||e===void 0||e.render(),(t=this.afterRender)===null||t===void 0||t.call(this),this.afterRender=null}reparse(){var t;return(t=this.delegate)===null||t===void 0?void 0:t.reparse()}insertString(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var r;return(r=this.responder)===null||r===void 0?void 0:r.insertString(e,i)})}toggleAttributeIfSupported(t){var e;if(Bv().includes(t))return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformFormatting(t),this.withTargetDOMRange(function(){var i;return(i=this.responder)===null||i===void 0?void 0:i.toggleCurrentAttribute(t)})}activateAttributeIfSupported(t,e){var i;if(Bv().includes(t))return(i=this.delegate)===null||i===void 0||i.inputControllerWillPerformFormatting(t),this.withTargetDOMRange(function(){var r;return(r=this.responder)===null||r===void 0?void 0:r.setCurrentAttribute(t,e)})}deleteInDirection(t){let{recordUndoEntry:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{recordUndoEntry:!0};var i;e&&((i=this.delegate)===null||i===void 0||i.inputControllerWillPerformTyping());let r=()=>{var o;return(o=this.responder)===null||o===void 0?void 0:o.deleteInDirection(t)},s=this.getTargetDOMRange({minLength:2});return s?this.withTargetDOMRange(s,r):r()}withTargetDOMRange(t,e){var i;return typeof t=="function"&&(e=t,t=this.getTargetDOMRange()),t?(i=this.responder)===null||i===void 0?void 0:i.withTargetDOMRange(t,e.bind(this)):(Ns.reset(),e.call(this))}getTargetDOMRange(){var t,e;let{minLength:i}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{minLength:0},r=(t=(e=this.event).getTargetRanges)===null||t===void 0?void 0:t.call(e);if(r&&r.length){let s=KF(r[0]);if(i===0||s.toString().length>=i)return s}}withEvent(t,e){let i;this.event=t;try{i=e.call(this)}finally{this.event=null}return i}};Vn(Ps,"events",{keydown(n){if(f_(n)){var t;let e=JF(n);(t=this.delegate)!==null&&t!==void 0&&t.inputControllerDidReceiveKeyboardCommand(e)&&n.preventDefault()}else{let e=n.key;n.altKey&&(e+="+Alt"),n.shiftKey&&(e+="+Shift");let i=this.constructor.keys[e];if(i)return this.withEvent(n,i)}},paste(n){var t;let e,i=(t=n.clipboardData)===null||t===void 0?void 0:t.getData("URL");return GF(n)?(n.preventDefault(),this.attachFiles(n.clipboardData.files)):XF(n)?(n.preventDefault(),e={type:"text/plain",string:n.clipboardData.getData("text/plain")},(r=this.delegate)===null||r===void 0||r.inputControllerWillPaste(e),(s=this.responder)===null||s===void 0||s.insertString(e.string),this.render(),(o=this.delegate)===null||o===void 0?void 0:o.inputControllerDidPaste(e)):i?(n.preventDefault(),e={type:"text/html",html:this.createLinkHTML(i)},(a=this.delegate)===null||a===void 0||a.inputControllerWillPaste(e),(l=this.responder)===null||l===void 0||l.insertHTML(e.html),this.render(),(u=this.delegate)===null||u===void 0?void 0:u.inputControllerDidPaste(e)):void 0;var r,s,o,a,l,u},beforeinput(n){let t=this.constructor.inputTypes[n.inputType];t&&(this.withEvent(n,t),this.scheduleRender())},input(n){Ns.reset()},dragstart(n){var t,e;(t=this.responder)!==null&&t!==void 0&&t.selectionContainsAttachments()&&(n.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(e=this.responder)===null||e===void 0?void 0:e.getSelectedRange(),point:Rv(n)})},dragenter(n){Lv(n)&&n.preventDefault()},dragover(n){if(this.dragging){n.preventDefault();let e=Rv(n);var t;if(!Qo(e,this.dragging.point))return this.dragging.point=e,(t=this.responder)===null||t===void 0?void 0:t.setLocationRangeFromPointRange(e)}else Lv(n)&&n.preventDefault()},drop(n){var t,e;if(this.dragging)return n.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillMoveText(),(e=this.responder)===null||e===void 0||e.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender();if(Lv(n)){var i;n.preventDefault();let r=Rv(n);return(i=this.responder)===null||i===void 0||i.setLocationRangeFromPointRange(r),this.attachFiles(n.dataTransfer.files)}},dragend(){var n;this.dragging&&((n=this.responder)===null||n===void 0||n.setSelectedRange(this.dragging.range),this.dragging=null)},compositionend(n){this.composing&&(this.composing=!1,Wl.recentAndroid||this.scheduleRender())}}),Vn(Ps,"keys",{ArrowLeft(){var n,t;if((n=this.responder)!==null&&n!==void 0&&n.shouldManageMovingCursorInDirection("backward"))return this.event.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("backward")},ArrowRight(){var n,t;if((n=this.responder)!==null&&n!==void 0&&n.shouldManageMovingCursorInDirection("forward"))return this.event.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("forward")},Backspace(){var n,t,e;if((n=this.responder)!==null&&n!==void 0&&n.shouldManageDeletingInDirection("backward"))return this.event.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(e=this.responder)===null||e===void 0||e.deleteInDirection("backward"),this.render()},Tab(){var n,t;if((n=this.responder)!==null&&n!==void 0&&n.canIncreaseNestingLevel())return this.event.preventDefault(),(t=this.responder)===null||t===void 0||t.increaseNestingLevel(),this.render()},"Tab+Shift"(){var n,t;if((n=this.responder)!==null&&n!==void 0&&n.canDecreaseNestingLevel())return this.event.preventDefault(),(t=this.responder)===null||t===void 0||t.decreaseNestingLevel(),this.render()}}),Vn(Ps,"inputTypes",{deleteByComposition(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut(){return this.deleteInDirection("backward")},deleteByDrag(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var n;this.deleteByDragRange=(n=this.responder)===null||n===void 0?void 0:n.getSelectedRange()})},deleteCompositionText(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent(){return this.deleteInDirection("backward")},deleteContentBackward(){return this.deleteInDirection("backward")},deleteContentForward(){return this.deleteInDirection("forward")},deleteEntireSoftLine(){return this.deleteInDirection("forward")},deleteHardLineBackward(){return this.deleteInDirection("backward")},deleteHardLineForward(){return this.deleteInDirection("forward")},deleteSoftLineBackward(){return this.deleteInDirection("backward")},deleteSoftLineForward(){return this.deleteInDirection("forward")},deleteWordBackward(){return this.deleteInDirection("backward")},deleteWordForward(){return this.deleteInDirection("forward")},formatBackColor(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold(){return this.toggleAttributeIfSupported("bold")},formatFontColor(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent(){var n;if((n=this.responder)!==null&&n!==void 0&&n.canIncreaseNestingLevel())return this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.increaseNestingLevel()})},formatItalic(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent(){var n;if((n=this.responder)!==null&&n!==void 0&&n.canDecreaseNestingLevel())return this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.decreaseNestingLevel()})},formatRemove(){this.withTargetDOMRange(function(){for(let e in(n=this.responder)===null||n===void 0?void 0:n.getCurrentAttributes()){var n,t;(t=this.responder)===null||t===void 0||t.removeCurrentAttribute(e)}})},formatSetBlockTextDirection(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough(){return this.toggleAttributeIfSupported("strike")},formatSubscript(){return this.toggleAttributeIfSupported("sub")},formatSuperscript(){return this.toggleAttributeIfSupported("sup")},formatUnderline(){return this.toggleAttributeIfSupported("underline")},historyRedo(){var n;return(n=this.delegate)===null||n===void 0?void 0:n.inputControllerWillPerformRedo()},historyUndo(){var n;return(n=this.delegate)===null||n===void 0?void 0:n.inputControllerWillPerformUndo()},insertCompositionText(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop(){let n=this.deleteByDragRange;var t;if(n)return this.deleteByDragRange=null,(t=this.delegate)===null||t===void 0||t.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.moveTextFromRange(n)})},insertFromPaste(){var n;let{dataTransfer:t}=this.event,e={dataTransfer:t},i=t.getData("URL"),r=t.getData("text/html");if(i){var s;let u;this.event.preventDefault(),e.type="text/html";let c=t.getData("public.url-name");u=c?nb(c).trim():i,e.html=this.createLinkHTML(i,u),(s=this.delegate)===null||s===void 0||s.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var d;return(d=this.responder)===null||d===void 0?void 0:d.insertHTML(e.html)}),this.afterRender=()=>{var d;return(d=this.delegate)===null||d===void 0?void 0:d.inputControllerDidPaste(e)}}else if(h_(t)){var o;e.type="text/plain",e.string=t.getData("text/plain"),(o=this.delegate)===null||o===void 0||o.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var u;return(u=this.responder)===null||u===void 0?void 0:u.insertString(e.string)}),this.afterRender=()=>{var u;return(u=this.delegate)===null||u===void 0?void 0:u.inputControllerDidPaste(e)}}else if(r){var a;this.event.preventDefault(),e.type="text/html",e.html=r,(a=this.delegate)===null||a===void 0||a.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var u;return(u=this.responder)===null||u===void 0?void 0:u.insertHTML(e.html)}),this.afterRender=()=>{var u;return(u=this.delegate)===null||u===void 0?void 0:u.inputControllerDidPaste(e)}}else if((n=t.files)!==null&&n!==void 0&&n.length){var l;e.type="File",e.file=t.files[0],(l=this.delegate)===null||l===void 0||l.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var u;return(u=this.responder)===null||u===void 0?void 0:u.insertFile(e.file)}),this.afterRender=()=>{var u;return(u=this.delegate)===null||u===void 0?void 0:u.inputControllerDidPaste(e)}}},insertFromYank(){return this.insertString(this.event.data)},insertLineBreak(){return this.insertString(`
`)},insertLink(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList(){return this.toggleAttributeIfSupported("number")},insertParagraph(){var n;return(n=this.delegate)===null||n===void 0||n.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.insertLineBreak()})},insertReplacementText(){let n=this.event.dataTransfer.getData("text/plain"),t=this.event.getTargetRanges()[0];this.withTargetDOMRange(t,()=>{this.insertString(n,{updatePosition:!1})})},insertText(){var n;return this.insertString(this.event.data||((n=this.event.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain")))},insertTranspose(){return this.insertString(this.event.data)},insertUnorderedList(){return this.toggleAttributeIfSupported("bullet")}});var KF=function(n){let t=document.createRange();return t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),t},Lv=n=>{var t;return Array.from(((t=n.dataTransfer)===null||t===void 0?void 0:t.types)||[]).includes("Files")},GF=function(n){let t=n.clipboardData;if(t)return t.types.includes("Files")&&t.types.length===1&&t.files.length>=1},XF=function(n){let t=n.clipboardData;if(t)return t.types.includes("text/plain")&&t.types.length===1},JF=function(n){let t=[];return n.altKey&&t.push("alt"),n.shiftKey&&t.push("shift"),t.push(n.key),t},Rv=n=>({x:n.clientX,y:n.clientY}),Yv="[data-trix-attribute]",Kv="[data-trix-action]",QF="".concat(Yv,", ").concat(Kv),fh="[data-trix-dialog]",ZF="".concat(fh,"[data-trix-active]"),tN="".concat(fh," [data-trix-method]"),n_="".concat(fh," [data-trix-input]"),i_=(n,t)=>(t||(t=Wo(n)),n.querySelector("[data-trix-input][name='".concat(t,"']"))),r_=n=>n.getAttribute("data-trix-action"),Wo=n=>n.getAttribute("data-trix-attribute")||n.getAttribute("data-trix-dialog-attribute"),ch=class extends Ve{constructor(t){super(t),this.didClickActionButton=this.didClickActionButton.bind(this),this.didClickAttributeButton=this.didClickAttributeButton.bind(this),this.didClickDialogButton=this.didClickDialogButton.bind(this),this.didKeyDownDialogInput=this.didKeyDownDialogInput.bind(this),this.element=t,this.attributes={},this.actions={},this.resetDialogInputs(),Ne("mousedown",{onElement:this.element,matchingSelector:Kv,withCallback:this.didClickActionButton}),Ne("mousedown",{onElement:this.element,matchingSelector:Yv,withCallback:this.didClickAttributeButton}),Ne("click",{onElement:this.element,matchingSelector:QF,preventDefault:!0}),Ne("click",{onElement:this.element,matchingSelector:tN,withCallback:this.didClickDialogButton}),Ne("keydown",{onElement:this.element,matchingSelector:n_,withCallback:this.didKeyDownDialogInput})}didClickActionButton(t,e){var i;(i=this.delegate)===null||i===void 0||i.toolbarDidClickButton(),t.preventDefault();let r=r_(e);return this.getDialog(r)?this.toggleDialog(r):(s=this.delegate)===null||s===void 0?void 0:s.toolbarDidInvokeAction(r,e);var s}didClickAttributeButton(t,e){var i;(i=this.delegate)===null||i===void 0||i.toolbarDidClickButton(),t.preventDefault();let r=Wo(e);var s;return this.getDialog(r)?this.toggleDialog(r):(s=this.delegate)===null||s===void 0||s.toolbarDidToggleAttribute(r),this.refreshAttributeButtons()}didClickDialogButton(t,e){let i=Fr(e,{matchingSelector:fh});return this[e.getAttribute("data-trix-method")].call(this,i)}didKeyDownDialogInput(t,e){if(t.keyCode===13){t.preventDefault();let i=e.getAttribute("name"),r=this.getDialog(i);this.setAttribute(r)}if(t.keyCode===27)return t.preventDefault(),this.hideDialog()}updateActions(t){return this.actions=t,this.refreshActionButtons()}refreshActionButtons(){return this.eachActionButton((t,e)=>{t.disabled=this.actions[e]===!1})}eachActionButton(t){return Array.from(this.element.querySelectorAll(Kv)).map(e=>t(e,r_(e)))}updateAttributes(t){return this.attributes=t,this.refreshAttributeButtons()}refreshAttributeButtons(){return this.eachAttributeButton((t,e)=>(t.disabled=this.attributes[e]===!1,this.attributes[e]||this.dialogIsVisible(e)?(t.setAttribute("data-trix-active",""),t.classList.add("trix-active")):(t.removeAttribute("data-trix-active"),t.classList.remove("trix-active"))))}eachAttributeButton(t){return Array.from(this.element.querySelectorAll(Yv)).map(e=>t(e,Wo(e)))}applyKeyboardCommand(t){let e=JSON.stringify(t.sort());for(let i of Array.from(this.element.querySelectorAll("[data-trix-key]"))){let r=i.getAttribute("data-trix-key").split("+");if(JSON.stringify(r.sort())===e)return Rl("mousedown",{onElement:i}),!0}return!1}dialogIsVisible(t){let e=this.getDialog(t);if(e)return e.hasAttribute("data-trix-active")}toggleDialog(t){return this.dialogIsVisible(t)?this.hideDialog():this.showDialog(t)}showDialog(t){var e,i;this.hideDialog(),(e=this.delegate)===null||e===void 0||e.toolbarWillShowDialog();let r=this.getDialog(t);r.setAttribute("data-trix-active",""),r.classList.add("trix-active"),Array.from(r.querySelectorAll("input[disabled]")).forEach(o=>{o.removeAttribute("disabled")});let s=Wo(r);if(s){let o=i_(r,t);o&&(o.value=this.attributes[s]||"",o.select())}return(i=this.delegate)===null||i===void 0?void 0:i.toolbarDidShowDialog(t)}setAttribute(t){let e=Wo(t),i=i_(t,e);return i.willValidate&&!i.checkValidity()?(i.setAttribute("data-trix-validate",""),i.classList.add("trix-validate"),i.focus()):((r=this.delegate)===null||r===void 0||r.toolbarDidUpdateAttribute(e,i.value),this.hideDialog());var r}removeAttribute(t){var e;let i=Wo(t);return(e=this.delegate)===null||e===void 0||e.toolbarDidRemoveAttribute(i),this.hideDialog()}hideDialog(){let t=this.element.querySelector(ZF);var e;if(t)return t.removeAttribute("data-trix-active"),t.classList.remove("trix-active"),this.resetDialogInputs(),(e=this.delegate)===null||e===void 0?void 0:e.toolbarDidHideDialog((i=>i.getAttribute("data-trix-dialog"))(t))}resetDialogInputs(){Array.from(this.element.querySelectorAll(n_)).forEach(t=>{t.setAttribute("disabled","disabled"),t.removeAttribute("data-trix-validate"),t.classList.remove("trix-validate")})}getDialog(t){return this.element.querySelector("[data-trix-dialog=".concat(t,"]"))}},Ls=class extends oh{constructor(t){let{editorElement:e,document:i,html:r}=t;super(...arguments),this.editorElement=e,this.selectionManager=new Zi(this.editorElement),this.selectionManager.delegate=this,this.composition=new Pi,this.composition.delegate=this,this.attachmentManager=new Qd(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=Qv.getLevel()===2?new Ps(this.editorElement):new hi(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new sh(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new ch(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new eh(this.composition,this.selectionManager,this.editorElement),i?this.editor.loadDocument(i):this.editor.loadHTML(r)}registerSelectionManager(){return Ns.registerSelectionManager(this.selectionManager)}unregisterSelectionManager(){return Ns.unregisterSelectionManager(this.selectionManager)}render(){return this.compositionController.render()}reparse(){return this.composition.replaceHTML(this.editorElement.innerHTML)}compositionDidChangeDocument(t){if(this.notifyEditorElement("document-change"),!this.handlingInput)return this.render()}compositionDidChangeCurrentAttributes(t){return this.currentAttributes=t,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})}compositionDidPerformInsertionAtRange(t){this.pasting&&(this.pastedRange=t)}compositionShouldAcceptFile(t){return this.notifyEditorElement("file-accept",{file:t})}compositionDidAddAttachment(t){let e=this.attachmentManager.manageAttachment(t);return this.notifyEditorElement("attachment-add",{attachment:e})}compositionDidEditAttachment(t){this.compositionController.rerenderViewForObject(t);let e=this.attachmentManager.manageAttachment(t);return this.notifyEditorElement("attachment-edit",{attachment:e}),this.notifyEditorElement("change")}compositionDidChangeAttachmentPreviewURL(t){return this.compositionController.invalidateViewForObject(t),this.notifyEditorElement("change")}compositionDidRemoveAttachment(t){let e=this.attachmentManager.unmanageAttachment(t);return this.notifyEditorElement("attachment-remove",{attachment:e})}compositionDidStartEditingAttachment(t,e){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(t),this.compositionController.installAttachmentEditorForAttachment(t,e),this.selectionManager.setLocationRange(this.attachmentLocationRange)}compositionDidStopEditingAttachment(t){this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null}compositionDidRequestChangingSelectionToLocationRange(t){if(!this.loadingSnapshot||this.isFocused())return this.requestedLocationRange=t,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()}compositionWillLoadSnapshot(){this.loadingSnapshot=!0}compositionDidLoadSnapshot(){this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1}getSelectionManager(){return this.selectionManager}attachmentManagerDidRequestRemovalOfAttachment(t){return this.removeAttachment(t)}compositionControllerWillSyncDocumentView(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()}compositionControllerDidSyncDocumentView(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")}compositionControllerDidRender(){this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision}compositionControllerDidFocus(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")}compositionControllerDidBlur(){return this.notifyEditorElement("blur")}compositionControllerDidSelectAttachment(t,e){return this.toolbarController.hideDialog(),this.composition.editAttachment(t,e)}compositionControllerDidRequestDeselectingAttachment(t){let e=this.attachmentLocationRange||this.composition.document.getLocationRangeOfAttachment(t);return this.selectionManager.setLocationRange(e[1])}compositionControllerWillUpdateAttachment(t){return this.editor.recordUndoEntry("Edit Attachment",{context:t.id,consolidatable:!0})}compositionControllerDidRequestRemovalOfAttachment(t){return this.removeAttachment(t)}inputControllerWillHandleInput(){this.handlingInput=!0,this.requestedRender=!1}inputControllerDidRequestRender(){this.requestedRender=!0}inputControllerDidHandleInput(){if(this.handlingInput=!1,this.requestedRender)return this.requestedRender=!1,this.render()}inputControllerDidAllowUnhandledInput(){return this.notifyEditorElement("change")}inputControllerDidRequestReparse(){return this.reparse()}inputControllerWillPerformTyping(){return this.recordTypingUndoEntry()}inputControllerWillPerformFormatting(t){return this.recordFormattingUndoEntry(t)}inputControllerWillCutText(){return this.editor.recordUndoEntry("Cut")}inputControllerWillPaste(t){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:t})}inputControllerDidPaste(t){return t.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:t})}inputControllerWillMoveText(){return this.editor.recordUndoEntry("Move")}inputControllerWillAttachFiles(){return this.editor.recordUndoEntry("Drop Files")}inputControllerWillPerformUndo(){return this.editor.undo()}inputControllerWillPerformRedo(){return this.editor.redo()}inputControllerDidReceiveKeyboardCommand(t){return this.toolbarController.applyKeyboardCommand(t)}inputControllerDidStartDrag(){this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()}inputControllerDidReceiveDragOverPoint(t){return this.selectionManager.setLocationRangeFromPointRange(t)}inputControllerDidCancelDrag(){this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null}locationRangeDidChange(t){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!Ud(this.attachmentLocationRange,t)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")}toolbarDidClickButton(){if(!this.getLocationRange())return this.setLocationRange({index:0,offset:0})}toolbarDidInvokeAction(t,e){return this.invokeAction(t,e)}toolbarDidToggleAttribute(t){if(this.recordFormattingUndoEntry(t),this.composition.toggleCurrentAttribute(t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidUpdateAttribute(t,e){if(this.recordFormattingUndoEntry(t),this.composition.setCurrentAttribute(t,e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidRemoveAttribute(t){if(this.recordFormattingUndoEntry(t),this.composition.removeCurrentAttribute(t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarWillShowDialog(t){return this.composition.expandSelectionForEditing(),this.freezeSelection()}toolbarDidShowDialog(t){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:t})}toolbarDidHideDialog(t){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:t})}freezeSelection(){if(!this.selectionFrozen)return this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render()}thawSelection(){if(this.selectionFrozen)return this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()}canInvokeAction(t){return!!this.actionIsExternal(t)||!((e=this.actions[t])===null||e===void 0||(e=e.test)===null||e===void 0||!e.call(this));var e}invokeAction(t,e){return this.actionIsExternal(t)?this.notifyEditorElement("action-invoke",{actionName:t,invokingElement:e}):(i=this.actions[t])===null||i===void 0||(i=i.perform)===null||i===void 0?void 0:i.call(this);var i}actionIsExternal(t){return/^x-./.test(t)}getCurrentActions(){let t={};for(let e in this.actions)t[e]=this.canInvokeAction(e);return t}updateCurrentActions(){let t=this.getCurrentActions();if(!Qo(t,this.currentActions))return this.currentActions=t,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions})}runEditorFilters(){let t=this.composition.getSnapshot();if(Array.from(this.editor.filters).forEach(r=>{let{document:s,selectedRange:o}=t;t=r.call(this.editor,t)||{},t.document||(t.document=s),t.selectedRange||(t.selectedRange=o)}),e=t,i=this.composition.getSnapshot(),!Ud(e.selectedRange,i.selectedRange)||!e.document.isEqualTo(i.document))return this.composition.loadSnapshot(t);var e,i}updateInputElement(){let t=function(e,i){let r=DF[i];if(r)return r(e);throw new Error("unknown content type: ".concat(i))}(this.compositionController.getSerializableElement(),"text/html");return this.editorElement.setInputElementValue(t)}notifyEditorElement(t,e){switch(t){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(t,e)}removeAttachment(t){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(t),this.render()}recordFormattingUndoEntry(t){let e=Ue(t),i=this.selectionManager.getLocationRange();if(e||!tr(i))return this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})}recordTypingUndoEntry(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})}getUndoContext(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return[this.getLocationContext(),this.getTimeContext(),...Array.from(e)]}getLocationContext(){let t=this.selectionManager.getLocationRange();return tr(t)?t[0].index:t}getTimeContext(){return Iv.interval>0?Math.floor(new Date().getTime()/Iv.interval):0}isFocused(){var t;return this.editorElement===((t=this.editorElement.ownerDocument)===null||t===void 0?void 0:t.activeElement)}isFocusedInvisibly(){return this.isFocused()&&!this.getLocationRange()}get actions(){return this.constructor.actions}};Vn(Ls,"actions",{undo:{test(){return this.editor.canUndo()},perform(){return this.editor.undo()}},redo:{test(){return this.editor.canRedo()},perform(){return this.editor.redo()}},link:{test(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test(){return this.editor.canIncreaseNestingLevel()},perform(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test(){return this.editor.canDecreaseNestingLevel()},perform(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:()=>!0,perform(){return Qv.pickFiles(this.editor.insertFiles)}}}),Ls.proxyMethod("getSelectionManager().setLocationRange"),Ls.proxyMethod("getSelectionManager().getLocationRange");var eN=Object.freeze({__proto__:null,AttachmentEditorController:rh,CompositionController:sh,Controller:oh,EditorController:Ls,InputController:Jo,Level0InputController:hi,Level2InputController:Ps,ToolbarController:ch}),nN=Object.freeze({__proto__:null,MutationObserver:ah,SelectionChangeObserver:qd}),iN=Object.freeze({__proto__:null,FileVerificationOperation:lh,ImagePreloadOperation:Jd});d_("trix-toolbar",`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`);var uh=class extends HTMLElement{connectedCallback(){this.innerHTML===""&&(this.innerHTML=u_.getDefaultHTML())}},rN=0,sN=function(n){if(!n.hasAttribute("contenteditable"))return n.setAttribute("contenteditable",""),function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.times=1,Ne(t,e)}("focus",{onElement:n,withCallback:()=>oN(n)})},oN=function(n){return aN(n),lN(n)},aN=function(n){var t,e;if((t=(e=document).queryCommandSupported)!==null&&t!==void 0&&t.call(e,"enableObjectResizing"))return document.execCommand("enableObjectResizing",!1,!1),Ne("mscontrolselect",{onElement:n,preventDefault:!0})},lN=function(n){var t,e;if((t=(e=document).queryCommandSupported)!==null&&t!==void 0&&t.call(e,"DefaultParagraphSeparator")){let{tagName:i}=Cn.default;if(["div","p"].includes(i))return document.execCommand("DefaultParagraphSeparator",!1,i)}},s_=Wl.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"};d_("trix-editor",`%t {
    display: block;
}

%t:empty:not(:focus)::before {
    content: attr(placeholder);
    color: graytext;
    cursor: text;
    pointer-events: none;
    white-space: pre-line;
}

%t a[contenteditable=false] {
    cursor: text;
}

%t img {
    max-width: 100%;
    height: auto;
}

%t `.concat(Ds,` figcaption textarea {
    resize: none;
}

%t `).concat(Ds,` figcaption textarea.trix-autoresize-clone {
    position: absolute;
    left: -9999px;
    max-height: 0px;
}

%t `).concat(Ds,` figcaption[data-trix-placeholder]:empty::before {
    content: attr(data-trix-placeholder);
    color: graytext;
}

%t [data-trix-cursor-target] {
    display: `).concat(s_.display,` !important;
    width: `).concat(s_.width,` !important;
    padding: 0 !important;
    margin: 0 !important;
    border: none !important;
}

%t [data-trix-cursor-target=left] {
    vertical-align: top !important;
    margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
    vertical-align: bottom !important;
    margin-right: -1px !important;
}`));var dh=class extends HTMLElement{get trixId(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++rN),this.trixId)}get labels(){let t=[];this.id&&this.ownerDocument&&t.push(...Array.from(this.ownerDocument.querySelectorAll("label[for='".concat(this.id,"']"))||[]));let e=Fr(this,{matchingSelector:"label"});return e&&[this,null].includes(e.control)&&t.push(e),t}get toolbarElement(){var t;if(this.hasAttribute("toolbar"))return(t=this.ownerDocument)===null||t===void 0?void 0:t.getElementById(this.getAttribute("toolbar"));if(this.parentNode){let e="trix-toolbar-".concat(this.trixId);this.setAttribute("toolbar",e);let i=Gt("trix-toolbar",{id:e});return this.parentNode.insertBefore(i,this),i}}get form(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.form}get inputElement(){var t;if(this.hasAttribute("input"))return(t=this.ownerDocument)===null||t===void 0?void 0:t.getElementById(this.getAttribute("input"));if(this.parentNode){let e="trix-input-".concat(this.trixId);this.setAttribute("input",e);let i=Gt("input",{type:"hidden",id:e});return this.parentNode.insertBefore(i,this.nextElementSibling),i}}get editor(){var t;return(t=this.editorController)===null||t===void 0?void 0:t.editor}get name(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.name}get value(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.value}set value(t){var e;this.defaultValue=t,(e=this.editor)===null||e===void 0||e.loadHTML(this.defaultValue)}notify(t,e){if(this.editorController)return Rl("trix-".concat(t),{onElement:this,attributes:e})}setInputElementValue(t){this.inputElement&&(this.inputElement.value=t)}connectedCallback(){this.hasAttribute("data-trix-internal")||(sN(this),function(t){t.hasAttribute("role")||t.setAttribute("role","textbox")}(this),function(t){if(t.hasAttribute("aria-label")||t.hasAttribute("aria-labelledby"))return;let e=function(){let i=Array.from(t.labels).map(s=>{if(!s.contains(t))return s.textContent}).filter(s=>s),r=i.join(" ");return r?t.setAttribute("aria-label",r):t.removeAttribute("aria-label")};e(),Ne("focus",{onElement:t,withCallback:e})}(this),this.editorController||(Rl("trix-before-initialize",{onElement:this}),this.editorController=new Ls({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(()=>Rl("trix-initialize",{onElement:this}))),this.editorController.registerSelectionManager(),this.registerResetListener(),this.registerClickListener(),function(t){!document.querySelector(":focus")&&t.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===t&&t.focus()}(this))}disconnectedCallback(){var t;return(t=this.editorController)===null||t===void 0||t.unregisterSelectionManager(),this.unregisterResetListener(),this.unregisterClickListener()}registerResetListener(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)}unregisterResetListener(){return window.removeEventListener("reset",this.resetListener,!1)}registerClickListener(){return this.clickListener=this.clickBubbled.bind(this),window.addEventListener("click",this.clickListener,!1)}unregisterClickListener(){return window.removeEventListener("click",this.clickListener,!1)}resetBubbled(t){if(!t.defaultPrevented&&t.target===this.form)return this.reset()}clickBubbled(t){if(t.defaultPrevented||this.contains(t.target))return;let e=Fr(t.target,{matchingSelector:"label"});return e&&Array.from(this.labels).includes(e)?this.focus():void 0}reset(){this.value=this.defaultValue}},js={VERSION:$I,config:zl,core:MF,models:x_,views:FF,controllers:eN,observers:nN,operations:iN,elements:Object.freeze({__proto__:null,TrixEditorElement:dh,TrixToolbarElement:uh}),filters:Object.freeze({__proto__:null,Filter:th,attachmentGalleryFilter:y_})};Object.assign(js,x_),window.Trix=js,setTimeout(function(){customElements.get("trix-toolbar")||customElements.define("trix-toolbar",uh),customElements.get("trix-editor")||customElements.define("trix-editor",dh)},0);var ib=class extends gt{static targets=["field"];static values={url:{type:String,default:"/users/mentions.json"}};connect(){this.initializeTribute()}initializeTribute(){this.tribute=new __.default({allowSpaces:!0,lookup:"name",values:(n,t)=>{fetch(`${this.urlValue}?query=${n}`).then(e=>e.json()).then(e=>t(e)).catch(e=>t([]))},menuShowMinLength:1}),this.tribute.attach(this.fieldTarget),this.fieldTarget.addEventListener("tribute-replaced",this.replaced.bind(this)),this.tribute.range.pasteHtml=this._pasteHtml.bind(this)}disconnect(){this.tribute.detach(this.fieldTarget)}replaced(n){let t=n.detail.item.original,e=new js.Attachment({content:t.content,sgid:t.sgid});this.editor.insertAttachment(e),this.editor.insertString(" ")}_pasteHtml(n,t,e){let r=this.editor.getSelectedRange()[0],s=e-t;this.editor.setSelectedRange([r-s,r]),this.editor.deleteInDirection("backward")}get editor(){return this.fieldTarget.editor}};var ob={};de(ob,{default:()=>sb});var sb=class extends gt{static targets=["badge","list","placeholder","notification"];static values={accountId:String,accountUnread:Number,totalUnread:Number};connect(){this.subscription=sl.subscriptions.create({channel:"Noticed::NotificationChannel"},{connected:this._connected.bind(this),disconnected:this._disconnected.bind(this),received:this._received.bind(this)}),this.hasUnread()&&this.showUnreadBadge()}disconnect(){this.subscription.unsubscribe()}_connected(){}_disconnected(){}_received(n){this.totalUnreadValue+=1,n.account_id&&n.account_id==this.accountIdValue&&(this.accountUnreadValue+=1),!(n.account_id&&n.account_id!=this.accountIdValue)&&(n.html&&(this.listTarget.insertAdjacentHTML("afterbegin",n.html),this.showUnreadBadge()),n.browser&&this.checkPermissionAndNotify(n.browser))}open(){this.hideUnreadBadge(),this.markAllAsSeen()}hasUnread(){return!!this.accountUnreadValue}showUnreadBadge(){this.badgeTarget?.classList?.remove("hidden")}hideUnreadBadge(){this.badgeTarget?.classList?.add("hidden")}markAllAsSeen(){let n=this.notificationTargets.map(t=>t.dataset.id);this.subscription.perform("mark_as_seen",{ids:n}),this.accountUnreadValue=0,this.totalUnreadValue-=n.length}markAsRead(n){let t=n.currentTarget.dataset.id;t!=null&&this.subscription.perform("mark_as_read",{ids:[t]})}checkPermissionAndNotify(n){"Notification"in window&&(Notification.permission==="granted"?this.browserNotification(n):Notification.permission!=="denied"&&Notification.requestPermission().then(t=>{t==="granted"&&this.browserNotification(n)}))}browserNotification(n){new Notification(n.title,n.options)}totalUnreadValueChanged(){this.syncCountToNative()}accountUnreadValueChanged(){this.syncCountToNative()}syncCountToNative(){window.TurboNativeBridge.setNotificationCount(this.totalUnreadValue,this.accountUnreadValue)}};var lb={};de(lb,{default:()=>ab});var ab=class extends gt{static targets=["form"];static values={class:{type:String,default:"paddle-billing-checkout"},customData:String,environment:{type:String,default:"production"},email:String,transactionId:String,items:Array,clientToken:String,displayMode:{type:String,default:"inline"}};async connect(){await this.addScript("https://cdn.paddle.com/paddle/v2/paddle.js"),this.element.classList.add(this.classValue),Paddle.Environment.set(this.environmentValue),Paddle.Setup({token:this.clientTokenValue,eventCallback:this.callback.bind(this),checkout:{settings:this.settings}}),(this.itemsValue.length>0||this.transactionId)&&this.open()}disconnect(){delete window.Paddle}open(){Paddle.Checkout.open({customer:{email:this.emailValue},customData:this.customDataValue,items:this.itemsValue})}callback(n){let t=n.data?.recurring_totals;t&&(document.getElementById("recurringTotal").innerHTML=`${t.total} ${n.data.currency_code}`),n.name=="checkout.completed"&&Turbo.visit(`/subscriptions/paddle_billing?user_id=${n.data.customer.id}&transaction_id=${n.data.transaction_id}`)}get settings(){return{allowLogout:!1,displayMode:this.displayModeValue,theme:this.theme,frameTarget:this.classValue,frameInitialHeight:450,frameStyle:"width:100%; background-color: transparent; border: none;"}}get theme(){return document.documentElement.classList.contains("dark")?"dark":"light"}addScript(n){return new Promise((t,e)=>{let i=document.createElement("script");i.setAttribute("src",n),i.addEventListener("load",t),i.addEventListener("error",e),document.body.appendChild(i)})}};var ub={};de(ub,{default:()=>cb});var cb=class extends gt{static targets=["form"];static values={class:"paddle-classic-checkout",email:String,environment:{type:String,default:"production"},override:String,passthrough:String,product:String,redirectUrl:String,vendorId:Number};async connect(){await this.addScript("https://cdn.paddle.com/paddle/paddle.js"),this.element.classList.add(this.classValue),Paddle.Environment.set(this.environmentValue),Paddle.Setup({vendor:this.vendorIdValue,eventCallback:this.callback.bind(this)}),(this.overrideValue||this.productValue)&&this.open()}disconnect(){delete window.Paddle}open(){Paddle.Checkout.open({...this.params,product:this.productValue,email:this.emailValue,passthrough:this.passthroughValue,override:this.overrideValue})}checkoutComplete(n){Paddle.Order.details(n.checkout.id,t=>{Turbo.visit(`/subscriptions/paddle_classic?user_id=${n.user.id}&subscription_id=${t.order.subscription_id}`)})}callback(n){let t=n.eventData.checkout?.recurring_prices?.customer;t&&(document.getElementById("recurringTotal").innerHTML=`${t.total} ${t.currency}`)}get params(){return{method:"inline",allowQuantity:!1,disableLogout:!0,frameTarget:this.classValue,frameInitialHeight:450,frameStyle:"width:100%; background-color: transparent; border: none;",successCallback:this.checkoutComplete.bind(this),displayModeTheme:this.theme}}get theme(){return document.documentElement.classList.contains("dark")?"dark":"light"}addScript(n){return new Promise((t,e)=>{let i=document.createElement("script");i.setAttribute("src",n),i.addEventListener("load",t),i.addEventListener("error",e),document.body.appendChild(i)})}};var hb={};de(hb,{default:()=>db});var db=class extends gt{static targets=["toggle","group","plans"];static values={group:String};static classes=["activeGroup","inactiveGroup","activePlans","inactivePlans","hiddenToggle"];connect(){this.removeEmptyGroups(),this.defaultGroup()}switch(n){this.groupValue=n.target.dataset.group}removeEmptyGroups(){this.groupTargets.forEach(n=>{let t=n.dataset.group;this.plansTargets.findIndex(i=>i.dataset.group==t&&i.childElementCount>0)==-1&&n.remove()}),this.hiddenToggleClasses.forEach(n=>{this.toggleTarget.classList.toggle(n,this.groupTargets.length<2)})}defaultGroup(){this.hasGroupValue||(this.groupValue=this.groupTargets[0].dataset.group)}groupValueChanged(){this.groupTargets.forEach(n=>{n.dataset.group==this.groupValue?this.showGroup(n):this.hideGroup(n)}),this.plansTargets.forEach(n=>{n.dataset.group==this.groupValue?this.showPlans(n):this.hidePlans(n)})}showGroup(n){n.classList.add(...this.activeGroupClasses),n.classList.remove(...this.inactiveGroupClasses)}hideGroup(n){n.classList.remove(...this.activeGroupClasses),n.classList.add(...this.inactiveGroupClasses)}showPlans(n){n.classList.add(...this.activePlansClasses),n.classList.remove(...this.inactivePlansClasses)}hidePlans(n){n.classList.remove(...this.activePlansClasses),n.classList.add(...this.inactivePlansClasses)}};var pb={};de(pb,{default:()=>fb});var fb=class extends gt{static values={siteKey:String};initialize(){grecaptcha.render("recaptchaV2",{sitekey:this.siteKeyValue})}};var wb={};de(wb,{default:()=>yb});var Ul=class{constructor(t){this.response=t}get statusCode(){return this.response.status}get redirected(){return this.response.redirected}get ok(){return this.response.ok}get unauthenticated(){return this.statusCode===401}get unprocessableEntity(){return this.statusCode===422}get authenticationURL(){return this.response.headers.get("WWW-Authenticate")}get contentType(){return(this.response.headers.get("Content-Type")||"").replace(/;.*$/,"")}get headers(){return this.response.headers}get html(){return this.contentType.match(/^(application|text)\/(html|xhtml\+xml)$/)?this.text:Promise.reject(new Error(`Expected an HTML response but got "${this.contentType}" instead`))}get json(){return this.contentType.match(/^application\/.*json$/)?this.responseJson||(this.responseJson=this.response.json()):Promise.reject(new Error(`Expected a JSON response but got "${this.contentType}" instead`))}get text(){return this.responseText||(this.responseText=this.response.text())}get isTurboStream(){return this.contentType.match(/^text\/vnd\.turbo-stream\.html/)}async renderTurboStream(){if(this.isTurboStream)window.Turbo?await window.Turbo.renderStreamMessage(await this.text):console.warn("You must set `window.Turbo = Turbo` to automatically process Turbo Stream events with request.js");else return Promise.reject(new Error(`Expected a Turbo Stream response but got "${this.contentType}" instead`))}};var ql=class{static register(t){this.interceptor=t}static get(){return this.interceptor}static reset(){this.interceptor=void 0}};function C_(n){let t=document.cookie?document.cookie.split("; "):[],e=`${encodeURIComponent(n)}=`,i=t.find(r=>r.startsWith(e));if(i){let r=i.split("=").slice(1).join("=");if(r)return decodeURIComponent(r)}}function E_(n){let t={};for(let e in n){let i=n[e];i!==void 0&&(t[e]=i)}return t}function mb(n){let t=document.head.querySelector(`meta[name="${n}"]`);return t&&t.content}function k_(n){return[...n].reduce((t,[e,i])=>t.concat(typeof i=="string"?[[e,i]]:[]),[])}function T_(n,t){for(let[e,i]of t)i instanceof window.File||(n.has(e)&&!e.includes("[]")?(n.delete(e),n.set(e,i)):n.append(e,i))}var $s=class{constructor(t,e,i={}){this.method=t,this.options=i,this.originalUrl=e.toString()}async perform(){try{let i=ql.get();i&&await i(this)}catch(i){console.error(i)}let t=new Ul(await window.fetch(this.url,this.fetchOptions));return t.unauthenticated&&t.authenticationURL?Promise.reject(window.location.href=t.authenticationURL):((t.ok||t.unprocessableEntity)&&t.isTurboStream&&await t.renderTurboStream(),t)}addHeader(t,e){let i=this.additionalHeaders;i[t]=e,this.options.headers=i}sameHostname(){if(!this.originalUrl.startsWith("http:"))return!0;try{return new URL(this.originalUrl).hostname===window.location.hostname}catch{return!0}}get fetchOptions(){return{method:this.method.toUpperCase(),headers:this.headers,body:this.formattedBody,signal:this.signal,credentials:this.credentials,redirect:this.redirect}}get headers(){let t={"X-Requested-With":"XMLHttpRequest","Content-Type":this.contentType,Accept:this.accept};return this.sameHostname()&&(t["X-CSRF-Token"]=this.csrfToken),E_(Object.assign(t,this.additionalHeaders))}get csrfToken(){return C_(mb("csrf-param"))||mb("csrf-token")}get contentType(){return this.options.contentType?this.options.contentType:this.body==null||this.body instanceof window.FormData?void 0:this.body instanceof window.File?this.body.type:"application/json"}get accept(){switch(this.responseKind){case"html":return"text/html, application/xhtml+xml";case"turbo-stream":return"text/vnd.turbo-stream.html, text/html, application/xhtml+xml";case"json":return"application/json, application/vnd.api+json";default:return"*/*"}}get body(){return this.options.body}get query(){let t=(this.originalUrl.split("?")[1]||"").split("#")[0],e=new URLSearchParams(t),i=this.options.query;i instanceof window.FormData?i=k_(i):i instanceof window.URLSearchParams?i=i.entries():i=Object.entries(i||{}),T_(e,i);let r=e.toString();return r.length>0?`?${r}`:""}get url(){return this.originalUrl.split("?")[0].split("#")[0]+this.query}get responseKind(){return this.options.responseKind||"html"}get signal(){return this.options.signal}get redirect(){return this.options.redirect||"follow"}get credentials(){return this.options.credentials||"same-origin"}get additionalHeaders(){return this.options.headers||{}}get formattedBody(){let t=Object.prototype.toString.call(this.body)==="[object String]";return this.headers["Content-Type"]==="application/json"&&!t?JSON.stringify(this.body):this.body}};async function Hs(n,t){return new $s("get",n,t).perform()}async function gb(n,t){return new $s("post",n,t).perform()}async function Yl(n,t){return new $s("patch",n,t).perform()}var cN=(n,t,e)=>{let i=n;return e===!0?i=`${t.identifier}:${n}`:typeof e=="string"&&(i=`${e}:${n}`),i},uN=(n,t,e)=>{let{bubbles:i,cancelable:r,composed:s}=t||{bubbles:!0,cancelable:!0,composed:!0};return t&&Object.assign(e,{originalEvent:t}),new CustomEvent(n,{bubbles:i,cancelable:r,composed:s,detail:e})};function dN(n){let t=n.getBoundingClientRect(),e=window.innerHeight||document.documentElement.clientHeight,i=window.innerWidth||document.documentElement.clientWidth,r=t.top<=e&&t.top+t.height>0,s=t.left<=i&&t.left+t.width>0;return r&&s}var hN={events:["click","touchend"],onlyVisible:!0,dispatchEvent:!0,eventPrefix:!0},O_=(n,t={})=>{let e=n,{onlyVisible:i,dispatchEvent:r,events:s,eventPrefix:o}=Object.assign({},hN,t),a=d=>{let h=t?.element||e.element;if(!(h.contains(d.target)||!dN(h)&&i)&&(e.clickOutside&&e.clickOutside(d),r)){let m=cN("click:outside",e,o),v=uN(m,d,{controller:e});h.dispatchEvent(v)}},l=()=>{s?.forEach(d=>{window.addEventListener(d,a,!0)})},u=()=>{s?.forEach(d=>{window.removeEventListener(d,a,!0)})},c=e.disconnect.bind(e);return Object.assign(e,{disconnect(){u(),c()}}),l(),[l,u]};var vb=class extends gt{};vb.debounces=[];var bb=class extends gt{};bb.throttles=[];var yb=class extends gt{static targets=["dropdown","selectedOption","librarySelect","languageSelect","codeExample"];static values={active:String,languages:Object,language:String,library:String,params:Object,endpoint:String};connect(){O_(this),this.languages=this.languagesValue,this.activeLanguage=this.languageValue,this.activeLibrary=this.libraryValue,this.activeValueClasses=(this.activeValue||"active").split(" "),this.languageSelectTarget.id=Math.random().toString(36),this.librarySelectTarget.id=Math.random().toString(36),this.codeExampleTarget.id=Math.random().toString(36)}toggle(n){n.preventDefault();let t=n.currentTarget.dataset.id;this.dropdownTargets.forEach(e=>{e.dataset.id===t?e.classList.toggle("hidden"):e.classList.add("hidden")})}clickOutside(n){this.dropdownTargets.forEach(t=>{t.classList.add("hidden")})}selectLanguage(n){n.preventDefault();let t=this.librarySelectTarget.id,e=n.currentTarget.innerText;this.activeLanguage=e,this.updateCodeExample(e,Object.keys(this.languages[e])[0],t),this.selectedOptionTargets.forEach(i=>{i.dataset.id==="language-dropdown"&&(i.innerText=e)}),this.dropdownTargets.forEach(i=>{i.dataset.id==="language-dropdown"&&i.querySelectorAll("li").forEach(r=>{r.innerText.trim()===e?r.classList.add(...this.activeValueClasses):r.classList.remove(...this.activeValueClasses)}),i.classList.add("hidden")})}selectLibrary(n){n.preventDefault();let t=n.currentTarget.innerText;this.activeLibrary=t,this.updateCodeExample(this.activeLanguage,t),this.selectedOptionTargets.forEach(e=>{e.dataset.id==="library-dropdown"&&(e.innerText=t)}),this.dropdownTargets.forEach(e=>{e.dataset.id==="library-dropdown"&&e.querySelectorAll("li").forEach(i=>{i.innerText.trim()===t?i.classList.add(...this.activeValueClasses):i.classList.remove(...this.activeValueClasses)}),e.classList.add("hidden")})}updateCodeExample(n,t,e=null){let i=this.codeExampleTarget.id;Hs("/docs/code-examples",{responseKind:"turbo-stream",query:{code_target:i,library_target:e,params:JSON.stringify(this.paramsValue),endpoint:this.endpointValue,language:n,library:t}})}};var Ab={};de(Ab,{default:()=>xb});var xb=class extends gt{connect(){Rewardful.Forms.attach()}};var kb={};de(kb,{default:()=>Eb});var D_=vi(Cb()),Eb=class extends gt{static values={url:String,valueField:{type:String,default:"value"},labelField:{type:String,default:"label"},submitOnChange:!1};connect(){let n={};this.hasUrlValue&&(n.valueField=this.valueFieldValue,n.labelField=this.labelFieldValue,n.searchField=this.labelFieldValue,n.load=this.load.bind(this)),this.submitOnChangeValue&&(n.onChange=this.submitOnChange.bind(this)),this.select=new D_.default(this.element,n)}disconnect(){this.select.destroy()}async load(n,t){let e=await Hs(`${this.urlValue}?query=${n}`);if(e.ok){let i=await e.json;t(i)}else t()}submitOnChange(n){n&&(this.element.form.requestSubmit(),this.select.clear(!0))}};var Ob={};de(Ob,{default:()=>Tb});var Tb=class extends gt{static values={publicKey:String,clientSecret:String};async connect(){this.stripe=Stripe(this.publicKeyValue),this.checkout=await this.stripe.initEmbeddedCheckout({clientSecret:this.clientSecretValue}),this.checkout.mount(this.element)}disconnect(){this.checkout.destroy()}};var Mb={};de(Mb,{default:()=>Db});var Db=class extends gt{static targets=["addressElement","paymentElement","error","form","default"];static values={default:{type:Boolean,default:!0},publicKey:String,clientSecret:String,returnUrl:String,name:String};connect(){console.log(this.returnUrl),this.initializePaymentElement()}initializePaymentElement(){this.stripe=Stripe(this.publicKeyValue),this.elements=this.stripe.elements({appearance:{theme:this.theme,variables:{fontSizeBase:"14px"}},clientSecret:this.clientSecretValue}),this.paymentElement=this.elements.create("payment"),this.paymentElement.mount(this.paymentElementTarget),this.hasAddressElementTarget&&(this.addressElement=this.elements.create("address",{mode:"billing",defaultValues:{name:this.nameValue}}),this.addressElement.mount(this.addressElementTarget))}changed(n){this.errorTarget.textContent=n.error?.message||""}defaultChanged(n){this.defaultValue=n.currentTarget.checked}async submit(n){n.preventDefault();let t={elements:this.elements,confirmParams:{return_url:this.returnUrlValue}};if(this.clientSecretValue.startsWith("pi_")){let{error:e}=await this.stripe.confirmPayment(t);this.showError(e)}else{let{error:e}=await this.stripe.confirmSetup(t);this.showError(e)}}showError(n){this.errorTarget.textContent=n.message}get theme(){return document.documentElement.classList.contains("dark")?"night":"stripe"}};var Pb={};de(Pb,{default:()=>mh});var P_=vi(M_());Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}};Prism.languages.webmanifest=Prism.languages.json;(function(n){n.languages.ruby=n.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),n.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var t={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:n.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete n.languages.ruby.function;var e="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",i=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;n.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+e+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+i),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+i+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),n.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+e),greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+e),greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete n.languages.ruby.string,n.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),n.languages.rb=n.languages.ruby})(Prism);(function(n){var t="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",e={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},i={bash:e,environment:{pattern:RegExp("\\$"+t),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+t),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};n.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+t),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:i},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:e}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:i},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:i.entity}}],environment:{pattern:RegExp("\\$?"+t),alias:"constant"},variable:i.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},e.inside=n.languages.bash;for(var r=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],s=i.variable[1].inside,o=0;o<r.length;o++)s[r[o]]=n.languages.bash[r[o]];n.languages.sh=n.languages.bash,n.languages.shell=n.languages.bash})(Prism);(function(n){function t(u){return RegExp("(^(?:"+u+"):[ 	]*(?![ 	]))[^]+","i")}n.languages.http={"request-line":{pattern:/^(?:CONNECT|DELETE|GET|HEAD|OPTIONS|PATCH|POST|PRI|PUT|SEARCH|TRACE)\s(?:https?:\/\/|\/)\S*\sHTTP\/[\d.]+/m,inside:{method:{pattern:/^[A-Z]+\b/,alias:"property"},"request-target":{pattern:/^(\s)(?:https?:\/\/|\/)\S*(?=\s)/,lookbehind:!0,alias:"url",inside:n.languages.uri},"http-version":{pattern:/^(\s)HTTP\/[\d.]+/,lookbehind:!0,alias:"property"}}},"response-status":{pattern:/^HTTP\/[\d.]+ \d+ .+/m,inside:{"http-version":{pattern:/^HTTP\/[\d.]+/,alias:"property"},"status-code":{pattern:/^(\s)\d+(?=\s)/,lookbehind:!0,alias:"number"},"reason-phrase":{pattern:/^(\s).+/,lookbehind:!0,alias:"string"}}},header:{pattern:/^[\w-]+:.+(?:(?:\r\n?|\n)[ \t].+)*/m,inside:{"header-value":[{pattern:t(/Content-Security-Policy/.source),lookbehind:!0,alias:["csp","languages-csp"],inside:n.languages.csp},{pattern:t(/Public-Key-Pins(?:-Report-Only)?/.source),lookbehind:!0,alias:["hpkp","languages-hpkp"],inside:n.languages.hpkp},{pattern:t(/Strict-Transport-Security/.source),lookbehind:!0,alias:["hsts","languages-hsts"],inside:n.languages.hsts},{pattern:t(/[^:]+/.source),lookbehind:!0}],"header-name":{pattern:/^[^:]+/,alias:"keyword"},punctuation:/^:/}}};var e=n.languages,i={"application/javascript":e.javascript,"application/json":e.json||e.javascript,"application/xml":e.xml,"text/xml":e.xml,"text/html":e.html,"text/css":e.css,"text/plain":e.plain},r={"application/json":!0,"application/xml":!0};function s(u){var c=u.replace(/^[a-z]+\//,""),d="\\w+/(?:[\\w.-]+\\+)+"+c+"(?![+\\w.-])";return"(?:"+u+"|"+d+")"}var o;for(var a in i)if(i[a]){o=o||{};var l=r[a]?s(a):a;o[a.replace(/\//g,"-")]={pattern:RegExp("("+/content-type:\s*/.source+l+/(?:(?:\r\n?|\n)[\w-].*)*(?:\r(?:\n|(?!\n))|\n)/.source+")"+/[^ \t\w-][\s\S]*/.source,"i"),lookbehind:!0,inside:i[a]}}o&&n.languages.insertBefore("http","header",o)})(Prism);Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/};Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python;Prism.languages.py=Prism.languages.python;(function(n){function t(e,i){return"___"+e.toUpperCase()+i+"___"}Object.defineProperties(n.languages["markup-templating"]={},{buildPlaceholders:{value:function(e,i,r,s){if(e.language===i){var o=e.tokenStack=[];e.code=e.code.replace(r,function(a){if(typeof s=="function"&&!s(a))return a;for(var l=o.length,u;e.code.indexOf(u=t(i,l))!==-1;)++l;return o[l]=a,u}),e.grammar=n.languages.markup}}},tokenizePlaceholders:{value:function(e,i){if(e.language!==i||!e.tokenStack)return;e.grammar=n.languages[i];var r=0,s=Object.keys(e.tokenStack);function o(a){for(var l=0;l<a.length&&!(r>=s.length);l++){var u=a[l];if(typeof u=="string"||u.content&&typeof u.content=="string"){var c=s[r],d=e.tokenStack[c],h=typeof u=="string"?u:u.content,m=t(i,c),v=h.indexOf(m);if(v>-1){++r;var g=h.substring(0,v),y=new n.Token(i,n.tokenize(d,e.grammar),"language-"+i,d),x=h.substring(v+m.length),A=[];g&&A.push.apply(A,o([g])),A.push(y),x&&A.push.apply(A,o([x])),typeof u=="string"?a.splice.apply(a,[l,1].concat(A)):u.content=A}}else u.content&&o(u.content)}return a}o(e.tokens)}}})})(Prism);(function(n){var t=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,e=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],i=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,r=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,s=/[{}\[\](),:;]/;n.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:t,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:e,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:i,operator:r,punctuation:s};var o={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:n.languages.php},a=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:o}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:o}}];n.languages.insertBefore("php","variable",{string:a,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:t,string:a,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:e,number:i,operator:r,punctuation:s}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),n.hooks.add("before-tokenize",function(l){if(/<\?/.test(l.code)){var u=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;n.languages["markup-templating"].buildPlaceholders(l,"php",u)}}),n.hooks.add("after-tokenize",function(l){n.languages["markup-templating"].tokenizePlaceholders(l,"php")})})(Prism);(function(n){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,e=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,i={pattern:RegExp(/(^|[^\w.])/.source+e+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};n.languages.java=n.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[i,{pattern:RegExp(/(^|[^\w.])/.source+e+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:i.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+e+/[A-Z]\w*\b/.source),lookbehind:!0,inside:i.inside}],keyword:t,function:[n.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),n.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),n.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":i,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+e+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:i.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+e+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:i.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(Prism);(function(n){n.languages.kotlin=n.languages.extend("clike",{keyword:{pattern:/(^|[^.])\b(?:abstract|actual|annotation|as|break|by|catch|class|companion|const|constructor|continue|crossinline|data|do|dynamic|else|enum|expect|external|final|finally|for|fun|get|if|import|in|infix|init|inline|inner|interface|internal|is|lateinit|noinline|null|object|open|operator|out|override|package|private|protected|public|reified|return|sealed|set|super|suspend|tailrec|this|throw|to|try|typealias|val|var|vararg|when|where|while)\b/,lookbehind:!0},function:[{pattern:/(?:`[^\r\n`]+`|\b\w+)(?=\s*\()/,greedy:!0},{pattern:/(\.)(?:`[^\r\n`]+`|\w+)(?=\s*\{)/,lookbehind:!0,greedy:!0}],number:/\b(?:0[xX][\da-fA-F]+(?:_[\da-fA-F]+)*|0[bB][01]+(?:_[01]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?[fFL]?)\b/,operator:/\+[+=]?|-[-=>]?|==?=?|!(?:!|==?)?|[\/*%<>]=?|[?:]:?|\.\.|&&|\|\||\b(?:and|inv|or|shl|shr|ushr|xor)\b/}),delete n.languages.kotlin["class-name"];var t={"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:n.languages.kotlin}};n.languages.insertBefore("kotlin","string",{"string-literal":[{pattern:/"""(?:[^$]|\$(?:(?!\{)|\{[^{}]*\}))*?"""/,alias:"multiline",inside:{interpolation:{pattern:/\$(?:[a-z_]\w*|\{[^{}]*\})/i,inside:t},string:/[\s\S]+/}},{pattern:/"(?:[^"\\\r\n$]|\\.|\$(?:(?!\{)|\{[^{}]*\}))*"/,alias:"singleline",inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:[a-z_]\w*|\{[^{}]*\})/i,lookbehind:!0,inside:t},string:/[\s\S]+/}}],char:{pattern:/'(?:[^'\\\r\n]|\\(?:.|u[a-fA-F0-9]{0,4}))'/,greedy:!0}}),delete n.languages.kotlin.string,n.languages.insertBefore("kotlin","keyword",{annotation:{pattern:/\B@(?:\w+:)?(?:[A-Z]\w*|\[[^\]]+\])/,alias:"builtin"}}),n.languages.insertBefore("kotlin","function",{label:{pattern:/\b\w+@|@\w+\b/,alias:"symbol"}}),n.languages.kt=n.languages.kotlin,n.languages.kts=n.languages.kotlin})(Prism);Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/});Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}});Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}});Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/});delete Prism.languages.c.boolean;(function(n){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,e=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return t.source});n.languages.cpp=n.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),n.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return e})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),n.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n.languages.cpp}}}}),n.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),n.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:n.languages.extend("cpp",{})}}),n.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},n.languages.cpp["base-clause"])})(Prism);(function(n){function t(q,V){return q.replace(/<<(\d+)>>/g,function(O,$){return"(?:"+V[+$]+")"})}function e(q,V,O){return RegExp(t(q,V),O||"")}function i(q,V){for(var O=0;O<V;O++)q=q.replace(/<<self>>/g,function(){return"(?:"+q+")"});return q.replace(/<<self>>/g,"[^\\s\\S]")}var r={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function s(q){return"\\b(?:"+q.trim().replace(/ /g,"|")+")\\b"}var o=s(r.typeDeclaration),a=RegExp(s(r.type+" "+r.typeDeclaration+" "+r.contextual+" "+r.other)),l=s(r.typeDeclaration+" "+r.contextual+" "+r.other),u=s(r.type+" "+r.typeDeclaration+" "+r.other),c=i(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),d=i(/\((?:[^()]|<<self>>)*\)/.source,2),h=/@?\b[A-Za-z_]\w*\b/.source,m=t(/<<0>>(?:\s*<<1>>)?/.source,[h,c]),v=t(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[l,m]),g=/\[\s*(?:,\s*)*\]/.source,y=t(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[v,g]),x=t(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[c,d,g]),A=t(/\(<<0>>+(?:,<<0>>+)+\)/.source,[x]),w=t(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[A,v,g]),p={keyword:a,punctuation:/[<>()?,.:[\]]/},_=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,S=/"(?:\\.|[^\\"\r\n])*"/.source,j=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;n.languages.csharp=n.languages.extend("clike",{string:[{pattern:e(/(^|[^$\\])<<0>>/.source,[j]),lookbehind:!0,greedy:!0},{pattern:e(/(^|[^@$\\])<<0>>/.source,[S]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:e(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[v]),lookbehind:!0,inside:p},{pattern:e(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[h,w]),lookbehind:!0,inside:p},{pattern:e(/(\busing\s+)<<0>>(?=\s*=)/.source,[h]),lookbehind:!0},{pattern:e(/(\b<<0>>\s+)<<1>>/.source,[o,m]),lookbehind:!0,inside:p},{pattern:e(/(\bcatch\s*\(\s*)<<0>>/.source,[v]),lookbehind:!0,inside:p},{pattern:e(/(\bwhere\s+)<<0>>/.source,[h]),lookbehind:!0},{pattern:e(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[y]),lookbehind:!0,inside:p},{pattern:e(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[w,u,h]),inside:p}],keyword:a,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),n.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),n.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:e(/([(,]\s*)<<0>>(?=\s*:)/.source,[h]),lookbehind:!0,alias:"punctuation"}}),n.languages.insertBefore("csharp","class-name",{namespace:{pattern:e(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[h]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:e(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[d]),lookbehind:!0,alias:"class-name",inside:p},"return-type":{pattern:e(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[w,v]),inside:p,alias:"class-name"},"constructor-invocation":{pattern:e(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[w]),lookbehind:!0,inside:p,alias:"class-name"},"generic-method":{pattern:e(/<<0>>\s*<<1>>(?=\s*\()/.source,[h,c]),inside:{function:e(/^<<0>>/.source,[h]),generic:{pattern:RegExp(c),alias:"class-name",inside:p}}},"type-list":{pattern:e(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[o,m,h,w,a.source,d,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:e(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[m,d]),lookbehind:!0,greedy:!0,inside:n.languages.csharp},keyword:a,"class-name":{pattern:RegExp(w),greedy:!0,inside:p},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var H=S+"|"+_,Y=t(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[H]),et=i(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Y]),2),ot=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,rt=t(/<<0>>(?:\s*\(<<1>>*\))?/.source,[v,et]);n.languages.insertBefore("csharp","class-name",{attribute:{pattern:e(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[ot,rt]),lookbehind:!0,greedy:!0,inside:{target:{pattern:e(/^<<0>>(?=\s*:)/.source,[ot]),alias:"keyword"},"attribute-arguments":{pattern:e(/\(<<0>>*\)/.source,[et]),inside:n.languages.csharp},"class-name":{pattern:RegExp(v),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var dt=/:[^}\r\n]+/.source,st=i(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Y]),2),B=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[st,dt]),T=i(t(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[H]),2),L=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[T,dt]);function F(q,V){return{interpolation:{pattern:e(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[q]),lookbehind:!0,inside:{"format-string":{pattern:e(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[V,dt]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:n.languages.csharp}}},string:/[\s\S]+/}}n.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:e(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[B]),lookbehind:!0,greedy:!0,inside:F(B,st)},{pattern:e(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[L]),lookbehind:!0,greedy:!0,inside:F(L,T)}],char:{pattern:RegExp(_),greedy:!0}}),n.languages.dotnet=n.languages.cs=n.languages.csharp})(Prism);Prism.languages.go=Prism.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/});Prism.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}});delete Prism.languages.go["class-name"];Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/};Prism.languages.swift["string-literal"].forEach(function(n){n.inside.interpolation.inside=Prism.languages.swift});Prism.languages.r={comment:/#.*/,string:{pattern:/(['"])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},"percent-operator":{pattern:/%[^%\s]*%/,alias:"operator"},boolean:/\b(?:FALSE|TRUE)\b/,ellipsis:/\.\.(?:\.|\d+)/,number:[/\b(?:Inf|NaN)\b/,/(?:\b0x[\dA-Fa-f]+(?:\.\d*)?|\b\d+(?:\.\d*)?|\B\.\d+)(?:[EePp][+-]?\d+)?[iL]?/],keyword:/\b(?:NA|NA_character_|NA_complex_|NA_integer_|NA_real_|NULL|break|else|for|function|if|in|next|repeat|while)\b/,operator:/->?>?|<(?:=|<?-)?|[>=!]=?|::?|&&?|\|\|?|[+*\/^$@~]/,punctuation:/[(){}\[\],;]/};var mh=class extends gt{connect(){P_.default.highlightAllUnder(this.element)}};var Fb={};de(Fb,{default:()=>Ib});async function gh(n,t=null){n.classList.remove("hidden"),await L_("enter",n,t)}async function vh(n,t=null){await L_("leave",n,t),n.classList.add("hidden")}async function L_(n,t,e){let i=t.dataset,r=e?`${e}-${n}`:n,s=`transition${n.charAt(0).toUpperCase()+n.slice(1)}`,o=i[s]?i[s].split(" "):[r],a=i[`${s}Start`]?i[`${s}Start`].split(" "):[`${r}-start`],l=i[`${s}End`]?i[`${s}End`].split(" "):[`${r}-end`];Lb(t,o),Lb(t,a),await pN(),Rb(t,a),Lb(t,l),await mN(t),Rb(t,l),Rb(t,o)}function Lb(n,t){n.classList.add(...t)}function Rb(n,t){n.classList.remove(...t)}function pN(){return new Promise(n=>{requestAnimationFrame(()=>{requestAnimationFrame(n)})})}function mN(n){return new Promise(t=>{let e=getComputedStyle(n).transitionDuration.split(",")[0],i=Number(e.replace("s",""))*1e3;setTimeout(()=>{t()},i)})}var Ib=class extends gt{static targets=["container","backdrop","panel","closeButton"];show(){this.containerTarget.classList.remove("hidden"),gh(this.backdropTarget),gh(this.closeButtonTarget),gh(this.panelTarget)}hide(){Promise.all([vh(this.backdropTarget),vh(this.closeButtonTarget),vh(this.panelTarget)]).then(()=>{this.containerTarget.classList.add("hidden")})}};var Bb={};de(Bb,{default:()=>Nb});var Nb=class extends gt{static values={preference:String,storage:{type:String,default:"user"}};connect(){this.storageValue=="localStorage"&&(this.preferenceValue=localStorage.theme),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",this.preferenceValueChanged.bind(this))}disconnect(){window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",this.preferenceValueChanged)}preferenceValueChanged(){document.documentElement.classList.toggle("dark",this.preferenceValue==="dark"||this.preferenceValue===""&&this.systemInDarkMode)}get systemInDarkMode(){return window.matchMedia("(prefers-color-scheme: dark)").matches}light(){this.preferenceValue="light",this.save()}dark(){this.preferenceValue="dark",this.save()}system(){this.preferenceValue="",this.save()}save(){this.storageValue=="localStorage"?this.saveToLocalStorage():this.saveToUser()}saveToLocalStorage(){localStorage.theme=this.preferenceValue}saveToUser(){Yl("/users",{body:{user:{theme:this.preferenceValue}},contentType:"application/json"})}};var $b={};de($b,{default:()=>jb});var jb=class extends gt{static values={url:String};toggle(){Yl(this.urlValue,{responseKind:"turbo-stream"})}};var Vb={};de(Vb,{default:()=>Hb});var R_=vi(Cb()),Hb=class extends gt{static values={url:String,selectedId:Number,labelField:String,valueField:String,initialLoadCompleted:Boolean};connect(){this.initialLoadCompletedValue=!0,this.initTomSelect(),this.selectedIdValue&&(this.initialLoadCompletedValue=!1,this.loadSelectedOption())}initTomSelect(){this.select=new R_.default(this.element,{load:(n,t)=>{if(!n.length)return t();fetch(`${this.urlValue}?term=${encodeURIComponent(n)}`).then(e=>e.json()).then(e=>t(e)).catch(()=>t())},valueField:this.valueFieldValue||"id",labelField:this.labelFieldValue||"text",searchField:this.labelFieldValue||"text",onChange:this.onChange.bind(this)})}loadSelectedOption(){fetch(`${this.urlValue}?selected_id=${this.selectedIdValue}`).then(n=>n.json()).then(n=>{this.select.addOption(n),this.select.setValue(this.selectedIdValue),this.initialLoadCompletedValue=!0}).catch(()=>{})}onChange(n){this.initialLoadCompletedValue&&this.element.form.submit()}disconnect(){this.select.destroy()}};var zb={};de(zb,{default:()=>Wb});var Wb=class extends gt{static values={content:String};connect(){let n={};this.hasContentValue&&(n.content=this.contentValue),this.tippy=cd(this.element,n)}disconnect(){this.tippy.destroy()}};var qb={};de(qb,{default:()=>Ub});var Ub=class extends gt{signOut(n){this._isTurboNativeApp&&(n.preventDefault(),n.stopImmediatePropagation(),window.TurboNativeBridge.postMessage("signOut"))}deleteAccount(n){this._isTurboNativeApp&&(n.preventDefault(),n.stopImmediatePropagation(),window.TurboNativeBridge.postMessage("deleteAccount"))}get _isTurboNativeApp(){return navigator.userAgent.indexOf("Turbo Native")!==-1}};var gN=[{name:"accounts",module:eg,filename:"accounts_controller.js"},{name:"autogrow",module:ig,filename:"autogrow_controller.js"},{name:"braintree--dropin",module:sg,filename:"braintree/dropin_controller.js"},{name:"braintree--paypal",module:ag,filename:"braintree/paypal_controller.js"},{name:"bridge--form",module:dg,filename:"bridge/form_controller.js"},{name:"bulk",module:fg,filename:"bulk_controller.js"},{name:"clipboard",module:Ng,filename:"clipboard_controller.js"},{name:"command-palette",module:rv,filename:"command_palette_controller.js"},{name:"flatpickr-range-filter",module:pv,filename:"flatpickr_range_filter_controller.js"},{name:"mentions",module:rb,filename:"mentions_controller.js"},{name:"notifications",module:ob,filename:"notifications_controller.js"},{name:"paddle--billing",module:lb,filename:"paddle/billing_controller.js"},{name:"paddle--classic",module:ub,filename:"paddle/classic_controller.js"},{name:"pricing",module:hb,filename:"pricing_controller.js"},{name:"recaptcha-v2",module:pb,filename:"recaptcha_v2_controller.js"},{name:"request-example",module:wb,filename:"request_example_controller.js"},{name:"rewardful",module:Ab,filename:"rewardful_controller.js"},{name:"select",module:kb,filename:"select_controller.js"},{name:"stripe--embedded-checkout",module:Ob,filename:"stripe/embedded_checkout_controller.js"},{name:"stripe--payment-element",module:Mb,filename:"stripe/payment_element_controller.js"},{name:"syntax-highlighting",module:Pb,filename:"syntax_highlighting_controller.js"},{name:"tailwindui--slideover",module:Fb,filename:"tailwindui/slideover_controller.js"},{name:"theme",module:Bb,filename:"theme_controller.js"},{name:"toggle-autosave",module:$b,filename:"toggle_autosave_controller.js"},{name:"tom-select",module:Vb,filename:"tom_select_controller.js"},{name:"tooltip",module:zb,filename:"tooltip_controller.js"},{name:"turbo-native--sign-out",module:qb,filename:"turbo_native/sign_out_controller.js"}],I_=gN;var vN=Object.defineProperty,bN=(n,t,e)=>t in n?vN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,en=(n,t,e)=>(bN(n,typeof t!="symbol"?t+"":t,e),e);async function Yb(n,t,e={}){t?B_(n,e):j_(n,e)}async function B_(n,t={}){let e=n.dataset.transitionEnter||t.enter||"enter",i=n.dataset.transitionEnterFrom||t.enterFrom||"enter-from",r=n.dataset.transitionEnterTo||t.enterTo||"enter-to",s=n.dataset.toggleClass||t.toggleClass||"hidden";n.classList.add(...e.split(" ")),n.classList.add(...i.split(" ")),n.classList.remove(...r.split(" ")),n.classList.remove(...s.split(" ")),await $_(),n.classList.remove(...i.split(" ")),n.classList.add(...r.split(" "));try{await H_(n)}finally{n.classList.remove(...e.split(" "))}}async function j_(n,t={}){let e=n.dataset.transitionLeave||t.leave||"leave",i=n.dataset.transitionLeaveFrom||t.leaveFrom||"leave-from",r=n.dataset.transitionLeaveTo||t.leaveTo||"leave-to",s=n.dataset.toggleClass||t.toggle||"hidden";n.classList.add(...e.split(" ")),n.classList.add(...i.split(" ")),n.classList.remove(...r.split(" ")),await $_(),n.classList.remove(...i.split(" ")),n.classList.add(...r.split(" "));try{await H_(n)}finally{n.classList.remove(...e.split(" ")),n.classList.add(...s.split(" "))}}function $_(){return new Promise(n=>{requestAnimationFrame(()=>{requestAnimationFrame(n)})})}function H_(n){return Promise.all(n.getAnimations().map(t=>t.finished))}var yN=class extends gt{connect(){setTimeout(()=>{B_(this.element)},this.showDelayValue),this.hasDismissAfterValue&&setTimeout(()=>{this.close()},this.dismissAfterValue)}close(){j_(this.element).then(()=>{this.element.remove()})}};en(yN,"values",{dismissAfter:Number,showDelay:{type:Number,default:0}});var F_=class extends gt{connect(){this.timeout=null}save(){clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.statusTarget.textContent=this.submittingTextValue,this.formTarget.requestSubmit()},this.submitDurationValue)}success(){this.setStatus(this.successTextValue)}error(){this.setStatus(this.errorTextValue)}setStatus(n){this.statusTarget.textContent=n,this.timeout=setTimeout(()=>{this.statusTarget.textContent=""},this.statusDurationValue)}};en(F_,"targets",["form","status"]),en(F_,"values",{submitDuration:{type:Number,default:1e3},statusDuration:{type:Number,default:2e3},submittingText:{type:String,default:"Saving..."},successText:{type:String,default:"Saved!"},errorText:{type:String,default:"Unable to save."}});var N_=class extends gt{update(){this.preview=this.colorTarget.value}set preview(n){this.previewTarget.style[this.styleValue]=n;let t=this._getContrastYIQ(n);this.styleValue==="color"?this.previewTarget.style.backgroundColor=t:this.previewTarget.style.color=t}_getContrastYIQ(n){n=n.replace("#","");let t=128,e=parseInt(n.substr(0,2),16),i=parseInt(n.substr(2,2),16),r=parseInt(n.substr(4,2),16);return(e*299+i*587+r*114)/1e3>=t?"#000":"#fff"}};en(N_,"targets",["preview","color"]),en(N_,"values",{style:{type:String,default:"backgroundColor"}});var Kl=class extends gt{connect(){document.addEventListener("turbo:before-cache",this.beforeCache.bind(this))}disconnect(){document.removeEventListener("turbo:before-cache",this.beforeCache.bind(this))}openValueChanged(){Yb(this.menuTarget,this.openValue,this.transitionOptions),this.openValue===!0&&this.hasMenuItemTarget&&this.menuItemTargets[0].focus()}show(){this.openValue=!0}close(){this.openValue=!1}hide(n){this.closeOnClickOutsideValue&&n.target.nodeType&&this.element.contains(n.target)===!1&&this.openValue&&(this.openValue=!1),this.closeOnEscapeValue&&n.key==="Escape"&&this.openValue&&(this.openValue=!1)}toggle(){this.openValue=!this.openValue}nextItem(n){n.preventDefault(),this.menuItemTargets[this.nextIndex].focus()}previousItem(n){n.preventDefault(),this.menuItemTargets[this.previousIndex].focus()}get currentItemIndex(){return this.menuItemTargets.indexOf(document.activeElement)}get nextIndex(){return Math.min(this.currentItemIndex+1,this.menuItemTargets.length-1)}get previousIndex(){return Math.max(this.currentItemIndex-1,0)}get transitionOptions(){return{enter:this.hasEnterClass?this.enterClass:"transition ease-out duration-100",enterFrom:this.hasEnterFromClass?this.enterFromClass:"transform opacity-0 scale-95",enterTo:this.hasEnterToClass?this.enterToClass:"transform opacity-100 scale-100",leave:this.hasLeaveClass?this.leaveClass:"transition ease-in duration-75",leaveFrom:this.hasLeaveFromClass?this.leaveFromClass:"transform opacity-100 scale-100",leaveTo:this.hasLeaveToClass?this.leaveToClass:"transform opacity-0 scale-95",toggleClass:this.hasToggleClass?this.toggleClass:"hidden"}}beforeCache(){this.openValue=!1,this.menuTarget.classList.add("hidden")}};en(Kl,"targets",["menu","button","menuItem"]),en(Kl,"values",{open:{type:Boolean,default:!1},closeOnEscape:{type:Boolean,default:!0},closeOnClickOutside:{type:Boolean,default:!0}}),en(Kl,"classes",["enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","toggle"]);var bh=class extends gt{connect(){this.openValue&&this.open(),document.addEventListener("turbo:before-cache",this.beforeCache.bind(this))}disconnect(){document.removeEventListener("turbo:before-cache",this.beforeCache.bind(this))}open(){this.dialogTarget.showModal()}close(){this.dialogTarget.setAttribute("closing",""),Promise.all(this.dialogTarget.getAnimations().map(n=>n.finished)).then(()=>{this.dialogTarget.removeAttribute("closing"),this.dialogTarget.close()})}backdropClose(n){n.target.nodeName=="DIALOG"&&this.close()}show(){this.dialogTarget.show()}hide(){this.close()}beforeCache(){this.close()}};en(bh,"targets",["dialog"]),en(bh,"values",{open:Boolean});var yh=class extends gt{openValueChanged(){Yb(this.contentTarget,this.openValue),this.shouldAutoDismiss&&this.scheduleDismissal()}show(n){this.shouldAutoDismiss&&this.scheduleDismissal(),this.openValue=!0}hide(){this.openValue=!1}toggle(){this.openValue=!this.openValue}get shouldAutoDismiss(){return this.openValue&&this.hasDismissAfterValue}scheduleDismissal(){this.hasDismissAfterValue&&(this.cancelDismissal(),this.timeoutId=setTimeout(()=>{this.hide(),this.timeoutId=void 0},this.dismissAfterValue))}cancelDismissal(){typeof this.timeoutId=="number"&&(clearTimeout(this.timeoutId),this.timeoutId=void 0)}};en(yh,"targets",["content"]),en(yh,"values",{dismissAfter:Number,open:{type:Boolean,default:!1}});var wh=class extends gt{connect(){this.openValue&&this.open(),document.addEventListener("turbo:before-cache",this.beforeCache.bind(this))}disconnect(){document.removeEventListener("turbo:before-cache",this.beforeCache.bind(this))}open(){this.dialogTarget.showModal()}close(){this.dialogTarget.setAttribute("closing",""),Promise.all(this.dialogTarget.getAnimations().map(n=>n.finished)).then(()=>{this.dialogTarget.removeAttribute("closing"),this.dialogTarget.close()})}backdropClose(n){n.target.nodeName=="DIALOG"&&this.close()}show(){this.open()}hide(){this.close()}beforeCache(){this.close()}};en(wh,"targets",["dialog"]),en(wh,"values",{open:Boolean});var Gl=class extends gt{initialize(){this.anchor&&(this.indexValue=this.tabTargets.findIndex(n=>n.id===this.anchor))}connect(){this.showTab()}change(n){n.currentTarget.tagName==="SELECT"?this.indexValue=n.currentTarget.selectedIndex:n.currentTarget.dataset.index?this.indexValue=n.currentTarget.dataset.index:n.currentTarget.dataset.id?this.indexValue=this.tabTargets.findIndex(t=>t.id==n.currentTarget.dataset.id):this.indexValue=this.tabTargets.indexOf(n.currentTarget)}nextTab(){this.indexValue=Math.min(this.indexValue+1,this.tabsCount-1)}previousTab(){this.indexValue=Math.max(this.indexValue-1,0)}firstTab(){this.indexValue=0}lastTab(){this.indexValue=this.tabsCount-1}indexValueChanged(){if(this.showTab(),this.dispatch("tab-change",{target:this.tabTargets[this.indexValue],detail:{activeIndex:this.indexValue}}),this.updateAnchorValue){let n=this.tabTargets[this.indexValue].id;if(this.scrollToAnchorValue)location.hash=n;else{let t=window.location.href.split("#")[0]+"#"+n;history.replaceState({},document.title,t)}}}showTab(){this.panelTargets.forEach((n,t)=>{let e=this.tabTargets[t];t===this.indexValue?(n.classList.remove("hidden"),e.ariaSelected="true",e.dataset.active=!0,this.hasInactiveTabClass&&e?.classList?.remove(...this.inactiveTabClasses),this.hasActiveTabClass&&e?.classList?.add(...this.activeTabClasses)):(n.classList.add("hidden"),e.ariaSelected=null,delete e.dataset.active,this.hasActiveTabClass&&e?.classList?.remove(...this.activeTabClasses),this.hasInactiveTabClass&&e?.classList?.add(...this.inactiveTabClasses))}),this.hasSelectTarget&&(this.selectTarget.selectedIndex=this.indexValue),this.scrollActiveTabIntoViewValue&&this.scrollToActiveTab()}scrollToActiveTab(){let n=this.element.querySelector("[aria-selected]");n&&n.scrollIntoView({inline:"center"})}get tabsCount(){return this.tabTargets.length}get anchor(){return document.URL.split("#").length>1?document.URL.split("#")[1]:null}};en(Gl,"classes",["activeTab","inactiveTab"]),en(Gl,"targets",["tab","panel","select"]),en(Gl,"values",{index:0,updateAnchor:Boolean,scrollToAnchor:Boolean,scrollActiveTabIntoView:Boolean});var xh=class extends gt{toggle(n){this.openValue=!this.openValue,this.animate()}toggleInput(n){this.openValue=n.target.checked,this.animate()}hide(){this.openValue=!1,this.animate()}show(){this.openValue=!0,this.animate()}animate(){this.toggleableTargets.forEach(n=>{Yb(n,this.openValue)})}};en(xh,"targets",["toggleable"]),en(xh,"values",{open:{type:Boolean,default:!1}});var Zo=class extends gt{connect(){this.hidden=this.inputTarget.type==="password",this.class=this.hasHiddenClass?this.hiddenClass:"hidden"}toggle(t){t.preventDefault(),this.inputTarget.type=this.hidden?"text":"password",this.hidden=!this.hidden,this.iconTargets.forEach(e=>e.classList.toggle(this.class))}};Zo.targets=["input","icon"];Zo.classes=["hidden"];I_.forEach(n=>{Qn.register(n.name,n.module.default)});Qn.register("dropdown",Kl);Qn.register("modal",bh);Qn.register("tabs",Gl);Qn.register("popover",yh);Qn.register("toggle",xh);Qn.register("slideover",wh);Qn.register("flatpickr",jd);Qn.register("password-visibility",Zo);var z_={exports:{}};(function(n,t){(function(e){n.exports=e()})(function(e){var i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(x,A){var w=x[0],p=x[1],_=x[2],S=x[3];w+=(p&_|~p&S)+A[0]-680876936|0,w=(w<<7|w>>>25)+p|0,S+=(w&p|~w&_)+A[1]-389564586|0,S=(S<<12|S>>>20)+w|0,_+=(S&w|~S&p)+A[2]+606105819|0,_=(_<<17|_>>>15)+S|0,p+=(_&S|~_&w)+A[3]-1044525330|0,p=(p<<22|p>>>10)+_|0,w+=(p&_|~p&S)+A[4]-176418897|0,w=(w<<7|w>>>25)+p|0,S+=(w&p|~w&_)+A[5]+1200080426|0,S=(S<<12|S>>>20)+w|0,_+=(S&w|~S&p)+A[6]-1473231341|0,_=(_<<17|_>>>15)+S|0,p+=(_&S|~_&w)+A[7]-45705983|0,p=(p<<22|p>>>10)+_|0,w+=(p&_|~p&S)+A[8]+1770035416|0,w=(w<<7|w>>>25)+p|0,S+=(w&p|~w&_)+A[9]-1958414417|0,S=(S<<12|S>>>20)+w|0,_+=(S&w|~S&p)+A[10]-42063|0,_=(_<<17|_>>>15)+S|0,p+=(_&S|~_&w)+A[11]-1990404162|0,p=(p<<22|p>>>10)+_|0,w+=(p&_|~p&S)+A[12]+1804603682|0,w=(w<<7|w>>>25)+p|0,S+=(w&p|~w&_)+A[13]-40341101|0,S=(S<<12|S>>>20)+w|0,_+=(S&w|~S&p)+A[14]-1502002290|0,_=(_<<17|_>>>15)+S|0,p+=(_&S|~_&w)+A[15]+1236535329|0,p=(p<<22|p>>>10)+_|0,w+=(p&S|_&~S)+A[1]-165796510|0,w=(w<<5|w>>>27)+p|0,S+=(w&_|p&~_)+A[6]-1069501632|0,S=(S<<9|S>>>23)+w|0,_+=(S&p|w&~p)+A[11]+643717713|0,_=(_<<14|_>>>18)+S|0,p+=(_&w|S&~w)+A[0]-373897302|0,p=(p<<20|p>>>12)+_|0,w+=(p&S|_&~S)+A[5]-701558691|0,w=(w<<5|w>>>27)+p|0,S+=(w&_|p&~_)+A[10]+38016083|0,S=(S<<9|S>>>23)+w|0,_+=(S&p|w&~p)+A[15]-660478335|0,_=(_<<14|_>>>18)+S|0,p+=(_&w|S&~w)+A[4]-405537848|0,p=(p<<20|p>>>12)+_|0,w+=(p&S|_&~S)+A[9]+568446438|0,w=(w<<5|w>>>27)+p|0,S+=(w&_|p&~_)+A[14]-1019803690|0,S=(S<<9|S>>>23)+w|0,_+=(S&p|w&~p)+A[3]-187363961|0,_=(_<<14|_>>>18)+S|0,p+=(_&w|S&~w)+A[8]+1163531501|0,p=(p<<20|p>>>12)+_|0,w+=(p&S|_&~S)+A[13]-1444681467|0,w=(w<<5|w>>>27)+p|0,S+=(w&_|p&~_)+A[2]-51403784|0,S=(S<<9|S>>>23)+w|0,_+=(S&p|w&~p)+A[7]+1735328473|0,_=(_<<14|_>>>18)+S|0,p+=(_&w|S&~w)+A[12]-1926607734|0,p=(p<<20|p>>>12)+_|0,w+=(p^_^S)+A[5]-378558|0,w=(w<<4|w>>>28)+p|0,S+=(w^p^_)+A[8]-2022574463|0,S=(S<<11|S>>>21)+w|0,_+=(S^w^p)+A[11]+1839030562|0,_=(_<<16|_>>>16)+S|0,p+=(_^S^w)+A[14]-35309556|0,p=(p<<23|p>>>9)+_|0,w+=(p^_^S)+A[1]-1530992060|0,w=(w<<4|w>>>28)+p|0,S+=(w^p^_)+A[4]+1272893353|0,S=(S<<11|S>>>21)+w|0,_+=(S^w^p)+A[7]-155497632|0,_=(_<<16|_>>>16)+S|0,p+=(_^S^w)+A[10]-1094730640|0,p=(p<<23|p>>>9)+_|0,w+=(p^_^S)+A[13]+681279174|0,w=(w<<4|w>>>28)+p|0,S+=(w^p^_)+A[0]-358537222|0,S=(S<<11|S>>>21)+w|0,_+=(S^w^p)+A[3]-722521979|0,_=(_<<16|_>>>16)+S|0,p+=(_^S^w)+A[6]+76029189|0,p=(p<<23|p>>>9)+_|0,w+=(p^_^S)+A[9]-640364487|0,w=(w<<4|w>>>28)+p|0,S+=(w^p^_)+A[12]-421815835|0,S=(S<<11|S>>>21)+w|0,_+=(S^w^p)+A[15]+530742520|0,_=(_<<16|_>>>16)+S|0,p+=(_^S^w)+A[2]-995338651|0,p=(p<<23|p>>>9)+_|0,w+=(_^(p|~S))+A[0]-198630844|0,w=(w<<6|w>>>26)+p|0,S+=(p^(w|~_))+A[7]+1126891415|0,S=(S<<10|S>>>22)+w|0,_+=(w^(S|~p))+A[14]-1416354905|0,_=(_<<15|_>>>17)+S|0,p+=(S^(_|~w))+A[5]-57434055|0,p=(p<<21|p>>>11)+_|0,w+=(_^(p|~S))+A[12]+1700485571|0,w=(w<<6|w>>>26)+p|0,S+=(p^(w|~_))+A[3]-1894986606|0,S=(S<<10|S>>>22)+w|0,_+=(w^(S|~p))+A[10]-1051523|0,_=(_<<15|_>>>17)+S|0,p+=(S^(_|~w))+A[1]-2054922799|0,p=(p<<21|p>>>11)+_|0,w+=(_^(p|~S))+A[8]+1873313359|0,w=(w<<6|w>>>26)+p|0,S+=(p^(w|~_))+A[15]-30611744|0,S=(S<<10|S>>>22)+w|0,_+=(w^(S|~p))+A[6]-1560198380|0,_=(_<<15|_>>>17)+S|0,p+=(S^(_|~w))+A[13]+1309151649|0,p=(p<<21|p>>>11)+_|0,w+=(_^(p|~S))+A[4]-145523070|0,w=(w<<6|w>>>26)+p|0,S+=(p^(w|~_))+A[11]-1120210379|0,S=(S<<10|S>>>22)+w|0,_+=(w^(S|~p))+A[2]+718787259|0,_=(_<<15|_>>>17)+S|0,p+=(S^(_|~w))+A[9]-343485551|0,p=(p<<21|p>>>11)+_|0,x[0]=w+x[0]|0,x[1]=p+x[1]|0,x[2]=_+x[2]|0,x[3]=S+x[3]|0}function s(x){var A=[],w;for(w=0;w<64;w+=4)A[w>>2]=x.charCodeAt(w)+(x.charCodeAt(w+1)<<8)+(x.charCodeAt(w+2)<<16)+(x.charCodeAt(w+3)<<24);return A}function o(x){var A=[],w;for(w=0;w<64;w+=4)A[w>>2]=x[w]+(x[w+1]<<8)+(x[w+2]<<16)+(x[w+3]<<24);return A}function a(x){var A=x.length,w=[1732584193,-271733879,-1732584194,271733878],p,_,S,j,H,Y;for(p=64;p<=A;p+=64)r(w,s(x.substring(p-64,p)));for(x=x.substring(p-64),_=x.length,S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],p=0;p<_;p+=1)S[p>>2]|=x.charCodeAt(p)<<(p%4<<3);if(S[p>>2]|=128<<(p%4<<3),p>55)for(r(w,S),p=0;p<16;p+=1)S[p]=0;return j=A*8,j=j.toString(16).match(/(.*?)(.{0,8})$/),H=parseInt(j[2],16),Y=parseInt(j[1],16)||0,S[14]=H,S[15]=Y,r(w,S),w}function l(x){var A=x.length,w=[1732584193,-271733879,-1732584194,271733878],p,_,S,j,H,Y;for(p=64;p<=A;p+=64)r(w,o(x.subarray(p-64,p)));for(x=p-64<A?x.subarray(p-64):new Uint8Array(0),_=x.length,S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],p=0;p<_;p+=1)S[p>>2]|=x[p]<<(p%4<<3);if(S[p>>2]|=128<<(p%4<<3),p>55)for(r(w,S),p=0;p<16;p+=1)S[p]=0;return j=A*8,j=j.toString(16).match(/(.*?)(.{0,8})$/),H=parseInt(j[2],16),Y=parseInt(j[1],16)||0,S[14]=H,S[15]=Y,r(w,S),w}function u(x){var A="",w;for(w=0;w<4;w+=1)A+=i[x>>w*8+4&15]+i[x>>w*8&15];return A}function c(x){var A;for(A=0;A<x.length;A+=1)x[A]=u(x[A]);return x.join("")}c(a("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function x(A,w){return A=A|0||0,A<0?Math.max(A+w,0):Math.min(A,w)}ArrayBuffer.prototype.slice=function(A,w){var p=this.byteLength,_=x(A,p),S=p,j,H,Y,et;return w!==e&&(S=x(w,p)),_>S?new ArrayBuffer(0):(j=S-_,H=new ArrayBuffer(j),Y=new Uint8Array(H),et=new Uint8Array(this,_,j),Y.set(et),H)}}();function d(x){return/[\u0080-\uFFFF]/.test(x)&&(x=unescape(encodeURIComponent(x))),x}function h(x,A){var w=x.length,p=new ArrayBuffer(w),_=new Uint8Array(p),S;for(S=0;S<w;S+=1)_[S]=x.charCodeAt(S);return A?_:p}function m(x){return String.fromCharCode.apply(null,new Uint8Array(x))}function v(x,A,w){var p=new Uint8Array(x.byteLength+A.byteLength);return p.set(new Uint8Array(x)),p.set(new Uint8Array(A),x.byteLength),w?p:p.buffer}function g(x){var A=[],w=x.length,p;for(p=0;p<w-1;p+=2)A.push(parseInt(x.substr(p,2),16));return String.fromCharCode.apply(String,A)}function y(){this.reset()}return y.prototype.append=function(x){return this.appendBinary(d(x)),this},y.prototype.appendBinary=function(x){this._buff+=x,this._length+=x.length;var A=this._buff.length,w;for(w=64;w<=A;w+=64)r(this._hash,s(this._buff.substring(w-64,w)));return this._buff=this._buff.substring(w-64),this},y.prototype.end=function(x){var A=this._buff,w=A.length,p,_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S;for(p=0;p<w;p+=1)_[p>>2]|=A.charCodeAt(p)<<(p%4<<3);return this._finish(_,w),S=c(this._hash),x&&(S=g(S)),this.reset(),S},y.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},y.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},y.prototype.setState=function(x){return this._buff=x.buff,this._length=x.length,this._hash=x.hash,this},y.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},y.prototype._finish=function(x,A){var w=A,p,_,S;if(x[w>>2]|=128<<(w%4<<3),w>55)for(r(this._hash,x),w=0;w<16;w+=1)x[w]=0;p=this._length*8,p=p.toString(16).match(/(.*?)(.{0,8})$/),_=parseInt(p[2],16),S=parseInt(p[1],16)||0,x[14]=_,x[15]=S,r(this._hash,x)},y.hash=function(x,A){return y.hashBinary(d(x),A)},y.hashBinary=function(x,A){var w=a(x),p=c(w);return A?g(p):p},y.ArrayBuffer=function(){this.reset()},y.ArrayBuffer.prototype.append=function(x){var A=v(this._buff.buffer,x,!0),w=A.length,p;for(this._length+=x.byteLength,p=64;p<=w;p+=64)r(this._hash,o(A.subarray(p-64,p)));return this._buff=p-64<w?new Uint8Array(A.buffer.slice(p-64)):new Uint8Array(0),this},y.ArrayBuffer.prototype.end=function(x){var A=this._buff,w=A.length,p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_,S;for(_=0;_<w;_+=1)p[_>>2]|=A[_]<<(_%4<<3);return this._finish(p,w),S=c(this._hash),x&&(S=g(S)),this.reset(),S},y.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},y.ArrayBuffer.prototype.getState=function(){var x=y.prototype.getState.call(this);return x.buff=m(x.buff),x},y.ArrayBuffer.prototype.setState=function(x){return x.buff=h(x.buff,!0),y.prototype.setState.call(this,x)},y.ArrayBuffer.prototype.destroy=y.prototype.destroy,y.ArrayBuffer.prototype._finish=y.prototype._finish,y.ArrayBuffer.hash=function(x,A){var w=l(new Uint8Array(x)),p=c(w);return A?g(p):p},y})})(z_);var wN=z_.exports,xN=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,Gb=class n{static create(t,e){new n(t).create(e)}constructor(t){this.file=t,this.chunkSize=2097152,this.chunkCount=Math.ceil(this.file.size/this.chunkSize),this.chunkIndex=0}create(t){this.callback=t,this.md5Buffer=new wN.ArrayBuffer,this.fileReader=new FileReader,this.fileReader.addEventListener("load",e=>this.fileReaderDidLoad(e)),this.fileReader.addEventListener("error",e=>this.fileReaderDidError(e)),this.readNextChunk()}fileReaderDidLoad(t){if(this.md5Buffer.append(t.target.result),!this.readNextChunk()){let e=this.md5Buffer.end(!0),i=btoa(e);this.callback(null,i)}}fileReaderDidError(t){this.callback(`Error reading ${this.file.name}`)}readNextChunk(){if(this.chunkIndex<this.chunkCount||this.chunkIndex==0&&this.chunkCount==0){let t=this.chunkIndex*this.chunkSize,e=Math.min(t+this.chunkSize,this.file.size),i=xN.call(this.file,t,e);return this.fileReader.readAsArrayBuffer(i),this.chunkIndex++,!0}else return!1}};function AN(n){let t=U_(document.head,`meta[name="${n}"]`);if(t)return t.getAttribute("content")}function SN(n,t){typeof n=="string"&&(t=n,n=document);let e=n.querySelectorAll(t);return Y_(e)}function U_(n,t){return typeof n=="string"&&(t=n,n=document),n.querySelector(t)}function q_(n,t,e={}){let{disabled:i}=n,{bubbles:r,cancelable:s,detail:o}=e,a=document.createEvent("Event");a.initEvent(t,r||!0,s||!0),a.detail=o||{};try{n.disabled=!1,n.dispatchEvent(a)}finally{n.disabled=i}return a}function Y_(n){return Array.isArray(n)?n:Array.from?Array.from(n):[].slice.call(n)}var Xb=class{constructor(t,e,i,r={}){this.file=t,this.attributes={filename:t.name,content_type:t.type||"application/octet-stream",byte_size:t.size,checksum:e},this.xhr=new XMLHttpRequest,this.xhr.open("POST",i,!0),this.xhr.responseType="json",this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("Accept","application/json"),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach(o=>{this.xhr.setRequestHeader(o,r[o])});let s=AN("csrf-token");s!=null&&this.xhr.setRequestHeader("X-CSRF-Token",s),this.xhr.addEventListener("load",o=>this.requestDidLoad(o)),this.xhr.addEventListener("error",o=>this.requestDidError(o))}get status(){return this.xhr.status}get response(){let{responseType:t,response:e}=this.xhr;return t=="json"?e:JSON.parse(e)}create(t){this.callback=t,this.xhr.send(JSON.stringify({blob:this.attributes}))}requestDidLoad(t){if(this.status>=200&&this.status<300){let{response:e}=this,{direct_upload:i}=e;delete e.direct_upload,this.attributes=e,this.directUploadData=i,this.callback(null,this.toJSON())}else this.requestDidError(t)}requestDidError(t){this.callback(`Error creating Blob for "${this.file.name}". Status: ${this.status}`)}toJSON(){let t={};for(let e in this.attributes)t[e]=this.attributes[e];return t}},Jb=class{constructor(t){this.blob=t,this.file=t.file;let{url:e,headers:i}=t.directUploadData;this.xhr=new XMLHttpRequest,this.xhr.open("PUT",e,!0),this.xhr.responseType="text";for(let r in i)this.xhr.setRequestHeader(r,i[r]);this.xhr.addEventListener("load",r=>this.requestDidLoad(r)),this.xhr.addEventListener("error",r=>this.requestDidError(r))}create(t){this.callback=t,this.xhr.send(this.file.slice())}requestDidLoad(t){let{status:e,response:i}=this.xhr;e>=200&&e<300?this.callback(null,i):this.requestDidError(t)}requestDidError(t){this.callback(`Error storing "${this.file.name}". Status: ${this.xhr.status}`)}},_N=0,Ah=class{constructor(t,e,i,r={}){this.id=++_N,this.file=t,this.url=e,this.delegate=i,this.customHeaders=r}create(t){Gb.create(this.file,(e,i)=>{if(e){t(e);return}let r=new Xb(this.file,i,this.url,this.customHeaders);V_(this.delegate,"directUploadWillCreateBlobWithXHR",r.xhr),r.create(s=>{if(s)t(s);else{let o=new Jb(r);V_(this.delegate,"directUploadWillStoreFileWithXHR",o.xhr),o.create(a=>{a?t(a):t(null,r.toJSON())})}})})}};function V_(n,t,...e){if(n&&typeof n[t]=="function")return n[t](...e)}var Qb=class{constructor(t,e){this.input=t,this.file=e,this.directUpload=new Ah(this.file,this.url,this),this.dispatch("initialize")}start(t){let e=document.createElement("input");e.type="hidden",e.name=this.input.name,this.input.insertAdjacentElement("beforebegin",e),this.dispatch("start"),this.directUpload.create((i,r)=>{i?(e.parentNode.removeChild(e),this.dispatchError(i)):e.value=r.signed_id,this.dispatch("end"),t(i)})}uploadRequestDidProgress(t){let e=t.loaded/t.total*100;e&&this.dispatch("progress",{progress:e})}get url(){return this.input.getAttribute("data-direct-upload-url")}dispatch(t,e={}){return e.file=this.file,e.id=this.directUpload.id,q_(this.input,`direct-upload:${t}`,{detail:e})}dispatchError(t){this.dispatch("error",{error:t}).defaultPrevented||alert(t)}directUploadWillCreateBlobWithXHR(t){this.dispatch("before-blob-request",{xhr:t})}directUploadWillStoreFileWithXHR(t){this.dispatch("before-storage-request",{xhr:t}),t.upload.addEventListener("progress",e=>this.uploadRequestDidProgress(e))}},CN="input[type=file][data-direct-upload-url]:not([disabled])",Zb=class{constructor(t){this.form=t,this.inputs=SN(t,CN).filter(e=>e.files.length)}start(t){let e=this.createDirectUploadControllers(),i=()=>{let r=e.shift();r?r.start(s=>{s?(t(s),this.dispatch("end")):i()}):(t(),this.dispatch("end"))};this.dispatch("start"),i()}createDirectUploadControllers(){let t=[];return this.inputs.forEach(e=>{Y_(e.files).forEach(i=>{let r=new Qb(e,i);t.push(r)})}),t}dispatch(t,e={}){return q_(this.form,`direct-uploads:${t}`,{detail:e})}},Kb="data-direct-uploads-processing",t0=new WeakMap,W_=!1;function EN(){W_||(W_=!0,document.addEventListener("click",kN,!0),document.addEventListener("submit",TN,!0),document.addEventListener("ajax:before",ON))}function kN(n){let t=n.target.closest("button, input");t&&t.type==="submit"&&t.form&&t0.set(t.form,t)}function TN(n){K_(n)}function ON(n){n.target.tagName=="FORM"&&K_(n)}function K_(n){let t=n.target;if(t.hasAttribute(Kb)){n.preventDefault();return}let e=new Zb(t),{inputs:i}=e;i.length&&(n.preventDefault(),t.setAttribute(Kb,""),i.forEach(MN),e.start(r=>{t.removeAttribute(Kb),r?i.forEach(PN):DN(t)}))}function DN(n){let t=t0.get(n)||U_(n,"input[type=submit], button[type=submit]");if(t){let{disabled:e}=t;t.disabled=!1,t.focus(),t.click(),t.disabled=e}else t=document.createElement("input"),t.type="submit",t.style.display="none",n.appendChild(t),t.click(),n.removeChild(t);t0.delete(n)}function MN(n){n.disabled=!0}function PN(n){n.disabled=!1}function LN(){window.ActiveStorage&&EN()}setTimeout(LN,1);var e0=class{constructor(t,e){this.attachment=t,this.element=e,this.directUpload=new Ah(t.file,this.directUploadUrl,this)}start(){this.directUpload.create(this.directUploadDidComplete.bind(this))}directUploadWillStoreFileWithXHR(t){t.upload.addEventListener("progress",e=>{let i=e.loaded/e.total*100;this.attachment.setUploadProgress(i)})}directUploadDidComplete(t,e){if(t)throw new Error(`Direct upload failed: ${t}`);this.attachment.setAttributes({sgid:e.attachable_sgid,url:this.createBlobUrl(e.signed_id,e.filename)})}createBlobUrl(t,e){return this.blobUrlTemplate.replace(":signed_id",t).replace(":filename",encodeURIComponent(e))}get directUploadUrl(){return this.element.dataset.directUploadUrl}get blobUrlTemplate(){return this.element.dataset.blobUrlTemplate}};addEventListener("trix-attachment-add",n=>{let{attachment:t,target:e}=n;t.file&&new e0(t,e).start()});js.config.textAttributes.inlineCode={tagName:"code",inheritable:!0};var n0=class{constructor(t){this.patterns=void 0,this.element=t,this.editor=t.editor,this.toolbar=t.toolbarElement,this.injectHTML(),this.hrefElement=this.toolbar.querySelector("[data-trix-input][name='href']"),this.embedContainerElement=this.toolbar.querySelector("[data-behavior='embed_container']"),this.embedElement=this.toolbar.querySelector("[data-behavior='embed_url']"),this.reset(),this.installEventHandlers()}injectHTML(){this.toolbar.querySelector('[data-trix-dialog="href"]').insertAdjacentHTML("beforeend",`
        <div data-behavior="embed_container">
          <div class="link_to_embed link_to_embed--new">
            Would you like to embed media from this site?
            <input class="btn btn-secondary btn-small btn-outline" type="button" data-behavior="embed_url" value="Yes, embed it">
          </div>
        </div>
    `)}installEventHandlers(){this.hrefElement.addEventListener("input",this.didInput.bind(this)),this.hrefElement.addEventListener("focusin",this.didInput.bind(this)),this.embedElement.addEventListener("click",this.embed.bind(this))}didInput(t){let e=t.target.value.trim();this.patterns===void 0?this.loadPatterns(e):this.match(e)?this.fetch(e):this.reset()}async loadPatterns(t){let e=await Hs("/action_text/embeds/patterns.json",{responseKind:"json"});if(e.ok){let i=await e.json;this.patterns=i.map(r=>new RegExp(r.source,r.options)),this.match(t)&&this.fetch(t)}}match(t){return this.patterns.some(e=>e.test(t))}async fetch(t){let e=await gb(`/action_text/embeds?id=${encodeURIComponent(t)}`,{responseKind:"json"});e.ok?this.showEmbed(await e.json):this.reset()}embed(t){if(this.currentEmbed==null)return;let e=new js.Attachment(this.currentEmbed);this.editor.insertAttachment(e),this.element.focus()}showEmbed(t){this.currentEmbed=t,this.embedContainerElement.style.display="block"}reset(){this.embedContainerElement.style.display="none",this.currentEmbed=null}},i0=class{constructor(t){this.element=t,this.editor=t.editor,this.toolbar=t.toolbarElement,this.installEventHandlers()}installEventHandlers(){let t=this.toolbar.querySelector("[data-trix-attribute=code]"),e=t.cloneNode(!0);e.hidden=!0,e.dataset.trixAttribute="inlineCode",t.insertAdjacentElement("afterend",e),this.element.addEventListener("trix-selection-change",i=>{let r=this.getCodeFormattingType();t.hidden=r=="inline",e.hidden=r=="block"})}getCodeFormattingType(){if(this.editor.attributeIsActive("code"))return"block";if(this.editor.attributeIsActive("inlineCode"))return"inline";let t=this.editor.getSelectedRange();if(t[0]==t[1])return"block";let e=this.editor.getSelectedDocument().toString().trim();return/\n/.test(e)?"block":"inline"}};document.addEventListener("trix-initialize",function(n){new n0(n.target),new i0(n.target)});var Ztt=vi(G_()),tet=vi(X_()),eet=vi(J_()),net=vi(Z_());function Sh(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)n[i]=e[i]}return n}var FN={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function r0(n,t){function e(r,s,o){if(!(typeof document>"u")){o=Sh({},t,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),r=encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in o)o[l]&&(a+="; "+l,o[l]!==!0&&(a+="="+o[l].split(";")[0]));return document.cookie=r+"="+n.write(s,r)+a}}function i(r){if(!(typeof document>"u"||arguments.length&&!r)){for(var s=document.cookie?document.cookie.split("; "):[],o={},a=0;a<s.length;a++){var l=s[a].split("="),u=l.slice(1).join("=");try{var c=decodeURIComponent(l[0]);if(o[c]=n.read(u,c),r===c)break}catch{}}return r?o[r]:o}}return Object.create({set:e,get:i,remove:function(r,s){e(r,"",Sh({},s,{expires:-1}))},withAttributes:function(r){return r0(this.converter,Sh({},this.attributes,r))},withConverter:function(r){return r0(Sh({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(n)}})}var tC=r0(FN,{path:"/"});var s0=vi(iC());function NN(){let n=window.Intl;try{window.Intl=void 0;let t=s0.default.determine().name();return window.Intl=n,t}catch{return s0.default.determine().name()}}document.addEventListener("turbo:load",()=>{tC.set("browser_time_zone",NN(),{expires:365,path:"/",secure:!0})});var o0=class{static toggleNavBar(){let t=new CustomEvent("toggle-nav-bar");window.dispatchEvent(t)}static setNotificationCount(t,e=t){this.postMessage("showNotificationBadge",{icon:t,tab:e})}static postMessage(t,e={}){window.webkit?.messageHandlers?.nativeApp?.postMessage({name:t,...e}),window.nativeApp?.postMessage(JSON.stringify({name:t,...e}))}};window.TurboNativeBridge=o0;qr.remove_later=function(){setTimeout(()=>{this.targetElements.forEach(n=>n.remove())},this.getAttribute("after"))};qr.reset_form=function(){this.targetElements.forEach(n=>n.reset())};qr.scroll_to=function(){this.targetElements.forEach(n=>n.scrollIntoView({behavior:"smooth"}))};sC().start();oC().start();document.addEventListener("turbo:load",function(n){let e={event:"page_view",url:n.detail.url,path:window.location.pathname,page_title:document.title};ma.user&&ma.user.hash&&(e.user_hash=ma.user.hash),window.dataLayer.push(e)});})();
/*! Bundled license information:

clipboard/dist/clipboard.js:
  (*!
   * clipboard.js v2.0.11
   * https://clipboardjs.com/
   *
   * Licensed MIT  Zeno Rocha
   *)

tom-select/dist/js/tom-select.complete.js:
  (*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) *)
  (*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) *)

prismjs/prism.js:
  (**
   * Prism: Lightweight, robust, elegant syntax highlighting
   *
   * @license MIT <https://opensource.org/licenses/MIT>
   * @author Lea Verou <https://lea.verou.me>
   * @namespace
   * @public
   *)

jstz/dist/jstz.js:
  (**
   * This script gives you the zone info key representing your device's time zone setting.
   *
   * @name jsTimezoneDetect
   * @version 1.0.6
   * @author Jon Nylander
   * @license MIT License - https://bitbucket.org/pellepim/jstimezonedetect/src/default/LICENCE.txt
   *
   * For usage and examples, visit:
   * http://pellepim.bitbucket.org/jstz/
   *
   * Copyright (c) Jon Nylander
   *)

@hotwired/turbo/dist/turbo.es2017-esm.js:
  (*!
  Turbo 8.0.4
  Copyright  2024 37signals LLC
   *)

chartkick/dist/chartkick.esm.js:
  (*!
   * Chartkick.js v5.0.1
   * Create beautiful charts with one line of JavaScript
   * https://github.com/ankane/chartkick.js
   * MIT License
   *)

@kurkle/color/dist/color.esm.js:
  (*!
   * @kurkle/color v0.3.2
   * https://github.com/kurkle/color#readme
   * (c) 2023 Jukka Kurkela
   * Released under the MIT License
   *)

chart.js/dist/chunks/helpers.segment.js:
  (*!
   * Chart.js v4.4.3
   * https://www.chartjs.org
   * (c) 2024 Chart.js Contributors
   * Released under the MIT License
   *)

chart.js/dist/chart.js:
  (*!
   * Chart.js v4.4.3
   * https://www.chartjs.org
   * (c) 2024 Chart.js Contributors
   * Released under the MIT License
   *)

chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.esm.js:
  (*!
   * chartjs-adapter-date-fns v3.0.0
   * https://www.chartjs.org
   * (c) 2022 chartjs-adapter-date-fns Contributors
   * Released under the MIT license
   *)

@lit/reactive-element/css-tag.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/reactive-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-element/lit-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/custom-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/property.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/state.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/base.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/event-options.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/query.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/query-all.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/query-async.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/query-assigned-elements.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/query-assigned-nodes.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directive.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directive-helpers.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/repeat.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/live.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/async-directive.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/ref.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/class-map.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/unsafe-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/is-server.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@material/mwc-icon/mwc-icon-host.css.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-LIcense-Identifier: Apache-2.0
   *)

@material/mwc-icon/mwc-icon.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)

js-cookie/dist/js.cookie.mjs:
  (*! js-cookie v3.0.5 | MIT *)
*/;
